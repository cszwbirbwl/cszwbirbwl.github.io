/*! For license information please see index.759bdd5b373f3b1d7925.js.LICENSE.txt */
(()=>{var e,t,n={4673:e=>{e.exports=[{key:"maxHp",display:(e,t)=>`生命值 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>2*e,range:e=>1,hooks:{maxHpAdd:(e,t)=>t+e}},{key:"maxMp",display:(e,t)=>`法力值 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>2*e,range:e=>1,hooks:{maxMp:(e,t)=>t+e}},{key:"hpRecovery",display:(e,t)=>`生命恢复 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate(e){const t=e>400?e-400:0,n=Math.min(400,e);return(.075*n+.1)*(1+.028113*n)+.55*t},range:e=>1,hooks:{hpRecovery:(e,t)=>t+e}},{key:"mpRecovery",display:(e,t)=>`法力恢复 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate(e){const t=e>400?e-400:0,n=Math.min(400,e);return(.075*n+.1)*(1+.028113*n)+.55*t},range:e=>1,hooks:{mpRecovery:(e,t)=>t+e}},{key:"atk_self",display:(e,t)=>`攻击力 + ${Math.ceil(e*(1+t/10))}`,validPositions:["weapon","assistant","ornament"],generate:e=>e/2,range:e=>1,hooks:{atk_self_Add:(e,t)=>t+e}},{key:"critR_level",display:(e,t)=>`暴击 + ${Math.ceil(e*(1+t/10))}`,generate:e=>1.5*e,range:e=>1,hooks:{critRLAdd:(e,t)=>t+e}},{key:"critB_level",display:(e,t)=>`暴击伤害 + ${Math.ceil(e*(1+t/10))}`,generate:e=>2.25*e,range:e=>1,hooks:{critBLAdd:(e,t)=>t+e}},{key:"leech",display:(e,t)=>`生命汲取 + ${Math.ceil(e*(1+t/10))}`,validPositions:["weapon","assistant","ornament"],generate(e){const t=e>400?e-400:0,n=Math.min(400,e);return(.075*n+.1)*(1+.028113*n)+.55*t},range:e=>1,hooks:{leech:(e,t)=>t+e}},{key:"def",display:(e,t)=>`物理防御 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>3*e,range:e=>1,hooks:{defselfAdd:(e,t)=>t+e}},{key:"allResist",display:(e,t)=>`元素抗性 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>3*e,range:e=>1,hooks:{allResAdd:(e,t)=>t+e}},{key:"str",display:(e,t)=>`力量 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>e,range:e=>1,hooks:{strAdd:(e,t)=>t+e}},{key:"dex",display:(e,t)=>`敏捷 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>e,range:e=>1,hooks:{dexAdd:(e,t)=>t+e}},{key:"int",display:(e,t)=>`智力 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>e,range:e=>1,hooks:{intAdd:(e,t)=>t+e}},{key:"sta",display:(e,t)=>`耐力 + ${Math.ceil(e*(1+t/10))}`,weight:1.5,generate:e=>e,range:e=>1,hooks:{staAdd:(e,t)=>t+e}},{key:"missing",display:(e,t)=>`闪避 + ${Math.ceil(e*(1+t/10))}`,validPositions:["plastron","gaiter","ornament"],weight:.5,generate:e=>1.5*e,range:e=>1,hooks:{missing:(e,t)=>t+e}},{key:"block",display:(e,t)=>`格挡 + ${Math.ceil(e*(1+t/10))}`,validPositions:["weapon","assistant","ornament"],weight:.5,generate:e=>1.5*e,range:e=>1,hooks:{block:(e,t)=>t+e}}]},4786:(e,t,n)=>{e.exports=[...n(4673),...n(2880)]},2880:e=>{e.exports=[{key:"meleeAbsorb",display:e=>`物理吸收 + ${Math.round(e/10)}%`,display:(e,t)=>`物理吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{meleeAbsorb:(e,t)=>t+e/1e3}},{key:"fireAbsorb",display:(e,t)=>`火焰吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{fireAbsorb:(e,t)=>t+e/1e3}},{key:"coldAbsorb",display:(e,t)=>`寒冷吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{coldAbsorb:(e,t)=>t+e/1e3}},{key:"lightningAbsorb",display:(e,t)=>`闪电吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{lightningAbsorb:(e,t)=>t+e/1e3}},{key:"lightAbsorb",display:(e,t)=>`神圣吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{lightAbsorb:(e,t)=>t+e/1e3}},{key:"darkAbsorb",display:(e,t)=>`暗影吸收 + ${Math.ceil(e*(1+t/10)/10)}%`,minLevel:200,weight:.5,validPositions:["ornament"],generate:e=>e,range:e=>1,hooks:{darkAbsorb:(e,t)=>t+e/1e3}},{key:"lucky",display:(e,t)=>`运气 + ${Math.ceil(e*(1+t/10))}`,validPositions:["ornament"],generate:e=>1.5*e,range:e=>1,hooks:{mf:(e,t)=>t+e/100,gf:(e,t)=>t+e/100}},{key:"dmgLevel",display:(e,t)=>`物理伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{dmgAdd:(e,t)=>t+Math.round(e/15)/100}},{key:"firedmgLevel",display:(e,t)=>`火焰伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{fireDmgadd:(e,t)=>t+Math.round(e/15)/100}},{key:"colddmgLevel",display:(e,t)=>`寒冷伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{coldDmgadd:(e,t)=>t+Math.round(e/15)/100}},{key:"lightningdmgLevel",display:(e,t)=>`闪电伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{lightningDmgadd:(e,t)=>t+Math.round(e/15)/100}},{key:"darkdmgLevel",display:(e,t)=>`暗影伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{darkDmgadd:(e,t)=>t+Math.round(e/15)/100}},{key:"lightdmgLevel",display:(e,t)=>`神圣伤害 + ${Math.ceil(e*(1+t/10)/15)}%`,minLevel:100,weight:.5,validPositions:["weapon","assistant","ornament"],generate:e=>1.5*e,range:e=>1,hooks:{lightDmgadd:(e,t)=>t+Math.round(e/15)/100}}]},1484:e=>{e.exports={version:"2025.12.4",description:"永夜玩家交流QQ群：614658451，欢迎加入了解最新永夜资讯。\n请各路魔改版本/MOD作者保留上述群号，谢谢。\n\n保命声明：\n此魔改版本的作者为不务正业以及从未正经学过计算机的业余爱好者，烂尾、bug、瞎鸡儿改一切皆有可能，务必要有心理准备。\n根据老白大佬的指导意见，正式更名为“永夜之开局一把剑”。\n\n①网页版\n网页版传送门1\nhttps://cszwbirbwl.github.io\n网页版传送门2\nhttps://cszwbirbwl-github-io.pages.dev\n\n\n更新说明\n2025.12.4\n1.感谢大佬“再见330”的支持，新增装备“满仓战衣”。\n2.修复了“神降术”、“开源节流”、“魔力激化”等生效不正确的bug。\n3.修复了“EX咖喱棒”会计算两次神圣伤害加成的bug，正确的计算方式应当是物理伤害加成的基础上额外计算25%的神圣伤害加成。\n4.修复了圣骑士穿戴装备获得的力量、智力属性不正确的bug。\n5.调整了各部分装备可能出现的属性。\n①生命值、法力值、生命恢复、法力恢复、暴击、暴击伤害、物理防御、元素抗性、四维：不限\n②攻击力：主手、副手、首饰\n③生命汲取：主手、副手、首饰\n④闪避：上身、下身、首饰\n⑥格挡：主手、副手、首饰\n⑦伤害吸收：首饰\n⑧伤害加成：主手、副手、首饰\n⑨运气：首饰\n\n\n2025.11.30\n1.在图鉴中注明了特殊装备的获取途径；盲盒仅可以获取注明为“不限”的装备。\n2.附魔功能被强化功能替代，强化消耗极大且无法继承、转移。\n3.新掉落的装备均为满值属性，已掉落的装备即便显示的数值非满值也不影响实际加成，或者强化一次即可正确显示。\n4.重铸消耗的货币从神力调整为金币。\n5.修复了触发释放的技能不会享受技能等级加成的bug，自身无法掌握的技能除外。\n\n2025.11.29\n1.黑市之所以是黑市，一切都是有原因的。\n2.调整了部分被动技能的效果，剑仙不再。\n\n2025.11.28\n1.新口令“砸瓦鲁多”。\n\n2025.11.26\n1.完成了部分职业的合并，被合并职业的角色会重置为最初的职业;职业合并可能会导致部分角色无法开始游戏，刷新后修复异常即可。\n2.圣骑士、拳法宗师、黑暗君主做了临时性的调整，以应对下次的调整，下次一定。\n3.一定会有新bug，等群内反馈。\n\n2025.11.20\n1.增加了“甜味药剂”，效果为提升遇怪速度（包括副本）。\n实际遇怪速度=设定速度/（1+甜味药剂效果）。\n2.副本“洞窟深处”在保持价格和掉落不变的情况下，可以批量购买了。\n\n2025.11.18\n1.增加了独立的格挡属性，格挡可以减少伤害且格挡后的伤害无法暴击。\n2.调整了与格挡相关的部分技能的效果。\n3.增加了格挡、闪避的附魔属性。\n4.提高了守护者部分伤害技能的防御加成。\n5.增加了新的副手武器。\n\n2025.11.12\n1.增加了无尽噩梦钥石转化的功能。\n\n2025.11.2\n1.吸收上限提高到了95%，首饰位值得更好的选择，报纸壳壳等一众只配成为时代的眼泪。\n2.去除了防御和抗性的上限，但角色面板因省略了小数，最高仅能显示99.99%。\n3.在黑市（原创世神商店）中增加了“装备图鉴”功能，可鉴赏大部分特殊装备，但具体属性以实际掉落为准。\n\n2025.10.30\n1.解决了副本队列卡顿的问题，同时也引入了新的bug。\n\n2025.1.3\n1.增加了上传、下载存档的功能，想不到吧？但无法保证在存档内容较大的情况下也能成功上传、下载。\n\n2024.9.17\n1.修复了无法创建角色的bug。\n\n2024.9.14\n1.永久解决了意外2438的问题，同时也生成了全新的bug。\n\n2024.9.3\n1.去除了角色数量的限制，但真不太建议。\n\n2024.8.19\n1.降低了钥石扫荡的神力消耗。\n2.降低了附魔的金币消耗。\n\n2024.8.18\n1.去除了大部分技能的等级上限。\n2.经验、训练药剂的等级上限提高到10000级。\n3.无尽噩梦支持扫荡了，但很贵；扫荡只能获得同等掉落的随机四件装备、经验值、钥石，无法获得红包等其他物品。\n\n2024.8.13\n1.提高了厨艺分项的等级上限。\n2.增加了新的药剂。\n3.提高了厨艺>10000级、炼金>1000级时升级厨艺、炼金所需的经验值。\n4.“职业”页面中新增了重置职业的功能，等个胆大的小白鼠。\n\n2024.8.12\n1.新的口令“诈尸了”。\n2.调整了超模的“冰之哀伤”以及个别特殊装备的效果。\n3.运气药剂的等级上限调整为200级，知识药剂、训练药剂的等级上限调整为20级，下次一定加入重置厨艺、炼金并返还精粹的功能。\n4.急速药剂的等级上限调整为50级，每级效果调整为“急速+2%”。\n5.因为存档大小的限制，现在只有在角色数量小于10个的情况下才可以创建新角色。\n6.时间太久了，一定会有新的bug自己冒出来。\n\n2024.7.7\n1.为满足某大佬的挑战需求，设计了船新版本的一把剑。\nhttps://csztest.pages.dev\n\n2024.7.5\n1.史莱姆果冻的等级上限提高到9999级。\n2.噩梦狼王、卡卡列夫不再召唤小弟，而是在地图中直接刷新，小弟数量上限为15个。\n3.提高了综合等级差的效果，每相差1级，造成的伤害提高1.5%。\n4.上调了守护者部分技能的伤害；下调了“猪突猛进”的效果。\n5.调整了被动技能“磁暴”的效果。\n6.调整了主动技能“破甲击”的效果\n7.长剑也可以附魔智力属性了。\n8.时间太久了，可能会有新的bug自己冒出来。\n\n2024.6.22\n1.重置了所有角色的噩梦最高层数。\n2.根据角色自身的噩梦通关层数，每层经验加成、熟练度加成+5%、运气+20%，仅对当前角色生效。\n3.根据所有角色中的最高噩梦通关层数，每层+5%精粹经验值，对所有角色生效。\n\n2024.6.20\n1.重置了角色的巅峰等级，并调整了升级所需的经验。\n2.通关噩梦副本获得的经验不会随着噩梦层数的提升而提升了。\n3.噩梦及噩梦以上的目标等级均视为100级。\n\n2024.6.19\n1.综合等级大于目标等级时，每相差1级，造成伤害提高1%（无上限），受到的伤害减少0.5%（上限95%）；综合等级低于目标等级则无影响。\n\n2024.6.18\n1.调整了生命恢复、法力恢复、生命汲取的附魔上限，但不会对已有的装备产生影响。\n2.下调了噩梦boss的生命值。\n3.增加了“恢复药剂”，上限25级。\n4.综合等级=角色等级+巅峰等级。\n5.修复了“点燃”实际每层伤害远高于面板伤害的bug。\n6.小号（Lv≤50）限制删除的设定又回来了。\n7.导出的存档将不会记录所有角色的地图、副本队列数据了；背包物品和角色的数量会决定存档的大小，如果存档太大，建议手动清理仓库、背包。\n\n2024.6.14\n1.调整了元素法师系列、圣骑士、焚天的部分主动、被动技能效果。\n\n2024.6.13\n1.口令“还能抢救一下”，等2438了再用，2次机会。\n\n2024.6.12\n1.提高了“粽子”提供的经验。\n2.现在可以导入/导出存档了，但不保证一定成功。\n3.导入存档的cd为12小时。\n4.游戏总时长（包括离线）小于5天无法使用导入功能，不如重开。\n\n2024.6.9\n1.“端午安康”。\n2.增加新的道具“粽子”（rate: 0.0003），6.9-6.12期间掉落几率为2倍。\n\n2024.6.6\n1.调整了“剑术专精”的效果。\n2.尽快拆解带有乱码的“血舞护胸”，以免回档、丢档。\n\n2024.6.5\n1.装备所携带的技能Lv提升效果将不会直接在技能面板上显示了。\n\n2024.6.4\n1.“六一盲盒”改名为“盲盒”，并加入日常掉落（rate: 0.00002），盲盒(伪)可以滚啦。\n2.“百鬼之王·卡隆”下线了，并在原地留下了一个投影。\n\n2024.5.30\n1.“六一儿童节快乐！”。\n2.6月1日-6月2日，有极小概率掉落新的道具“六一盲盒”。\n3.打开红包后获得的精粹数量提高至5-8个。\n4.现在敏捷属性可以为“魔剑士”、“宗师”提供额外的急速属性了。\n魔剑士：每150点敏捷增加1%急速，上限20%。\n宗师：每100点敏捷增加1%急速，上限30%。\n5.修复了噩梦副本掉落不正确的bug。\n6.下调了年兽副本的难度。\n7.角色不会被殴打至“昏迷”了，而是“重伤”。\n8.“血魔”、“焚天”的暴击、暴伤属性来源从“力量”调整为“敏捷”。\n9.新增了“血魔护胸”，来自大佬“再见330”。\n\n2024.5.28\n1.为法师增加了几个奇怪的被动技能。\n\n2024.5.27\n1.血魔：调整了“沸血”的技能效果。\n2.焚天：调整了“曜日”、“冰凝”、“共舞”的技能效果，新增了被动技能“戏火”、“刺骨”。\n3.现在武器也可以重铸耐力属性了。\n\n2024.5.26\n1.部分特殊装备上用“[]”标明了变量的最大值。\n\n2024.5.25\n1.增加了简单的掉落提示，仅作为对掉落装备的说明，具体推图能力仍取决于各职业的优势、劣势。\n2.母体史莱姆不再掉落“史莱姆之心”，更换为练功四件套（来自大佬“烂人”），合计掉落几率约为5%。\n3.调整了特殊装备“方向盘”的效果，仅装备“方向盘”时的效率与之前一致。。\n4.新增特殊装备“肌肉大脑”，来自大佬“烂人”。\n5.新增特殊装备“天启圣光”，来自大佬“寒玉仁心”。\n\n2024.5.24\n1.调整了“雨之都卡格西”、“四骑士圣殿”、“未知暗殿”的难度。\n2.调整了“年兽的脚掌”的效果。\n3.尝试为艾尔新增了两个被动技能。\n\n2024.5.22\n1.增加了“年兽的小腿骨”、“年兽的脚掌”。\n2.调整了“火球术”、“闪电”、“水箭术”的习得等级；新增了水系法术“潮汐”。\n3.圣骑士现在可以穿戴布甲了；穿戴重甲、布甲时分别可以额外获得力量、智力属性，穿戴轻甲则可以同时额外获得一半的力量和智力属性。\n\n2024.5.20\n1.为大部分特殊装备设定了最低掉落等级，所以洞窟深处掉落鲱鱼干和方向盘的几率相对变大了。\n2.修复了“冰之哀痛”伤害不正确的bug。\n3.现在删除角色不受等级限制了。\n4.为“厨艺”、“炼金”增设了批量升级的按钮，但请注意批量升级没有防呆机制。\n5.启用了口令“我真的是萌新”，使用前请确保背包至少有三个空格。\n\n2024.5.19\n1.调整了“连斩姿态”的效果。\n2.提高了“元素法师”系列大多数技能的伤害（有点多，麻烦自己翻翻）。\n3.调整了“圣骑士”大多数技能的效果（有点多，麻烦自己翻翻）。\n\n2024.5.18\n1.调整了“魔法铠甲”的效果，生效顺序依次为寒冰护盾-魔法盾-护身戒指-魔法铠甲。\n2.调整了“法力转化”的效果。\n3.暂时去除了“厨艺”和“炼金”的降级按钮。\n4.现在即便已经穿戴了不符合穿戴条件的装备，也无法获得属性加成和装备特效了，完成转职后务必尽快更换装备。\n5.误删的隐藏职业现在可以再次登场了。\n6.大家心心念念的钥石购买功能终于上线，但洞窟深处仍未通网。\n7.今天并没有新的口令。\n\n2024.5.16\n1.热心网友“狸狸”为大家提供了一条新的口令“支持ENTP做0”。\n\n2024.5.15\n1.启用了口令“我是萌新”、“浙江泽商律师事务所”。\n\n2024.5.14\n1.“帝国金库”已经恢复运营，听说在金库门口喊几声“没有蛀牙！”，马上就会有卫兵来揍你。\n2.减少了购买角色栏位的神力需求。\n\n2024.5.13\n1.调整了各系伤害的附魔词缀。\n2.新建文件夹，重命名为“打码-打码-打码-师”。\n\n2024.5.12\n1.提高了“火球”、“闪电”、“水箭术”的伤害。\n2.修复了龙盾特效触发不正确的bug，龙盾的最低等级要求调整为40级。\n\n2024.5.11\n1.现在可以选择打开红包的数量了。\n\n2024.5.10\n1.已经对我们亲爱的光明骑士莱特实施了制裁。\n2.为守护者精心打造了两把新武器。\n3.“炎龙吐息”的冷却时间减少至30秒。\n\n2024.5.9\n1.新增了特殊装备“火之高兴”、“冰之哀痛”。\n2.如果装备描述不能完全显示，尝试上下滚动/滑动一下看看。\n3.“魔法盾”的冷却时间增加至15秒。\n\n2024.5.8\n1.五一活动结束，该好好上班了。\n2.“威能圣殿”的效果调整为增加全属性伤害+25%。\n3.新增了“装备圣殿”，点击后有25%几率获得一件随机品质、品级的装备。\n4.新增了“精粹圣殿”，点击后获得少量精粹。\n5.新增了“欢愉圣殿”，拿到红包的你怎么不开心啊，是红包还不够多吗。\n6.现在特殊装备有独立的装备品级筛选了。\n7.等级低于80级的角色无法删除了。\n\n2024.5.6\n1.特殊装备不再受装备品级筛选的影响了。\n2.“盾击”回到了它该有的位置上。\n\n2024.5.5\n1.修改了负防、负抗性的效果，当防御、抗性小于0时，每减少250点防御、抗性，受到的伤害增加1%。\n2.调整了部分降防、减抗技能的效果。\n3.调整了时间戳的验证机制。\n\n2024.5.3\n1.迟来的五一节活动，意思意思。\n装备（不包括副本）、红包、钥石掉率×2，史莱姆刷起！\n获得的经验值、熟练度×2\n2.去除了一部分物品的“出售”按钮，新增了“拆解”按钮。\n3.修改了部分重复的技能名称。\n4.增加了特殊装备“信心”，种类为布甲下装。\n5.修复了“复仇”技能经验值错误的bug。\n6.删除了失效的烹饪。\n\n2024.4.25\n1.修改了“盾压”的技能效果，“盾击”暂时无变化。\n2.增强了“防御戒指”的效果。\n3.合并了部分烹饪的效果，失效的烹饪将再下一次更新时删除。\n4.调整了各职业的四维加成。\n\n2024.4.23\n1.降低了绝大多数敌对单位的生命值。\n\n2024.4.18\n1.增加了特殊装备“杰哥的眼镜”，来自大佬“你犯天条了知道吗？”。\n2.增加了特殊装备“兄弟的酒”，来自大佬“缺盐的咸鱼”。\n3.增加了特殊装备“舍友的丝袜”，来自大佬“无关风月”。\n4.“火球术”减少了0.5秒的施法时间。\n5.增加了新职业“水魄”、“冰魂”。\n6.现在每点力量可以为“魔剑”、“焚天”额外增加相应的火焰、寒冷伤害了。\n\n2024.4.16\n1.增加了最最基础的DPS统计功能，日后再优化。\n\n2024.4.12\n1.修复了反伤刺甲、攻速暴击腿甲目标不正确的bug。\n2.增加了新的特殊装备“幽影斗篷”。\n3.真实伤害不会再被护盾所吸收了，血魔警告。\n4.调整了元素法师个别技能的等级要求。\n5.新增了三转“电主”、“雷神”。\n\n2024.4.11\n1.修复了鱼人祭祀伤害过高的bug。\n2.调整了被动技能“坚韧”的效果。\n3.调整了主动技能“元素化”的效果,使其更像是一个爆发技能。\n4.经验圣殿的效果对技能熟练度也能起作用了。\n5.现在各类伤害属性将不会出现在装备品级100以下的装备上。\n6.根据风月无关大佬、无聊大佬的建议，增加了新的特殊装备“方向盘”。\n7.根据秃驴大佬的建议，增加了新的特殊装备“护身戒指”、“麻痹戒指”、“防御戒指”。\n\n2024.4.10\n1.默认的拾取规则更改为：普通-出售、优秀-出售、精良-分解、史诗-分解、传说-拾取。\n2.圣殿增益的持续时间延长到60秒。\n3.新增了三转“赤焰”、“青火”，待集齐法师三转后上传最终安装包。\n\n2024.4.9\n1.上调了通过后副本获得的经验值。\n2.增加了经验值补偿机制，未满级的角色将获得更多的经验值，鲱鱼干的效果将不再显示在面板上。\n\n2024.4.8\n1.降低了因等级差产生的经验值惩罚，获得的经验值将至少保留10%。\n2.提高了刷新圣殿的效率，增加了“经验圣殿”。\n\n2024.4.7\n1.掉落的低级副本钥石将直接转化为副本次数，已经掉落的钥石仍然可以使用，解放可怜的包包。\n2.现在野外的小怪秒刷了，难度明显提高，但掉落也更多了。\n3.加快了个别副本的进度。\n4.隐藏职业“黑暗君主”现在可以兼用“长剑”类武器，且“太刀”不会出现在200品级以下的装备中了。\n5.增加了两件新的特殊装备，详见EXCEL。\n\n2024.4.6\n1.现在通关副本（不包括噩梦、年兽）后将有5次掉落机会，包括武器2次，上衣1次，下装1次，首饰1次，但拆解装备获得的神力也减少了。\n2.重铸消耗再次减半，各类装备可重铸的属性详见EXCEL。\n3.降低了大部分副本的难度。\n4.感恩云轩大佬，现在转职将保留等级和装备了。\n\n2024.4.5\n1.现在可以体验“水之使徒”职业了。\n2.为刀客增加了新的三转职业。\n3.增加了几件新的特殊装备和专属掉落，且特殊装备的掉率×2.5。\n4.新建了“元素法师”三转的文件夹。\n\n2024.4.3\n1.提高了战士系列武器的基础攻击力。\n2.现在每点力量可以为艾尔额外增加1点物理伤害。\n3.削弱了“法力转化”的效果，提高了“和弦”和“魔力激化”的效果。\n4.修正了法师技能等级的错误加成，这一刀法师削大了。\n5.减少了“守护者之魂”的冷却时间，且不需要读条了。\n6.削弱了“昏迷”效果相关的所有技能，且“昏迷”期间可以正常触发技能(包括且不限于被动技能荆棘以及格挡、防御之后触发的技能)。\n7.现在装备上可以重铸出物理、火焰、寒冷、闪电、黑暗影伤害的属性了。\n8.现在可以体验“雷之使徒”职业了。\n\n2024.4.2\n1.现在可以体验“火之使徒”职业了。\n\n2024.4.1\n1.守护者喜提加强，至少比以前强。\n2.旋风斩、重斩喜提加强。\n3.现在耐力会为艾尔提供额外的生命恢复了。\n4.修复了旧bug，并更新了新的bug们。\n\n2024.3.30\n1.钥石掉率×1.5，红包掉率×1.5。\n2.可怕的双前缀敌人遭到削弱，但是增加了增益前缀和减益前缀各两个。\n3.现在噩梦副本将掉落随机品质等级的装备了。\n4.添加了部分角色、职业的简介。\n\n2024.3.29\n1.现在可以正常掉落法杖类武器了，并且添加了一款特殊装备。\n2.现在可以体验“元素法师”职业了。\n3.现在角色如果不幸战败，将于20秒后在原地满状态归来。\n4.修复了旧bug，并更新了新的bug们。\n\n2024.3.27\n1.优化了一部分的技能描述。\n2.现在所有单位的物理防御和抗性属性最多只能减少75%的伤害，角色的吸收属性最多吸收75%的伤害。\n3.急速属性的上限调整为300%。\n4.“艾冯十世·普洛·麦克斯”大佬为大家定制了贼强贼强的隐藏职业，提示：庇护所773号的死灵法师奈布最近皮有点痒。\n5.这一波强化的是谁？是魔剑的“炎铠”。\n6.噩梦地图的敌人以及年兽再次遭到削弱。\n7.现在只有200品质以上的防具、首饰才可以重铸出吸收属性了。\n8.“报纸壳壳”一众七兄弟大大加强。\n9.年兽装备的款式增加了。\n\n2024.3.24\n1.现在可以支持负值的防御和抗性了，负值越大则受到的伤害越高；但因为受到了创世神艾尔的庇佑，你的防御和抗性最多减少到0。\n2.现在部分敌人将拥有负值的防御或者抗性，不过苟有所长（短）也必有所短（长），请尽量选择合适的属性伤害。\n3.减少了附魔、重铸的材料、神力消耗。\n4.感谢“云轩”大佬的指导，现在的背包更大了。\n\n2024.3.22\n1.噩梦、年兽的敌人全都惨遭削弱。\n\n2024.3.21\n1.幽暗的货仓、睡美人湖、噩梦巨人国度的敌人惨遭削弱。\n2.因为生存环境遭到破坏，你在副本（洞窟深处-森林深处）中遇到的敌人数量减少了很多。\n3.你被强化了，现在每1点耐力可以提供物理防御及所有抗性各1点，快上！\n4.“守护者”的被动技能“荆棘”效果调整。\n5.感谢“艾冯十世·普洛·麦克斯”大佬的支持，“无敌斩”正式更名为“吴迪斩”，并添加了防打断效果（但并不知道是否有效）。\n\n2024.3.20\n1.混乱元素之塔的敌人惨遭削弱。\n\n2024.3.18\n1.红包现在最高只能开出200品质等级的装备了。\n2.蓝装（优秀）现在不能拆解了，而且“不提示拆解高品质物品”将默认勾选，装备且拆且珍惜。\n3.森林三兄弟也有专属装备了。\n4.长剑和砍刀的基础属性调整，相信不再刮痧。\n5.可以体验魔法学徒的部分技能了，但仍然不会掉落任何相关的装备。\n\n2024.3.17\n1.修复了“守护者”技能学习等级错误的bug，但不影响已经携带的技能。\n2.“剑斗士”已经太强了，我们来削弱一下“守护者”吧。\n\n2024.3.16更新说明\n1.意外建立的“亚莲娜”角色可以（必须）删除了，让她再多学一点新技能再加入战斗。\n2.主动、被动技能的携带数量调整，以便于低级角色练级。\n3.武器、首饰的附魔增加“生命汲取”属性。\n4.增加了“刀客”职业，以及相应的武器“砍刀”。\n5.技能经验值调整为原版标准，先练技能的兄弟有福了。\n6.现在每一种非boss召唤的小怪都能掉落钥石了，掉率均为0.001。\n7.红包掉率翻倍，小怪为0.0002，BOSS为0.2。\n8.红包可以正常开出年兽巢穴钥石和年兽的心脏了。\n9.附魔属性“生命值”下调为每品质等级1-2点生命值，但不影响已经掉落的装备。\n10.卡卡列夫也有专属装备了。\n11.微调了“重斩”、“炎龙吐息”的技能效果。\n12.修复旧bug，并更新了新的bug们，实在不行就回滚一个版本。\n\n\n2024.3.13 更新说明\n1.为“艾尔”设定了全新的职业、技能：\n  ①当等级达到15级且任意角色完成“迷雾森林”首通时，开启第一次转职；\n  ②当等级达到35级且任意角色完成“庇护所773号”首通时，开启第二次转职；\n  ③部分职业在等级达到80级且任意角色完成“未知暗殿”首通时，开启第三次转职；\n  ④暂时禁用“刺客”、“圣骑士”职业。\n  ⑤在转职时请务必要完整阅读提示，以避免不必要的损失。\n2.暂时禁用角色“亚莲娜”。\n3.角色的等级、携带技能数量调整。\n4.拆解装备获得的各种碎片整合为“奇怪的精粹”。\n5.调整附魔功能：新的附魔不会让装备的属性下降，但随数值的提高，附魔的成功率会降低。\n6.暴击几率的上限调整为100%。\n7.基础生命恢复调整为1/s，再也不会被史莱姆们暴捶了。\n8.所有伤害技能的基础命中率调整为100%。\n9.主动技能的等级上限调整为50级。\n10.装备的基本类型调整：\n  ①武器：长剑、剑盾；\n  ②上衣：锁子甲（重甲）、骨甲（轻甲）；\n  ③下装：锁链靴（重甲）、骨靴（轻甲）；\n  ④首饰：秘银指环。\n11.四维加成调整：\n\t每1点力量增加：物理伤害+1，物理防御+1；\n    每1点敏捷增加：暴击等级+1，暴伤等级+1，闪避值+1；\n\t每1点智力增加：元素伤害+1，元素抗性+1；    \n    每1点耐力增加：生命值+5，物理防御+0.5，元素抗性+0.5；\n\t因为重做了数值，所以睡几天仍然打不过一个BOSS是件很正常的事情。\n12.原“炼金”功能拆分为“厨艺”和“炼金”。\n"}},4130:(e,t,n)=>{function r(e){const t={};for(const n of e)t[n.key]=n;return t}e.exports={careers:r(n(8627)),roles:r(n(1725)),maps:r(n(3663)),enemies:r(n(9580)),skills:r(n(5218)),goods:r(n(4058)),passives:r(n(5034)),enhances:r(n(787)),buffs:r(n(1990)),affixes:r(n(4786)),enemyAffixes:r(n(1862)),stories:r(n(4589)),legends:r(n(118)),producers:n(8531),upgrades:n(9818),medicines:r(n(206)),cookings:r(n(7586))}},221:e=>{e.exports=[{key:"lwfd_buff",hidden:!0,hooks:{critRateAdd(e){return e+Math.min(this.arg[0]*this.arg[1]/100,.25)}}}]},6986:e=>{e.exports=[{key:"kakarif.mad",name:"狂热",hooks:{atkSpeedMul:e=>4}},{key:"ghostShield",name:"幽魂护盾",hooks:{willDamaged:(e,t,n)=>"real"===n?e:1}},{key:"murloc.thumpHead",name:"鱼人大军",effectInterval:500,effect(e){e.addEnemy("chapter3.murloc.army",null,0,this.unit)}},{key:"murloc.waterShield",name:"水泡护盾",hooks:{absorbed(e){const t=this.arg,n=Math.min(e,t);return this.arg-=n,this.arg<=.001&&this.over(),e-n}}},{key:"fishzilla.focus",name:"奥术射线",hidden:!0,didAppear(){this.unit.target&&(this.targetBuff=this.unit.target.addBuff("fishzilla.focused"))},willRemove(){this.targetBuff&&(this.targetBuff.unit.removeBuff(this.targetBuff),this.targetBuff=null)}},{key:"fishzilla.focused",name:"奥术射线",notSave:!0,hooks:{willDamaged:(e,t)=>2*e}},{key:"nynnroth.shield",name:"定海",hooks:{willDamaged:(e,t,n)=>"cold"===n?e/10:e}},{key:"enemy.upgrade",hidden:!0,hooks:{atkAdd:e=>e+.1}},{key:"wolf.worry",name:"撕咬",effectInterval:2e3,effect(e){e.sendDamage("melee",null,this.unit,null,this.arg)}},{key:"enemy.evil.reading1",name:"精神鞭笞",effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?e.sendDamage("dark",t,n,this.skill,.2*t.atk):t.removeBuff(this)}},{key:"enemy.evil.control",name:"精神控制",didAppear(){this.unit.setCamp("enemy")},willRemove(){this.unit.setCamp("alien")}},{key:"shamansa.spew",name:"呕吐",effectInterval:500,effect(e){e.addEnemy("chapter5.woodElf.arms",null,0,this.unit)}},{key:"rosa.angry",name:"狂热",hooks:{atkSpeedMul:e=>4}}]},1990:(e,t,n)=>{e.exports=[...n(221),...n(6107),...n(6986),...n(7877),...n(5677),...n(5244),...n(1240),...n(2129),...n(5954),...n(8215)]},5677:e=>{e.exports=[{key:"knight.shieldReflect",name:"盾牌反射",description:"反射所有法术伤害",hooks:{shieldReflect(e,t){return"melee"!==t&&"real"!==t?this.arg:0}}},{key:"knight.deserve",name:"奉献",effectInterval:2e3,effect(e){const{unit:t,arg:n}=this;if(!t)return;const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:s=0,critBonus:a=1.5}=t;i.forEach((n=>{const i=r*(.2*Math.random()+.3);e.sendDamage("melee",t,n,this.skill,i)}))}}]},2129:e=>{e.exports=[{key:"skill2_buff",hidden:!0,hooks:{dmgAdd(e){const t=this.unit;return e+this.arg+(t.runAttrHooks(!1,"pal_enhance5")?.1:0)+(t.runAttrHooks(!1,"pal_enhance3")?.1:0)},skill2_buff:()=>!0}},{key:"skill3_buff",hidden:!0},{key:"skill4_buff",hidden:!0,hooks:{skill4_buff:()=>!0}},{key:"skill5_buff1",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.int*(.08*this.arg+1)/10;e.sendDamage("fire",t,n,null,r*(.9+.2*Math.random())),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill5_buff2",null,t.player.getSkillLevel("paladin_skill16"))}t.addBuff("skill5_buff3",1005,this.arg,"skill5_buff3")}},{key:"skill5_buff2",hidden:!0,hooks:{fireResist(e){return e-this.arg}}},{key:"skill5_buff3",hidden:!0,hooks:{fireAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance2")?.1:0)},skill5_buff:()=>!0,willDamage(e,t,n,r){const i=this.unit;if("melee"===n){const e=i.runAttrHooks(!1,"pal_enhance10")?1.25:1;r.sendDamage("fire",null,t,"火曜",i.int*(.5+.03*this.arg)*e)}return e}}},{key:"skill8_buff",hidden:!0,hooks:{willDamaged(e,t,n){return"fire"===n||"cold"===n||"lightning"===n?e*(1+this.arg):e}}},{key:"skill9_buff1",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.int*(.08*this.arg+1)/10;e.sendDamage("cold",t,n,null,r*(.9+.2*Math.random())),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill9_buff2",null,t.player.getSkillLevel("paladin_skill16"))}t.addBuff("skill9_buff3",1005,this.arg,"skill9_buff3")}},{key:"skill9_buff2",hidden:!0,hooks:{coldResist(e){return e-this.arg}}},{key:"skill9_buff3",hidden:!0,hooks:{coldAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance6")?.1:0)},skill9_buff:()=>!0,willDamage(e,t,n,r){const i=this.unit;if("melee"===n){const e=i.runAttrHooks(!1,"pal_enhance10")?1.25:1;r.sendDamage("cold",null,t,"霜冻",i.int*(.5+.03*this.arg)*e)}return e}}},{key:"skill11_buff",hidden:!0,hooks:{missing(e){const t=this.unit;return e+Math.round(.25*t.level*this.arg)},missrate(e){return e-(this.unit.runAttrHooks(!1,"pal_enhance3")?.1:0)},critRLAdd(e){const t=this.unit;return e+Math.round(.5*t.level*this.arg)},critRateAdd(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance5")?.1:0)},skill11_buff:()=>!0}},{key:"skill12_buff",hidden:!0,hooks:{allResselfAdd(e){const t=this.unit;return e+Math.round(.25*t.level*this.arg)},blockrate(e){return(.1+this.unit.runAttrHooks(!1,"skill2_buff")?.1:0)+e},allAbsAdd(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance3")?.2:0)},skill12_buff:()=>!0}},{key:"skill13_buff1",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.int*(.08*this.arg+1)/10;e.sendDamage("lightning",t,n,null,r*(.9+.2*Math.random())),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill13_buff2",null,t.player.getSkillLevel("paladin_skill16"))}t.addBuff("skill13_buff3",1005,this.arg,"skill13_buff3")}},{key:"skill13_buff2",hidden:!0,hooks:{lightningResist(e){return e-this.arg}}},{key:"skill13_buff3",hidden:!0,hooks:{lightningAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance12")?.1:0)},skill13_buff:()=>!0,willDamage(e,t,n,r){const i=this.unit;if("melee"===n){const e=i.runAttrHooks(!1,"pal_enhance10")?1.25:1;r.sendDamage("lightning",null,t,"雷冲",i.int*(.5+.03*this.arg)*e)}return e}}},{key:"skill14_buff1",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.int*(.08*this.arg+1)/10;e.sendDamage("light",t,n,null,r*(.9+.2*Math.random())),t.runAttrHooks(!1,"pal_enhance1")&&n.addBuff("skill14_buff2")}t.addBuff("skill14_buff3",1005,this.arg,"skill14_buff3")}},{key:"skill14_buff2",hidden:!0,hooks:{lightResist:e=>e-25}},{key:"skill14_buff3",hidden:!0,hooks:{skill14_buff:()=>!0,willDamage(e,t,n,r){const i=this.unit;if("melee"===n){const e=i.runAttrHooks(!1,"pal_enhance11")?1.25:1;r.sendDamage("light",null,t,"圣光",i.int*(.5+.03*this.arg)*e)}return e}}},{key:"skill16_buff1",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const e=500+30*this.arg+(t.runAttrHooks(!1,"pal_enhance10")?10*this.arg:0);n.addBuff("skill16_buff2",1e3,e+(t.runAttrHooks(!1,"pal_enhance2")?20*this.arg:0),"skill16_buff2"),n.addBuff("skill16_buff3",1e3,e+(t.runAttrHooks(!1,"pal_enhance6")?20*this.arg:0),"skill16_buff3"),n.addBuff("skill16_buff4",1e3,e+(t.runAttrHooks(!1,"pal_enhance12")?20*this.arg:0),"skill16_buff4"),n.addBuff("skill16_buff5",1e3,e,"skill16_buff5")}t.addBuff("skill16_buff6",1005,null,"skill16_buff6")}},{key:"skill16_buff2",hidden:!0,hooks:{fireResist(e){return e-this.arg}}},{key:"skill16_buff3",hidden:!0,hooks:{coldResist(e){return e-this.arg}}},{key:"skill16_buff4",hidden:!0,hooks:{lightningResist(e){return e-this.arg}}},{key:"skill16_buff5",hidden:!0,hooks:{defAdd(e){return e-this.arg}}},{key:"skill16_buff6",hidden:!0,hooks:{skill16_buff:()=>!0}},{key:"skill17_buff",hidden:!0,hooks:{speedRateAdd:e=>e+.2,willDamage(e,t,n,r){const i=this.unit;return e*(this.arg+(i.runAttrHooks(!1,"pal_enhance5")?.1:0)+(i.runAttrHooks(!1,"pal_enhance8")?.1:0))},skill17_buff:()=>!0}},{key:"cAhope_buff",hidden:!0,effectInterval:9999,effect(e){const t=this.unit,{target:n}=t;if(t.hp/t.maxHp<=.9)t.hp+=.15*t.maxHp;else{for(const n of e.units.filter((e=>t.willAttack(e)))){const r=1.2*(t.hp-.85*t.maxHp);e.sendDamage("light",t,n,null,r)}t.hp+=.15*t.maxHp}}}]},8215:e=>{e.exports=[{key:"shrine.energy",name:"能量圣殿",hooks:{mpRecovery(e){return e+.1*this.unit.maxMp},rpRecovery:e=>e+2,rpRecovery:e=>e+2}},{key:"shrine.power",name:"威能圣殿",hooks:{dmgAdd:e=>e+.25,fireDmgadd:e=>e+.25,coldDmgadd:e=>e+.25,lightningDmgadd:e=>e+.25,poisonDmgadd:e=>e+.25,darkDmgadd:e=>e+.25,lightDmgadd:e=>e+.25}},{key:"shrine.experience",name:"经验圣殿",hooks:{expMul:e=>5*e,skillExpMul:e=>5*e}}]},5244:e=>{e.exports=[{key:"simba.comeOnFriends",name:"好兄弟加油",hooks:{speedRate:e=>2*e}},{key:"simba.goodFriends",name:"好兄弟",hooks:{willClean(e,t,n){const r=n.units.filter((e=>e!==t&&e.runAttrHooks(!1,"simba.goodFriends")));let i=!1;for(const e of r)"ghost"!==e.camp&&(e.addBuff("simba.comeOnFriends"),i=!0);if(i)return!1;for(const e of r)e.setCleanTimer();return e}}}]},7877:e=>{function t(e,t,n){const r=t.buffs.find((e=>"freezed"===e.group)),i=t.buffs.find((e=>"cold_df"===e.group)),s=(t.buffs.find((e=>"sree41_buff"===e.group)),e.runAttrHooks(!1,"sree38")),a=e.runAttrHooks(!1,"sree39");e.runAttrHooks(!1,"sree41")&&e.addBuff("sree41_buff",3e3,null,"sree41_buff"),a&&(i?i.arg+=.01:t.addBuff("cold_df",null,.01,"cold_df")),r?s?(n.sendDamage("cold",null,t,"冻伤",Math.min(.2*t.maxHp,50*e.int)),t.removeBuff(r)):r.resetTimer(1500):t.addBuff("freezed",1500,null,"freezed")}e.exports=[{key:"sree40_buff",name:"寒冰屏障",hooks:{willDamaged:e=>.01*e}},{key:"sree41_buff",hidden:!0,hooks:{critRateAdd:e=>.1+e,critBonusAdd:e=>.2+e}},{key:"cold_df",hidden:!0,hooks:{willDamaged(e,t,n){return e*(1+this.arg)}}},{key:"magic_shield_buff",name:"魔法铠甲",hooks:{defAdd(e){return this.arg+e},allResAdd(e){return this.arg+e}}},{key:"ety_dg",hidden:!0,hooks:{willDamage(e,t,n,r){return"lightning"===n?e*(1+Math.min(.04*this.arg,.8)):e},critBonus(e){return e+.02*this.arg}}},{key:"fire_cr",hidden:!0,hooks:{willDamage(e,t,n,r){return"fire"===n?e*(1+Math.min(.03*this.arg,.6)):e},critRateAdd(e){return e+.01*this.arg}}},{key:"ice_df",hidden:!0,hooks:{willDamaged(e,t,n){return e*(1-Math.min(.03*this.arg,.6))},willDamage(e,t,n,r){return"cold"===n?e*(1+Math.min(.02*this.arg,.4)):e}}},{key:"summoned",hidden:!0,hooks:{getSummonedBuff(e){return this}},willRemove(){"ghost"===this.unit.camp||this.stopped||this.unit.kill()}},{key:"tc_bf",hidden:!0,hooks:{critRateAdd(e){return e+this.arg}}},{key:"cold",name:"寒冷",hooks:{cold:e=>!0,speedRateAdd:e=>.8*e}},{key:"freezed",name:"冻结",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"magicShield",name:"魔法盾",hooks:{haveMagicShield:()=>!0,absorbed(e){const{unit:t}=this,n=this.arg[0],r=this.arg[1],i=Math.min(e,r,n*t.mp),s=i/n;return t.mp-=s,t.runAttrHooks(s,"postCostMp"),this.arg[1]-=i,this.arg[1]<=.001&&this.over(),e-i}}},{key:"magicState",hidden:!0,description:()=>"下一个不同系的法术将使你的攻击力上升10%，持续5秒"},{key:"magicArtist",name:"法力交织",hooks:{dmgAdd(e){return this.arg+e}}},{key:"manaShield",name:"法力护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const{unit:t}=this,n=this.arg,r=Math.min(e,n);return this.arg-=r,this.arg<=.001&&this.over(),e-r}}},{key:"vitalitywater_buff",name:"活力之水",effectInterval:1e3,effect(e){const t=this.unit;t.hp+=t.maxHp*this.arg,t.mp+=t.maxMp*this.arg}},{key:"chord_buff",hidden:!0},{key:"sorceress_overdraft_buff1",name:"透支",hooks:{fireDmgadd(e){return e+.25+.005*this.arg},mpRecovery(e){return e-50-this.arg}}},{key:"sorceress_overdraft_buff2",name:"透支",hooks:{fireDmgadd(e){return e+.25+.005*this.arg}}},{key:"sorceress_hellfire_buff",name:"地狱之火",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.5+Math.random());e.sendDamage("fire",t,n,this.skill,r)}else t.removeBuff(this)}},{key:"sorceress_hellfire_buff2",name:"地狱之火",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.5+Math.random());e.sendDamage("fire",t,n,this.skill,r)}else t.removeBuff(this)}},{key:"sorceress_energy_buff",name:"蓄电"},{key:"supernova_buff",name:"麻痹",hooks:{atk_Mul:e=>.5,speedRateAdd:e=>.9*e}},{key:"electrostatic_buff",hidden:!0,hooks:{lightningResist(e){return e-this.arg}}},{key:"laoyin_buff",hidden:!0,hooks:{fireResist(e){return e-this.arg}}},{key:"electricity_buff",hidden:!0,hooks:{willDamaged(e,t,n){return"lightning"===n?e*(1+this.arg):e}}},{key:"lucky_buff1",name:"幸运A面",hooks:{intAdd(e){return e+this.arg}}},{key:"lucky_buff2",name:"幸运B面",hooks:{coldDmgadd(e){return e+this.arg}}},{key:"lucky_buff3",name:"幸运C面",hooks:{hpRecovery(e){return e+this.arg},mpRecovery(e){return e+this.arg}}},{key:"coldShield",name:"寒冰护盾",hooks:{willDamaged(e,t,n){if("real"!==n)return e*this.arg}}},{key:"fireShield",name:"烈焰护盾",hooks:{willDamaged(e,t,n){if("real"!==n)return e*this.arg},willDamage(e,t,n,r){return this.unit.runAttrHooks(!1,"sree21")&&"fire"===n?1.2*e:e},attacked(e,t,n,r){this.unit.runAttrHooks(!1,"sree20")&&"melee"===r&&this.unit.useExtraSkill("sorceress_igniting")}}},{key:"lightShield",name:"雷霆护盾",hooks:{willDamaged(e,t,n){if("real"!==n)return e*this.arg},attacked(e,t,n,r,i){const s=this.unit.runAttrHooks(!1,"sree52"),a=this.unit.runAttrHooks(!1,"sree53");let o=2*t.int*(a?t.comboPoint/10+1:1);s&&"melee"===r&&i.sendDamage("lightning",null,n,"电芒",o)}}},{key:"bc_fire_buff2",name:"元素化·烈焰",hidden:!0,effectInterval:999,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_fire_buff1"===e.group)),r=this.unit.runAttrHooks(!1,"sree25");t.mp/t.maxMp<.5||this.arg>=11?(t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff"),r&&(t.mp=t.maxMp),t.removeBuff(n),t.removeBuff(this)):(t.mp-=.025*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_fire_buff1",name:"元素化·烈焰",hooks:{willDamage(e,t,n,r){return"fire"===n?e*(1.2+.01*this.arg):e},willDamaged(e,t,n){return"melee"===n?e*(this.unit.runAttrHooks(!1,"sree23")?.2:.75):e}}},{key:"bc_cold_buff2",name:"元素化·寒冰",hidden:!0,effectInterval:999,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_cold_buff1"===e.group)),r=this.unit.runAttrHooks(!1,"sree25");t.mp/t.maxMp<.5||this.arg>=11?(t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff"),r&&(t.mp=t.maxMp),t.removeBuff(n),t.removeBuff(this)):(t.mp-=.025*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_cold_buff1",name:"元素化·寒冰",hooks:{willDamage(e,t,n,r){return"cold"===n?e*(1.2+.01*this.arg):e},willDamaged(e,t,n){return"melee"===n?e*(this.unit.runAttrHooks(!1,"sree23")?.2:.75):e}}},{key:"bc_lightning_buff2",name:"元素化·雷光",hidden:!0,effectInterval:999,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_lightning_buff1"===e.group)),r=this.unit.runAttrHooks(!1,"sree25");t.mp/t.maxMp<.5||this.arg>=11?(t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff"),r&&(t.mp=t.maxMp),t.removeBuff(n),t.removeBuff(this)):(t.mp-=.025*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_lightning_buff1",name:"元素化·雷光",hooks:{willDamage(e,t,n,r){return"lightning"===n?e*(1.2+.01*this.arg):e},willDamaged(e,t,n){return"melee"===n?e*(this.unit.runAttrHooks(!1,"sree23")?.2:.75):e}}},{key:"bc_cd_buff",hidden:!0},{key:"sorceress_firewind_buff2",hidden:!0},{key:"sorceress_firewind_buff1",name:"焚骨",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(!n)return void t.removeBuff(this);const r=t.runAttrHooks(!1,"sree27");e.sendDamage("fire",t,n,this.skill,this.arg*(.5+Math.random())),r&&(this.arg*=2)}},{key:"sorceress_hellfire_plus_buff",name:"狱炎之门",hidden:!0,effectInterval:249,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.5+Math.random());e.sendDamage("fire",t,n,this.skill,r)}else t.removeBuff(this)}},{key:"sorceress_thunder_buff",name:"雷神降临",hidden:!0,effectInterval:499,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.runAttrHooks(!1,"lv80_sorceress6_enhance1");let i=this.arg;i*=r?.3+.7*Math.random():Math.random(),e.sendDamage("lightning",t,n,this.skill,i)}else t.removeBuff(this)}},{key:"sorceress_sea_buff",name:"海啸",hidden:!0,effectInterval:499,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.9+.2*Math.random());t.runAttrHooks(!1,"sree43")&&n.addBuff("langshi",1e3,null,"langshi"),e.sendDamage("cold",t,n,this.skill,r)}else t.removeBuff(this)}},{key:"sorceress_blz_buff",name:"暴风雪",hidden:!0,effectInterval:999,effect(e){const n=this.unit,{target:r}=n;if(r)for(const r of e.units.filter((e=>n.willAttack(e)))){const i=this.arg*(.9+.2*Math.random()),s=n.runAttrHooks(!1,"sree44")?1:.5;Math.random()<s&&t(n,r,e),e.sendDamage("cold",n,r,this.skill,i)}else n.removeBuff(this)}},{key:"langshi",name:"浪蚀",hidden:!0,hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"tidebf1",hidden:!0,hooks:{willDamaged(e,t,n){return"real"!==n?e*(1+this.arg):e}}},{key:"tidebf2",hidden:!0,hooks:{willDamaged(e,t,n){return"real"!==n?e*(1-this.arg):e}}},{key:"tidebf3",hidden:!0}]},1240:e=>{function t(e,t,n){const r=t.buffs.find((e=>"poison_buff"===e.group));r?(r.arg+=n,r.resetTimer(3e4)):t.addBuff("poison_buff",12e3,n,"poison_buff")}e.exports=[{key:"stop_buff",name:"停滞",didRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"soul_ice_freezed",name:"冻结",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"soul_ice_cold",name:"冰缓",hooks:{speedRateAdd:e=>.8*e}},{key:"soul_power_buff",name:"鬼神·抛瓦",hooks:{strAdd(e){return 2*this.arg+50+e},intAdd(e){return 2*this.arg+50+e}}},{key:"soul_armor_buff",name:"鬼神·铠甲",hooks:{defAdd(e,t){return this.unit,e*(15+this.arg/2)/100+e},darkResist(e,t){return this.unit,e*(10+this.arg/2)/100+e}}},{key:"soul_armor_buff2",name:"鬼神·铠甲",hidden:!0,hooks:{darkDmgadd(e,t){return.01*this.arg+e}}},{key:"karon_tombstonesummon_buff",name:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg));e.sendDamage("dark",t,n,this.skill,r)}e.addEnemy("karon_summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"tombstonesummon_buff",name:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg));e.sendDamage("dark",t,n,this.skill,r)}e.addEnemy("summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"soul_weak_buff1",name:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff3",2e3,this.arg,"soul_weak_buff3")}},{key:"soul_weak_buff2",name:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff4",2e3,this.arg,"soul_weak_buff4")}},{key:"soul_weak_buff3",name:"鬼神·虚弱",hooks:{willDamaged(e,t,n){return e*(1.2+.006*this.arg)}}},{key:"soul_weak_buff4",name:"鬼神·虚弱",hooks:{darkResist(e){return e-200*this.arg}}},{key:"soul_ice_buff",name:"鬼神·冰霜",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=1+t.atk*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg));e.sendDamage("cold",t,n,this.skill,r),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.1&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soul_poison_buff",name:"鬼神·瘟疫",hidden:!0,effectInterval:1e3,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e)))){const i=n.atk,s=1+i*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg));e.sendDamage("poison",n,r,this.skill,s),Math.random()<.2&&t(0,r,.2*i)}}},{key:"soul_darkfire_buff",name:"鬼神·冥炎"},{key:"soul_iceplus_buff",name:"鬼神·冰晶",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=1+t.atk*(.05+.001*this.arg+Math.random()*(.05+.001*this.arg));e.sendDamage("cold",t,n,this.skill,r),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.2&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soulbringer_enhance2_buff",name:"鬼斩·噬魂",description:"",hooks:{strAdd(e){return 10*this.arg+e},intAdd(e){return 10*this.arg+e}}}]},5954:e=>{e.exports=[{key:"vbsk1bf1",hidden:!0,hooks:{atk_Mul(e){return this.arg}}},{key:"vbsk2bf1",hidden:!0,hooks:{willDamaged(e,t){return e*this.arg}}},{key:"vbsk4bf1",hidden:!0,hooks:{willDamaged(e,t,n){return"melee"===n&&(e*=this.arg),e}}},{key:"vbsk5bf1",hidden:!0,hooks:{critRateAdd(e){return this.arg+e}}},{key:"vbsk5bf2",hidden:!0,hooks:{critBonusAdd(e){return this.arg+e}}},{key:"vbsk6bf1",hidden:!0,hooks:{speedRateAdd(e){return e+this.arg}}},{key:"vbsk9bf1",hidden:!0,hooks:{willDamage(e,t,n,r){return"melee"===n&&(e*=this.arg),e}}},{key:"vbsk13bf1",hidden:!0}]},6107:e=>{function t(e,t,n){if(!t)return;n*=e.runAttrHooks(1,"wree30");const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}e.exports=[{key:"wree27_buff",hidden:!0,hooks:{willDamaged(e){return e*(1+this.arg)}}},{key:"heal_buff",hidden:!0,effectInterval:999,effect(e){this.unit.hp+=this.arg}},{key:"fxzr_buff",hidden:!0,hooks:{critBLAdd(e){return e+this.arg}}},{key:"xmhx_buff",hidden:!0,hooks:{critBonusAdd(e){return e+this.arg}}},{key:"willdead_buff",hidden:!0},{key:"element_fire_buff",name:"元素附魔"},{key:"element_fire2_buff",hidden:!0},{key:"fire_buff",name:"灼烧",effectInterval:2999,effect(e,t,n){e.sendDamage("fire",null,this.unit,"灼烧",this.arg,0)}},{key:"poison_buff",name:"中毒",description:"中毒",effectInterval:2999,effect(e,t,n){const{hp:r,maxHp:i}=this.unit;let s=1+5*(1-r/i);e.sendDamage("poison",null,this.unit,"中毒",this.arg*s,0)}},{key:"darkfire_buff",name:"冥炎",effectInterval:999,effect(e,t,n){e.sendDamage("dark",null,this.unit,"冥炎",this.arg,0)}},{key:"hamstring_buff",name:"断筋",hooks:{speedRateAdd(e){return this.arg*e}}},{key:"white_heat_buff",name:"疾风",hooks:{speedRateAdd(e){return this.arg+e},wree17_buff(e){return this.unit.runAttrHooks(0,"wree17")}}},{key:"warrior_hp_buff",name:"气血激增",hooks:{maxHpAdd(e){return this.arg+e}}},{key:"warrior_def_buff",name:"钢铁之躯",hooks:{defAdd(e){return this.arg+e}}},{key:"warrior_res_buff",hidden:!0,hooks:{allResAdd(e){return this.arg+e}}},{key:"block_buff",name:"格挡姿态",hooks:{block(e){return this.arg+e}}},{key:"block2_buff",name:"格挡姿态",hooks:{}},{key:"block3_buff",name:"格挡姿态",hooks:{}},{key:"kedi_buff",hidden:!0,hooks:{willDamaged:(e,t)=>1.3*e}},{key:"flame_armor_buff",name:"炎铠",hooks:{attacked(e,n,r){t(this.unit,r,this.arg)}}},{key:"flame_armor_buff2",name:"炎铠",hidden:!0,effectInterval:999,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e))))t(n,r,this.arg)}},{key:"lv80_warrior1_enhance1_buff",name:"火锤",hooks:{willDamaged:(e,t,n)=>"fire"===n?1.3*e:e}},{key:"fury_cutter_time_buff",hidden:!0,hooks:{dmgLAdd(e){return this.arg+e}}},{key:"omnislash_buff2",hidden:!0,hooks:{willDamaged(e){return e*this.arg}}},{key:"omnislash_buff",name:"无敌斩",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("fury_cutter"):t.removeBuff(this)}},{key:"stunned",name:"昏迷",didRemove(){this.unit.timeline.resume()},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"defensive4_buff",name:"格挡姿态",hooks:{willDamaged:(e,t)=>Math.random()<=.15?e/2:e}},{key:"defensive3_buff",name:"格挡姿态",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("whirlwind"),e/2):e}}},{key:"defensive2_buff",name:"格挡姿态",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("fury_cutter"),e/2):e}}},{key:"defensive1_buff",name:"防御姿态",hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"lv35_warrior2_enhance7_time");return Math.random()<=.25?(r&&Math.random()<=.5&&n.useExtraSkill("infinite_justice"),1):e}}},{key:"defensive_buff",name:"防御姿态",hooks:{willDamaged(e){return e*this.arg}}},{key:"Blessing_buff",hidden:!0,hooks:{willDamaged(e,t){return e*(1-.025*this.arg)}}},{key:"guardian_buff1",name:"守护者之魂"},{key:"guardian_buff2",hidden:!0,hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"wree50"),i=n.buffs.find((e=>"guardian_buff1"===e.group)),s=n.buffs.find((e=>"Blessing_buff"===e.group)),a=n.buffs.find((e=>"igs_buff"===e.group));if(i){if(s?(s.arg+=1,s.arg=Math.min(s.arg,20)):n.addBuff("Blessing_buff",null,1,"Blessing_buff"),r){const e=n.runAttrHooks(!1,"igsodds");e&&(a?(a.arg+=e,a.resetTimer(5e3)):n.addBuff("igs_buff",5e3,e,"igs_buff")),n.useExtraSkill("jingji_skill_pro")}}else s&&n.removeBuff(s);return e}}},{key:"igs_buff",hidden:!0},{key:"sunder_armor_buff",name:"碎甲",hooks:{willDamaged(e,t){return e*this.arg[0]},defselfAdd(e){return e>0?e*(1-this.arg[1]):e}}},{key:"shield_buff",name:"护盾",hooks:{maxEp(e){return e+this.arg}}},{key:"fanatical_buff",name:"血怒",hooks:{atk_Add(e){return e+this.arg}}},{key:"ghost_shuffle_buff",name:"鬼步",hooks:{missing(e,t){const n=this.unit;return e+(n.maxHp-n.hp)}}},{key:"hacking_time_buff",name:"血魔乱舞",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("hacking_plus_double"):t.removeBuff(this)}},{key:"fanatical_buff2",name:"狂热",hidden:!0,hooks:{rpRecovery(e){return e+2+(this.unit.runAttrHooks(!1,"mcyh")?2:0)}}},{key:"energy_fire_buff",hidden:!0},{key:"energy_cold_buff",hidden:!0},{key:"bingning_buff",hidden:!0,hooks:{coldResist:e=>e-100}},{key:"yaori_buff",hidden:!0,hooks:{fireResist:e=>e-100}},{key:"gsbj_buff",hidden:!0,hooks:{speedRateAdd:e=>2*e,atk_Mul:e=>.5}},{key:"mabijiezhi_buff",name:"麻痹",hooks:{speedRateAdd:e=>.01*e}},{key:"swordSkill",name:"狂热",hooks:{atkAdd(e){return this.arg+e}}},{key:"shout",name:"战斗怒吼",hooks:{defAdd(e){return this.arg+e}}}]},8627:(e,t,n)=>{e.exports=[...n(9414),...n(5727),...n(328),n(1329),n(4348)]},4348:e=>{e.exports={key:"paladin",name:"圣骑士",description:"圣骑士",requirement:{role:"Ariel",level:101},equipments:{weapon:"SwordShield"},expFormula:[2,10,-4,2,.3],skills:{paladin_skill1:1,paladin_skill2:1,paladin_skill3:6,paladin_skill5:6,paladin_skill4:12,paladin_skill9:12,paladin_skill6:18,paladin_skill13:18,paladin_skill7:24,paladin_skill14:24,paladin_skill8:36,paladin_skill11:36,paladin_skill10:42,paladin_skill16:48,paladin_skill12:48,paladin_skill15:60,paladin_skill17:60},passives:{pla_passive1:1},enhances:{pal_enhance1:10,pal_enhance3:20,pal_enhance4:30,pal_enhance6:18,pal_enhance2:40,pal_enhance6:50,pal_enhance12:60,pal_enhance11:70,pal_enhance8:80,pal_enhance10:90,pal_enhance5:100},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,lightArmor:!0,armor:!0,cloth:!0,ornament:!0},attrGrow:{str:1.5,dex:.5,int:1.5,sta:.5}}},5727:(e,t,n)=>{e.exports=[n(6068),n(5607),n(9901),n(2935),n(939),n(5005),n(3156),n(1099),n(594),n(8225),n(8952)]},5607:e=>{e.exports={key:"lv15.sorceress1",name:"元素法师",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"sorceress",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1.5,sta:.5}}},9901:e=>{e.exports={key:"lv35.sorceress1",name:"火之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_fireBall_ex:40,sorceress_overdraft:50,sorceress_hellfire:60,sorceress_fireShield:70},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree13:50,wree30:50,sree14:50,sree15:60,sree16:60,sree17:60,sree18:70,sree19:70,sree20:70},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},2935:e=>{e.exports={key:"lv35.sorceress2",name:"水之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_tide:40,sorceress_lucky:50,sorceress_torrent:60,sorceress_coldShield:70},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree30:50,sree31:50,sree32:50,sree33:60,sree34:60,sree35:60,sree36:70,sree19:70,sree37:70},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},939:e=>{e.exports={key:"lv35.sorceress3",name:"雷之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_chainingLightning:40,sorceress_energy:50,sorceress_supernova:60,sorceress_lightShield:70},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree45:50,sree46:50,sree47:50,sree48:60,sree49:60,sree50:60,sree51:70,sree19:70,sree52:70},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},5005:e=>{e.exports={key:"lv80.sorceress1",name:"赤焰",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress1",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_fireBall_ex:40,sorceress_overdraft:50,sorceress_hellfire:60,sorceress_fireShield:70,sorceress_bc_fire:80,sorceress_fire_wind:90,sorceress_hellfire_plus:90},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree13:50,wree30:50,sree14:50,sree15:60,sree16:60,sree17:60,sree18:70,sree19:70,sree20:70,sree21:80,sree22:80,sree23:80,sree24:90,sree25:90,sree26:90,sree27:100,sree28:100,sree29:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},3156:e=>{e.exports={key:"lv80.sorceress2",name:"青火",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress1",level:101,stories:["career-lv80"]},hidden:!0,equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_magicShield:20,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_fireBall_ex:1,sorceress_overdraft:1,sorceress_hellfire:1,sorceress_fireShield:1,sorceress_bc_fire:80,sorceress_hellfire_plus:90},passives:{magic:1},enhances:{sorceress_enhance1:5,sorceress_enhance2:10,ss_ee3:10,lv15_sorceress1_enhance1:15,lv15_ss1_ee2:15,lv15_ss1_ee3:15,lv15_sorceress1_enhance2:25,lv15_sorceress1_enhance3:35,lv35_sorceress1_enhance1:1,lv35_sorceress1_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress2_enhance1:80,lv80_sorceress1_enhance2:85,lv80_sorceress2_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress2_enhance5:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},1099:e=>{e.exports={key:"lv80.sorceress3",name:"水魄",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress2",level:101,stories:["career-lv80"]},hidden:!0,equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_magicShield:20,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_tide:40,sorceress_lucky:50,sorceress_torrent:60,sorceress_coldShield:70,sorceress_bc_cold:80,sorceress_sea:90},passives:{magic:1},enhances:{sorceress_enhance1:5,sorceress_enhance2:10,ss_ee3:10,lv15_sorceress1_enhance1:15,lv15_ss1_ee2:15,lv15_ss1_ee3:15,lv15_sorceress1_enhance2:25,lv15_sorceress1_enhance3:35,lv35_sorceress2_enhance1:1,lv35_sorceress2_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress3_enhance1:80,lv80_sorceress3_enhance2:85,lv80_sorceress3_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress3_enhance5:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},594:e=>{e.exports={key:"lv80.sorceress4",name:"冰魄",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress2",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_tide:40,sorceress_lucky:50,sorceress_torrent:60,sorceress_coldShield:70,sorceress_bc_cold:80,sorceress_blizzard:90,sorceress_sea:90},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree30:50,sree31:50,sree32:50,sree33:60,sree34:60,sree35:60,sree36:70,sree19:70,sree37:70,sree38:80,sree39:80,sree40:80,sree24:90,sree25:90,sree41:90,sree42:100,sree43:100,sree44:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},8225:e=>{e.exports={key:"lv80.sorceress5",name:"电主",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress3",level:101,stories:["career-lv80"]},hidden:!0,equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_magicShield:20,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_chainingLightning:1,sorceress_energy:1,sorceress_supernova:1,sorceress_electrostatic:1,sorceress_bc_lightning:80,sorceress_impulse:90},passives:{magic:1,elect:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,ss_ee3:1,lv15_sorceress1_enhance1:1,lv15_ss1_ee2:1,lv15_ss1_ee3:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress3_enhance1:1,lv35_sorceress3_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress5_enhance1:80,lv80_sorceress5_enhance2:85,lv80_sorceress5_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress5_enhance5:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},8952:e=>{e.exports={key:"lv80.sorceress6",name:"雷神",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress3",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10,sorceress_fireBall:15,sorceress_lightning:15,sorceress_coldBall:15,sorceress_igniting:25,sorceress_vitalitywater:35,sorceress_chainingLightning:40,sorceress_energy:50,sorceress_supernova:60,sorceress_lightShield:70,sorceress_bc_lightning:80,sorceress_thunder:90,sorceress_impulse:90},passives:{elect:1,magic:1},enhances:{sree1:10,sree2:10,sree3:10,sree4:20,sree5:20,sree6:20,sree7:30,sree8:30,sree9:30,sree10:40,sree11:40,sree12:40,sree45:50,sree46:50,sree47:50,sree48:60,sree49:60,sree50:60,sree51:70,sree19:70,sree52:70,sree53:80,sree54:80,sree55:80,sree24:90,sree25:90,sree56:90,sree57:100,sree58:100,sree59:100},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},6068:e=>{e.exports={key:"sorceress",name:"魔法学徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{role:"Aleanor",level:101},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{wind_blade:1,sorceress_shield:5,summon_slime:10},passives:{magic:1},enhances:{sree1:10,sree2:10,sree3:10},availableClasses:{base:!0,wand:!0,shield:!0,daggers:!0,books:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1,sta:.5}}},1329:e=>{e.exports={key:"soulbringer",name:"黑暗君主",description:"黑暗君主",requirement:{role:"iPhone14promax"},equipments:{weapon:"LongSword"},expFormula:[2,10,-4,2,.3],skills:{soulbringer_atk:1,onikiri:2,soul_power:5,moonlight_slash:10,ghost_whip:15,soul_armor:15,tombstone:20,soul_weak:20,ghost_fury:25,soul_shadow:30,soul_ice:30,soul_poison:35,ghost_puncture:40,soul_darkfire:45,tombstoneplus:50,ghost_pidi:60,dark_jige:70,soul_iceplus:80,soul_7:90},passives:{soulbringer_passive:1},enhances:{soulbringer_enhance1:10,soulbringer_enhance2:20,soulbringer_enhance3:30,soulbringer_enhance4:40,soulbringer_enhance5:60,soulbringer_enhance6:90},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,longsword:!0,cloth:!0,ornament:!0},attrGrow:{str:1.5,dex:.5,int:1.5,sta:.5}}},328:(e,t,n)=>{e.exports=[n(6559)]},6559:e=>{e.exports={key:"villagelv1",name:"拳法宗师",description:"1",requirement:{role:"villageH",level:101},equipments:{weapon:"gloves_r"},expFormula:[2,10,-4,2,.3],skills:{vbsk1:1,vbsk2:1,vbsk3:10,vbsk4:15,vbsk5:20,vbsk6:30,vbsk7:40,vbsk8:45,vbsk9:50,vbsk10:55,vbsk11:60,vbsk12:65,vbsk13:70},passives:{vbps1:1},enhances:{vbeh1:10,vbeh2:10,vbeh3:10,vbeh4:20,vbeh5_1:20,vbeh5:20,vbeh6:30,vbeh7:30,vbeh8:40,vbeh9:40,vbeh11:50,vbeh12:50,vbeh13:60,vbeh14:70,vbeh15:80,vbeh16:80,vbeh17:90,vbeh18:90},availableClasses:{base:!0,gloves_r:!0,gloves_l:!0,armor:!0,cloth:!0,lightArmor:!0,ornament:!0},attrGrow:{str:2,dex:2,int:0,sta:1}}},9414:(e,t,n)=>{e.exports=[n(9224),n(5929),n(8247),n(2923),n(5822),n(6975),n(1235),n(7766),n(3977),n(6340)]},5929:e=>{e.exports={key:"warrior1.lv15",name:"剑斗士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:5,thump:10,fury_cutter:15,warrior_hp:20,whirlwind:25,warrior_def:30,hamstring:35},passives:{warrior_passive1:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree6:20,wree7:30,wree8:30,wree9:30},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,lightArmor:!0,armor:!0,ornament:!0}}},8247:e=>{e.exports={key:"warrior3.lv15",name:"刀客",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:15,warrior_hp:20,shield_wall:25,warrior_def:30,sunder_armor:35},passives:{warrior_passive1:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree49:20,wree31:30,wree8:30,wree32:30},availableClasses:{base:!0,machete:!0,shield:!0,daggers:!0,lightArmor:!0,armor:!0,ornament:!0}}},2923:e=>{e.exports={key:"warrior1.lv35",name:"大剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:5,thump:10,fury_cutter:15,warrior_hp:20,whirlwind:25,warrior_def:30,hamstring:35,element_fire:40,white_heat:50,fury_cutter_plus:60,block:70},passives:{warrior_passive1:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree6:20,wree7:30,wree8:30,wree9:30,wree10:40,wree11:40,wree12:40,wree13:50,wree14:50,wree15:50,wree16:60,wree17:60,wree18:60,wree19:70,wree20:70,wree21:70},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},5822:e=>{e.exports={key:"warrior2.lv35",name:"守护者",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"SwordShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:2},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,guardian:40,shield_charge:50,fury_cutter_plus:60,defensive_stance:70,first_aid:80,infinite_justice:90},passives:{warrior_passive1:1,warrior_passive4:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree6:20,wree7:30,wree8:30,wree9:30,wree10:40,wree11:40,wree50:40,wree51:50,wree14:50,wree15:50,wree52:60,wree53:60,wree54:60,wree55:70,wree32:70,wree56:70,wree57:80,wree58:80,wree59:80,wree60:90,wree61:90,wree45:90,wree62:100,wree63:100,wree64:100},availableClasses:{base:!0,sword:!0,shield:!0,armor:!0,ornament:!0}}},6975:e=>{e.exports={key:"warrior5.lv35",name:"勇士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:40,fanatical:50,hacking_plus_double:60,block:70},passives:{warrior_passive1:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree49:20,wree31:30,wree8:30,wree32:30,wree10:40,wree33:40,wree34:40,wree35:50,wree14:50,wree15:50,wree36:60,wree37:60,wree18:60,wree38:70,wree39:70,wree40:70},availableClasses:{base:!0,machete:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},1235:e=>{e.exports={key:"warrior1.lv80",name:"魔剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:101,stories:["career-lv80"]},hidden:!0,equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:0,int:1,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:40,white_heat:50,fury_cutter_plus:60,block:70,flame_armor:80,dragon_breath:90},passives:{warrior_passive1:1,warrior_passive2:1},enhances:{warrior_enhance1:10,wree2:10,wree3:10,warrior_enhance2:20,lv15_warrior_enhance1:20,lv15_warrior_enhance2:20,lv15_warrior_enhance3:25,lv35_warrior1_enhance1:45,lv35_warrior1_enhance2:55,lv35_warrior1_enhance3:65,lv80_warrior1_enhance1:80,lv80_warrior1_enhance2:85,lv80_warrior1_enhance3:90,lv80_warrior1_enhance4:95,lv80_warrior1_enhance5:100},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},7766:e=>{e.exports={key:"warrior2.lv80",name:"宗师",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:5,thump:10,fury_cutter:15,warrior_hp:20,whirlwind:25,warrior_def:30,hamstring:35,element_fire:40,white_heat:50,fury_cutter_plus:60,block:70,flame_armor:80,fury_cutter_time:80,dragon_breath:90,omnislash:90},passives:{warrior_passive1:1,warrior_passive3:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree6:20,wree7:30,wree8:30,wree9:30,wree10:40,wree11:40,wree12:40,wree13:50,wree14:50,wree15:50,wree16:60,wree17:60,wree18:60,wree19:70,wree20:70,wree21:70,wree22:80,wree23:80,wree24:80,wree25:90,wree26:90,wree27:90,wree28:100,wree29:100,wree30:100},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},3977:e=>{e.exports={key:"warrior7.lv80",name:"血魔",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,ghost_shuffle:80,warrior_deadline:80,hacking_time:90,warrior_con_energy:90},passives:{warrior_passive1:1,warrior_passive5:1},enhances:{wree1:10,wree2:10,wree3:10,wree4:20,wree5:20,wree49:20,wree31:30,wree8:30,wree32:30,wree10:40,wree33:40,wree34:40,wree35:50,wree14:50,wree15:50,wree36:60,wree37:60,wree18:60,wree38:70,wree39:70,wree40:70,wree22:80,wree41:80,wree42:80,wree43:90,wree44:90,wree45:90,wree46:100,wree47:100,wree48:100},availableClasses:{base:!0,machete:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},6340:e=>{e.exports={key:"warrior8.lv80",name:"焚天",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:101,stories:["career-lv80"]},hidden:!0,equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:0,int:1,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,warrior_deadline:80,warrior_con_energy:90},passives:{warrior_passive1:1,warrior_passive6:1},enhances:{warrior_enhance1:5,wree2:5,wree3:5,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior1_enhance3:80,lv80_warrior8_enhance1:85,lv80_warrior8_enhance1_2:85,lv80_warrior8_enhance2:90,lv80_wr8_ee2_2:90,lv80_wr8_ee2_3:90,lv80_warrior8_enhance3:95,lv80_warrior8_enhance3_2:95,lv80_warrior8_enhance4:100},availableClasses:{base:!0,machete:!0,shield:!0,daggers:!0,lightArmor:!0,ornament:!0}}},9224:e=>{e.exports={key:"warrior",name:"战士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{role:"Eyer",level:101},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:5,thump:10},passives:{warrior_passive1:1},enhances:{wree1:10,wree2:10,wree3:10},availableClasses:{base:!0,sword:!0,shield:!0,daggers:!0,machete:!0,lightArmor:!0,armor:!0,ornament:!0}}},7586:e=>{e.exports=[{key:"abcdef",name:"",description:e=>"",hidden:!0,Max_level:1e16},{key:"fotiaoqiang",name:"史莱姆果冻",description:e=>`力量、敏捷、智力、耐力分别增加${5*e}点`,Max_level:1e5,hooks:{strAdd:(e,t)=>t+5*Math.min(e,1e5),dexAdd:(e,t)=>t+5*Math.min(e,1e5),intAdd:(e,t)=>t+5*Math.min(e,1e5),staAdd:(e,t)=>t+5*Math.min(e,1e5)}},{key:"huangguajianzirou",name:"艾尔秘制面包",description:e=>`物理防御增加${40*e}点`,Max_level:1e5,hooks:{defAdd:(e,t)=>t+40*e}},{key:"cuigualijisi",name:"酒心巧克力",description:e=>`元素抗性增加${40*e}点`,Max_level:1e5,hooks:{allResAdd:(e,t)=>t+40*e}},{key:"tangcupaigu",name:"小饼干",description:e=>`闪避增加${30*e}点`,Max_level:1e5,hooks:{missing:(e,t)=>t+30*e}},{key:"suanxiangbairou",name:"幻想森林果派",description:e=>`生命值恢复增加${2*e}点`,Max_level:1e5,hooks:{hpRecovery:(e,t)=>t+2*e}},{key:"jintangsuancaiyu",name:"金汤酸菜鱼",description:e=>`法力值恢复增加${2*e}点`,Max_level:1e5,hooks:{mpRecovery:(e,t)=>t+2*e}},{key:"lianyushuizhuyu",name:"炼狱海鲜烩",description:e=>`生命值上限${60*e}点`,Max_level:1e5,hooks:{maxHpAdd:(e,t)=>t+60*e}},{key:"bingzhenxiaolongxia",name:"冰镇小龙虾",description:e=>`法力值上限${60*e}点`,Max_level:1e5,hooks:{maxMpAdd:(e,t)=>t+60*e}}]},5353:e=>{e.exports=[{key:"chapter3.beast.wildpig",name:"豪猪",camp:"enemy",race:"unknown",career:"melee",maxHp:1500,def:100,atk:40,exp:65,level:84,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.lion",name:"雄狮",camp:"enemy",race:"unknown",career:"melee",exp:85,maxHp:900,def:50,atk:60,level:86,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.pengpeng",name:"彭彭",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e3,exp:800,def:100,allResist:-5e3,atk:80,level:90,skills:[{key:"simba.thumpHead",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{type:"equip",rate:1,mfRate:2}]},{key:"chapter3.beast.simba",name:"辛巴",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:7e3,def:50,allResist:-5e3,exp:800,atk:130,level:90,skills:[{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[]},{key:"chapter3.beast.dingman",name:"丁满",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:8e3,atk:70,def:-5e3,exp:800,level:90,skills:[{key:"simba.heal",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{key:"gold",count:[150,250],rate:1}]}]},3973:e=>{e.exports=[{key:"chapter3.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireball.e",level:0}],maxHp:5e3,def:150,atk:120,fireResist:2e3,coldResist:-2e4,exp:180,level:114,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.water",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterArrow.e",level:0},{key:"iceNova",level:0}],maxHp:5e3,def:150,atk:120,coldResist:2e3,fireResist:-2e4,exp:180,level:116,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.earth",name:"岩石傀儡",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:7e3,def:2e3,allResist:-2e4,atk:150,exp:180,level:118,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.azathoth.fire",name:"阿撒托斯[火]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireball.e",level:0},{key:"azathoth.transformIce",level:0}],stunResist:3e3,boss:!0,maxHp:2e5,coldResist:-2e4,fireResist:2e3,def:-500,atk:550,exp:7e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.ice",name:"阿撒托斯[冰]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterArrow.e",level:0},{key:"iceNova",level:0},{key:"azathoth.transformEarth",level:0}],stunResist:3e3,boss:!0,maxHp:2e5,def:-500,atk:400,coldResist:2e3,fireResist:-2e4,exp:8e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.earth",name:"阿撒托斯[土]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.transformDark",level:0},{key:"melee",level:0}],boss:!0,maxHp:2e5,def:2e3,allResist:-2e4,atk:500,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.dark",name:"阿撒托斯[混乱]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.explode",level:0}],boss:!0,maxHp:2e5,def:500,allResist:500,atk:500,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.none",name:"阿撒托斯的灰烬",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[],boss:!0,maxHp:1e3,atk:450,exp:5e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]}]},6720:e=>{e.exports=[{key:"chapter3.fishzilla.magician",name:"湖畔镇魔法师",camp:"alien",race:"unknown",career:"melee",maxHp:3e3,atk:150,level:110,skills:[{key:"fishzilla.focus",level:0}],affixes:{stronger:2,faster:1,recover:1}},{key:"chapter3.murloc.slaves",name:"鱼人奴隶",camp:"enemy",race:"unknown",career:"melee",maxHp:4e3,atk:200,coldResist:1e3,fireResist:-1e4,exp:100,level:110,skills:[{key:"melee",level:0}],loots:[{key:"gold",count:[10,40],rate:.1}]},{key:"chapter3.fishzilla",name:"鱼斯拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e6,hpRecovery:250,exp:5e3,atk:600,def:400,allResist:-1e4,coldResist:2e3,level:110,skills:[{key:"fishzilla.summonSlaves",level:0},{key:"fishzilla.bomb",level:12},{key:"melee",level:0}],stunResist:3e3,loots:[{key:"gold",count:[200,400],rate:1}]}]},8110:e=>{e.exports=[{key:"chapter3.murloc.minions",name:"鱼人战士",camp:"enemy",race:"unknown",career:"melee",maxHp:2200,atk:65,exp:150,level:94,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[10,40],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.shaman",name:"鱼人祭祀",camp:"enemy",race:"unknown",career:"melee",exp:125,maxHp:1800,def:50,atk:80,level:96,skills:[{key:"shaman.iceball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,40],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.army",name:"鱼人大军",camp:"neutral",race:"unknown",career:"melee",maxHp:1e3,def:50,atk:50,level:1,skills:[{key:"murloc.army.thumpHead",level:0}]},{key:"chapter3.murloc.warlord",name:"鱼人督军",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e4,hpRecovery:50,exp:3e3,atk:280,level:100,skills:[{key:"melee",level:0},{key:"murloc.thumpHead",level:0},{key:"murloc.shieldShout",level:0}],loots:[{key:"gold",count:[180,300],rate:1}]}]},5e3:e=>{e.exports=[{key:"chapter3.undead.ghost",name:"不安的冤魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:800,atk:35,exp:50,level:74,skills:[{key:"darkball.e",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,15],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.zombie",name:"行尸",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e3,exp:50,atk:45,level:76,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.ghostShield",name:"幽魂护卫",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:400,level:64,skills:[{key:"ghostShield",level:0}],loots:[]},{key:"chapter3.necromancer",name:"死灵法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e3,hpRecovery:15,exp:1800,atk:150,def:-5e3,allResist:200,darkResist:2e3,lightResist:-2e4,level:80,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"necromancer.ghostShield",level:0}],loots:[{key:"gold",count:[100,200],rate:1}]}]},7072:e=>{e.exports=[{key:"chapter3.waterElement.nagaHero",name:"娜迦勇士",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:8e3,def:150,atk:180,exp:220,level:124,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterArrow.e",level:0},{key:"iceNova",level:0}],maxHp:8e3,def:150,atk:150,coldResist:2e3,fireResist:-2e4,exp:220,level:126,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.giants",name:"深海巨人",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"cleave",level:0}],maxHp:1e4,def:250,atk:200,exp:450,level:128,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.Nynnroth",name:"奈因洛斯的分身",description:"一团跳动的水元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterArrow.e",level:0},{key:"waterElement.waterFlow",level:0},{key:"enemy.upgrade",level:0}],stunResist:3e3,boss:!0,maxHp:3e5,coldResist:2e3,fireResist:-2e4,atk:750,exp:1e4,level:130,loots:[{key:"gold",count:[400,600],rate:1}]},{key:"shrine.nynnroth.shield",name:"定海圣殿",description:"增加怒气、能量、法力恢复速度3秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("nynnroth.shield",5e3);return this.kill(),!1}}]},329:e=>{e.exports=[{key:"chapter4.humans.thief",name:"小偷",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:2e4,atk:350,exp:450,level:140,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.rogue",name:"流氓",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:2e4,exp:450,atk:350,level:140,skills:[{key:"melee",level:0},{key:"fireball.e",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.monster",name:"虚空行者",description:"",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e5,atk:800,darkResist:2e3,lightResist:-2e3,level:145,skills:[{key:"darkball.e",level:0},{key:"summon.earth.comeToMe",level:0}],loots:[]},{key:"chapter4.humans.seck",name:"罗兰·赛克",description:"手黑党的领袖",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,maxMp:1e3,mpRecovery:20,hpRecovery:500,exp:1500,atk:1e3,darkResist:2e3,lightResist:-2e4,def:500,level:150,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"chapter4.humans.seck.summonDarkSoul",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.women",name:"魅魔",description:"",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e5,atk:800,darkResist:2e3,lightResist:-2e3,level:145,skills:[{key:"melee",level:0},{key:"chapter4.humans.women.thumpHead",level:0}],loots:[]},{key:"chapter4.humans.seck1",name:"罗兰·赛克",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,maxMp:1e3,mpRecovery:20,hpRecovery:500,exp:1500,atk:1e3,darkResist:2e3,lightResist:-2e4,def:500,level:150,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"chapter4.humans.seck.summonWomen",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]}]},3526:e=>{e.exports=[{key:"chapter4.humans.soldier",name:"士兵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:3e4,atk:500,exp:450,level:154,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.musketeer",name:"火枪手",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:2e4,atk:500,critRate:.3,critBonus:2.5,exp:450,level:156,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.mortar",name:"迫击炮",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e4,exp:450,atk:550,level:158,skills:[{key:"melee.aoe",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.knights.dare",name:"英勇骑士达尔",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,hpRecovery:1500,maxRp:100,exp:1500,atk:1200,def:500,allResist:500,level:160,skills:[{key:"meleeForRage",level:0},{key:"thump",level:0},{key:"mortalStrike",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.light",name:"光明骑士莱特",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,hpRecovery:1500,exp:1500,atk:1200,def:500,allResist:500,level:160,skills:[{key:"knight.melee",level:0},{key:"knight.glory.enemy",level:0},{key:"knight.thump",level:0},{key:"enemy.upgrade",level:0}],hooks:{displayCpBar:(e,t)=>!0},stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.blood",name:"鲜血骑士布莱德",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,hpRecovery:1500,exp:1500,atk:1200,def:500,allResist:500,level:160,skills:[{key:"knight.sacrifice",level:0},{key:"knight.thump",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,hooks:{displayCpBar:(e,t)=>!0},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.sanction",name:"制裁骑士山新",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,hpRecovery:1500,exp:1500,atk:1200,def:500,allResist:500,level:160,skills:[{key:"swordSkill",level:0},{key:"knight.thumpHead.enemy",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.rage",name:"全能骑士雷格",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e5,hpRecovery:1500,maxRp:100,rpRecovery:1,exp:1500,atk:1800,def:500,allResist:500,level:160,skills:[{key:"cleave",level:0},{key:"thump",level:0},{key:"shockWave",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},7347:e=>{e.exports=[{key:"chapter4.humans.trigger.1",name:"神秘的把手",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("机关被触动了。一阵令人牙酸的声音之后，下水道的入口显现了出来。"),!1}},{key:"chapter4.humans.trigger.2",name:"下水道",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.trigger.3.1",name:"未知的机关",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger.3")>=0&&t.kill(!1);return e.sendGeneralMsg("你触发了一个看起来很危险的机关，所有其它的机关都消失了。"),!1}},{key:"chapter4.humans.trigger.3.2",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(),e.sendGeneralMsg("这个机关看起来没有任何作用。"),!1}},{key:"chapter4.humans.trigger.3.3",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){this.kill();for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger")>=0||e.sendDamage("real",this,t,{name:"爆炸"},.4*t.maxHp);return!1}},{key:"chapter4.humans.trigger.3.4",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",maxHp:4e4,onPress(e){return this.transformType("chapter4.humans.trigger.4"),!1}},{key:"chapter4.humans.trigger.4",name:"活动的机关",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:4e4,atk:2e3,level:156,skills:[{key:"melee",level:0}]},{key:"chapter4.humans.boss.fearas",name:"菲尔斯男爵",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",maxHp:5e5,hpRecovery:2500,exp:1800,atk:1800,level:170,skills:[{key:"melee",level:0},{key:"enemy.fearas.summonTrigger",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.trigger.5.1",name:"安全牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&e.sendDamage("fire",this,t,{name:"爆炸"},3500);return this.kill(!1),e.sendGeneralMsg("你试图解除安全牌地雷的时候，地雷反而爆炸的更厉害了。"),!1}},{key:"chapter4.humans.trigger.5.2",name:"哑炮牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb1",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&(t.breakCasting(),t.stun(1,"stunned"));return this.kill(!1),e.sendGeneralMsg("哑炮牌地雷释放了一阵烟雾，你一时动弹不得。"),!1}},{key:"chapter4.humans.trigger.5.3",name:"科学牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:2500,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){return this.kill(!1),e.sendGeneralMsg("科学牌地雷被解除后，很科学的停止了工作。"),!1}},{key:"chapter4.humans.trigger.5.4",name:"机械松鼠",description:"额，拿错了。",camp:"alien",race:"unknown",career:"melee",skills:[{key:"enemy.fearas.bomb2",level:0}]},{key:"chapter4.humans.trigger.6",name:"牢笼控制台",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return e.addEnemy("chapter4.humans.boss.milhous",null,0,self),this.kill(!1),!1}},{key:"chapter4.humans.trigger.7",name:"牢笼控制台",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.boss.milhous",name:"米尔豪斯·法力风暴",description:"侏儒法师",camp:"alien",race:"unknown",career:"melee",boss:!0,maxHp:1e6,exp:1800,atk:750,level:170,maxMp:5e3,mpRecovery:500,skills:[{key:"fireBall",level:0},{key:"iceArrow",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}],onPress(e){const t=this.buffs.find((e=>"enemy.evil.control"===e.type));t&&this.removeBuff(t)}},{key:"chapter4.humans.boss.evil",name:"上古邪恶",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:12e5,exp:1800,atk:2e3,def:-12500,allResist:-12500,darkResist:8e3,lightResist:-25e3,hpRecovery:2500,level:170,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"enemy.evil.reading1",level:0},{key:"enemy.evil.control",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},1088:e=>{e.exports=[{key:"chapter4.orcs.warrior",name:"兽人战士",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:15e3,atk:240,exp:300,level:134,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter4.orcs.hunter",name:"兽人驯狼师",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e3,maxEp:50,epRecovery:2,exp:450,atk:200,level:136,skills:[{key:"melee",level:0},{key:"orcs.summonWolf",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter3.orcs.wolf",name:"野狼",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:8e3,atk:150,level:130,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[]},{key:"chapter3.orcs.totem",name:"治疗图腾",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:3e3,atk:1200,level:126,skills:[{key:"totem.heal",level:0}],loots:[]},{key:"chapter3.orcs.shaman",name:"萨布罗·霜狼",description:"兽人霜狼氏族领袖",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e5,hpRecovery:150,exp:1800,atk:900,level:140,lightningResist:2e3,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:0},{key:"orcs.summonHealToken",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},6242:e=>{e.exports=[{key:"chapter5.daughter.monster1",name:"黑暗之灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,atk:600,exp:700,level:194,skills:[{key:"melee",level:0},{key:"darkball.e",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster2",name:"孤独之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,exp:700,atk:1500,level:194,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster2",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster3",name:"疼痛之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,exp:700,atk:1500,level:196,skills:[{key:"melee",level:0},{key:"enemy.evil.reading1",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster4",name:"惊悸之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,exp:700,atk:1500,level:196,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster4",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster5",name:"寒冷之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,exp:700,atk:1500,level:198,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster6",name:"饥饿之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,exp:700,atk:1500,level:198,skills:[{key:"melee",level:0},{key:"chapter4.humans.seck.healthDrill",level:20}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.badGiant",name:"吃小孩的巨人",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e5,exp:3e3,atk:2500,level:200,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shockWave",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]},{key:"chapter5.daughter.amira",name:"艾米拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e6,darkResist:1e3,lightResist:-1e4,exp:3e3,atk:4e3,level:200,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"chapter5.daughter.monster2",level:0},{key:"enemy.evil.reading1",level:0},{key:"chapter5.daughter.monster4",level:0},{key:"shaman.iceball",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]}]},8002:e=>{e.exports=[{key:"chapter5.undead.ghost",name:"受折磨的灵魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:5e4,atk:400,exp:500,level:174,skills:[{key:"darkball.e",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[75,200],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.undead.zombie",name:"不安份的尸体",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:5e4,exp:550,atk:1e3,level:176,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.necromancer",name:"死灵法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:12e5,hpRecovery:500,exp:1800,atk:2500,darkResist:2e3,lightResist:-5e4,level:180,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0},{key:"zombie.hide",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]}]},4102:e=>{e.exports=[{key:"chapter5.woodElf.crazy",name:"发疯的木灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:8e4,atk:1200,exp:550,level:184,skills:[{key:"melee",level:0},{key:"simba.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,200],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.sad",name:"悲痛过度的木灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:8e4,exp:650,atk:1500,level:186,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,300],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.shamansa",name:"暴食的萨曼莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e5,hpRecovery:2500,exp:2400,atk:2e3,level:190,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shamansa.spew",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]},{key:"chapter5.woodElf.arms",name:"恐怖的残肢",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:2e4,atk:1200,level:180,skills:[{key:"melee",level:0}]},{key:"chapter5.woodElf.rosa",name:"懒惰的罗莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e5,hpRecovery:2500,exp:2400,atk:3e3,level:190,skills:[{key:"melee",level:0},{key:"rosa.sleepy",level:0},{key:"rosa.angry",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]}]},7635:e=>{e.exports=[{key:"kakarif.generations",name:"卡卡列夫的后代",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,fireResist:2e3,coldResist:-6e3,level:45,skills:[{key:"fireball.e",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1}]},{key:"kakarif.servants",name:"卡卡列夫的仆从",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",fireResist:2e3,coldResist:-6e3,maxHp:750,exp:30,atk:25,level:45,skills:[{key:"melee",level:0},{key:"fireball.e",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1}]},{key:"kakarif.illusion",name:"卡卡列夫的幻象",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e3,fireResist:2e3,coldResist:-6e4,hpRecovery:20,exp:1200,atk:40,level:50,skills:[{key:"kakarif.melee",level:0},{key:"kakarif.mad",level:0}],loots:[{key:"gold",count:[50,150],rate:.25}]}]},9580:(e,t,n)=>{e.exports=[...n(7964),...n(2245),...n(1926),...n(7635),...n(1320),...n(2282),...n(1011),...n(5e3),...n(5353),...n(8110),...n(6720),...n(3973),...n(7072),...n(1088),...n(329),...n(3526),...n(7347),...n(9431),...n(8497),...n(4697),...n(8002),...n(4102),...n(6242),...n(3023)]},2282:e=>{e.exports=[{key:"knight.normal",name:"圣殿骑士",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,def:100,level:65,skills:[{key:"melee",level:0},{key:"shieldShock",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1},{type:"equip",rate:.05,mfRate:1}]},{key:"knight.prayer",name:"圣殿牧师",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",maxHp:750,exp:30,atk:10,level:65,skills:[{key:"melee",level:0},{key:"knight.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1}]},{key:"knight.leader",name:"骑士队长卡罗",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:7e3,def:300,exp:1200,atk:70,level:70,skills:[{key:"melee",level:0},{key:"knight.shout",level:0},{key:"knight.reflect",level:0}],loots:[{key:"gold",count:[50,150],rate:.25}]}]},1926:e=>{e.exports=[{key:"kobold.miner",name:"狗头人矿工",description:"狗头人居然长这么多的胡子，有点萌。😊",camp:"enemy",race:"unknown",career:"melee",maxHp:300,atk:10,exp:20,level:34,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.shaman",name:"狗头人萨满",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:400,exp:40,atk:10,level:36,skills:[{key:"melee",level:0},{key:"fireball.e",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.candle",name:"安全牌蜡烛",description:"一根蜡烛。",camp:"neutral",race:"unknown",career:"melee",maxHp:10,exp:0,atk:80,level:1,skills:[{key:"bomb",level:0}],onPress(e){return this.kill(),!1},loots:[]},{key:"kobold.goldteeth",name:"金牙",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3500,hpRecovery:5,exp:800,atk:50,level:40,skills:[{key:"melee",level:0},{key:"candle.call",level:0}],loots:[{key:"gold",count:[5,100],rate:1}]}]},1011:e=>{e.exports=[{key:"muzhuang1",name:"训练木桩",description:"   ",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9007199254740991,atk:1,exp:1,level:9999999,skills:[],loots:[]},{key:"muzhuang2",name:"凶狠的训练木桩",description:"   ",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:900719925474099,atk:1,exp:1,level:9999999,skills:[{key:"melee",level:0},{key:"mz2skill2",level:0}],hooks:{speed_nochange:(e,t,n)=>1},loots:[]}]},4697:e=>{e.exports=[{key:"shrine.heal",name:"生命圣殿",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.hp+=1*t.maxHp;return this.kill(),!1}},{key:"shrine.energy",name:"能量圣殿",description:"增加怒气、能量、法力恢复速度30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.energy",6e4);return this.kill(),!1}},{key:"shrine.power",name:"威能圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.power",6e4);return this.kill(),!1}},{key:"shrine.experience",name:"经验圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.experience",6e4);return this.kill(),!1}},{key:"shrine.equip",name:"装备圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",loots:[{type:"equip",rate:.25,mfRate:1}],onPress(e){return this.kill(),!1}},{key:"shrine.wuxingshi",name:"精粹圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",loots:[{key:"wuxingshi",rate:1,count:[3,5]}],onPress(e){return this.kill(),!1}},{key:"shrine.redbag",name:"欢愉圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",loots:[{key:"year2018.redbag",rate:1,count:[1,1]}],onPress(e){return this.kill(),!1}}]},7964:e=>{e.exports=[{key:"slime.minimal",name:"小史莱姆",description:"黏糊糊的一团，是被黑暗之力操控的最原始的生物，不断吞噬周遭的物体。",camp:"enemy",race:"unknown",career:"melee",maxHp:15,atk:.5,exp:2,level:8,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,5],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.giant",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的东西。",camp:"neutral",race:"unknown",career:"melee",maxHp:30,exp:3,atk:2,level:12,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.giant.enemy",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的杂物。",camp:"enemy",race:"unknown",career:"melee",maxHp:30,exp:3,atk:1,level:16,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.queen",name:"母体史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:500,def:100,exp:50,atk:5,level:20,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0}],loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}]},3023:e=>{e.exports=[{key:"soul_karon",name:"卡隆的投影",description:"百鬼之王·卡隆",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e6,hpRecovery:800,maxMp:9999999999,mpRecovery:9999999999,darkResist:99999,lightResist:-999999,exp:1,atk:2e3,level:300,stunResist:4e4,skills:[{key:"soul_7",level:0},{key:"soul_iceplus",level:0},{key:"karon_dark_jige",level:0},{key:"karon_tombstoneplus",level:0},{key:"soul_darkfire",level:0},{key:"ghost_puncture",level:0},{key:"soul_poison",level:0},{key:"soul_ice",level:0},{key:"soul_shadow",level:0},{key:"ghost_fury",level:0},{key:"soul_weak",level:0},{key:"karon_tombstone",level:0},{key:"soul_armor",level:0},{key:"ghost_whip",level:0},{key:"moonlight_slash",level:0},{key:"soul_power",level:0},{key:"onikiri",level:0},{key:"jige_atk",level:0}],loots:[{key:"gold",count:[1,1],rate:1}]},{key:"paladin_ariel",name:"圣骑士·伊瑞尔",description:"圣骑士·伊瑞尔",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:8e3,exp:1,atk:150,level:30,skills:[{key:"ariel_skill1",level:0},{key:"ariel_skill2",level:0}],loots:[{key:"gold",count:[1,1],rate:1}]}]},9431:e=>{function t(e){return e<=60?.3*e+1:e<=70?.5*e+1-6:void 0}const n=[{key:"summon.element.slime",name:"~史莱姆~",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,def:2e3,fireResist:-2e3,meleeAbsorb:.5,skills:[{key:"melee",level:0}],v2Skills:[{key:"melee",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.meleeAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return this.summoner.maxHp**(1+r/10)},atk(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return Math.round(this.summoner.int/2+r)}}},{key:"summon.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,fireAbsorb:1.2,skills:[{key:"fireball.e",level:0}],v2Skills:[{key:"fireElement.flameStrike",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.fireAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"fire",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonFire");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonFire");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner.def}}},{key:"summon.element.water",name:"水元素",description:"一团滚动的水元素",camp:"player",race:"unknown",career:"melee",maxHp:10,iceAbsorb:1.2,skills:[{key:"waterArrow.e",level:0},{key:"iceNova",level:0}],v2Skills:[{key:"fishzilla.bomb",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.coldAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"water",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonWater");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonWater");return 4*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?2*this.summoner.def:0}}},{key:"summon.element.earth",name:"岩石傀儡",description:"坚固的岩石傀儡",camp:"player",race:"unknown",career:"melee",maxHp:10,def:100,skills:[{key:"melee",level:0},{key:"summon.earth.comeToMe",level:0}],v2Skills:[{key:"earthElement.recovery",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonEarth");return.4*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonEarth");return 6*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?5*this.summoner.def:0}}},{key:"summon.element.lightning",name:"闪电风暴",description:"一团跳动的闪电",camp:"player",race:"unknown",career:"melee",maxHp:10,lightningAbsorb:1.2,skills:[{key:"lightningElement.chainingLightning",level:0}],v2Skills:[{key:"lightningElement.stunAll",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.lightningAbsorb<.5,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"lightning",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonLightning");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonLightning");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return 2*this.summoner.def}}}],r=n.map((e=>({...e,key:e.key+".2",name:"II型"+e.name,skills:[...e.skills,...e.v2Skills]})));e.exports=[...n,...r]},8497:e=>{e.exports=[{key:"summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,skills:[{key:"tombstone_boom",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstone")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:0},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstoneplus")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:25},{key:"onikiri",level:25},{key:"tombstone",level:25},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("dark_jige")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}},{key:"karon_summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,skills:[{key:"tombstone_boom",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"karon_summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"karon_summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:50},{key:"onikiri",level:50},{key:"karon_tombstone",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkDmgadd(e,t){return this.summoner?this.summoner.darkDmgadd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}}]},2245:e=>{e.exports=[{key:"wolf.minimal",name:"幼狼",description:"山里的狼有这么多？看来大人们真的没有骗人。",camp:"enemy",race:"unknown",career:"melee",maxHp:100,atk:1.5,exp:5,level:24,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.giant",name:"母狼",description:"你问我怎么分清是公是母的？小孩子不要问太多……",camp:"enemy",race:"unknown",career:"melee",maxHp:200,exp:10,atk:6,level:26,skills:[{key:"melee",level:0},{key:"wolf.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.king",name:"狼王",description:"头顶有一撮白毛。据说这是最好的品种的象征",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e3,def:50,exp:200,atk:12,level:30,skills:[{key:"melee",level:0},{key:"wolf.call",level:0}],loots:[{key:"gold",count:[1,200],rate:.25}]}]},1320:e=>{e.exports=[{key:"zombies.farmer",name:"农夫发狂",description:"两眼发红，口水流了一嘴，看起来极其可怕",camp:"enemy",race:"unknown",career:"melee",maxHp:450,atk:10,exp:20,level:54,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombies.hammersmith",name:"铁匠发狂",description:"大哥，放下你手里的锤子！有话好好说！",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:40,atk:30,level:56,skills:[{key:"melee",level:0},{key:"zombie.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombie.necromancer",name:"死灵法师奈布",description:"死灵法师头目",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:6e3,hpRecovery:15,exp:800,atk:0,level:60,skills:[{key:"zombie.heal",level:0},{key:"zombie.hide",level:0}],loots:[{key:"gold",count:[5,100],rate:1}]}]},77:e=>{e.exports=[{key:"stronger",name:"强壮的",hooks:{maxHpMul:(e,t)=>2*t}},{key:"faster",name:"快速的",hooks:{atkSpeedMul:(e,t)=>2}},{key:"recover",name:"自愈的",hooks:{hpRecovery(e,t){return t+.005*this.maxHp}}},{key:"yingpi",name:"硬皮的",hooks:{defAdd:(e,t)=>t+2e3}},{key:"dead",name:"快嘎的",hooks:{maxHpMul:(e,t)=>.1*t}},{key:"magic",name:"抗魔的",hooks:{fireResist:(e,t)=>t+2e3,coldResist:(e,t)=>t+2e3,lightningResist:(e,t)=>t+2e3,darkResist:(e,t)=>t+2e3,lightResist:(e,t)=>t+2e3}},{key:"old",name:"迟钝的",hooks:{atkSpeedMul:(e,t)=>.1}}]},1862:(e,t,n)=>{e.exports=[...n(77)]},787:(e,t,n)=>{e.exports=[...n(6413),...n(5928),...n(7985),...n(7196),...n(6095)]},7196:e=>{e.exports=[{key:"pal_enhance1",name:"祈祷",description:"每综合等级+2生命恢复。",hooks:{hpRecovery(e,t){return t+2*(this.level+this.player.peakLevel)},pal_enhance1:()=>!0}},{key:"pal_enhance2",name:"火焰抵抗",description:"火焰吸收+25%。",hooks:{fireAbsorb:(e,t)=>t+.25,pal_enhance2:()=>!0}},{key:"pal_enhance3",name:"反抗",description:"自身受到的物理伤害减少35%，每综合等级+0.35%物理防御。",hooks:{willDamaged:(e,t,n,r)=>"melee"===r?.65*t:t,defAdd(e,t){return t+(this.level+this.player.peakLevel)*this.def_self*.0035},pal_enhance3:()=>!0}},{key:"pal_enhance4",name:"荆棘",description:"受到物理伤害时，对攻击你的目标反弹（实际受到伤害×综合等级×50%）点物理伤害。",hooks:{pla_jingji(e,t,n,r){return"melee"===n&&r*(this.level+this.player.peakLevel)*.5},pal_enhance4:()=>!0}},{key:"pal_enhance5",name:"祝福瞄准",description:"每综合等级+1%暴击伤害。",hooks:{critBonusAdd(e,t){return t+.01*(this.level+this.player.peakLevel)},pal_enhance5:()=>!0}},{key:"pal_enhance6",name:"寒冷抵抗",description:"寒冷吸收+25%。",hooks:{coldAbsorb:(e,t)=>t+.25,pal_enhance6:()=>!0}},{key:"pal_enhance7",name:"净化",description:"暗、毒素吸收+40%。",hooks:{darkAbsorb:(e,t)=>t+.4,poisonAbsorb:(e,t)=>t+.4,pal_enhance7:()=>!0}},{key:"pal_enhance8",name:"精力",description:"耐力增加20%。",hooks:{staAdd:(e,t)=>1.2*t,pal_enhance8:()=>!0}},{key:"pal_enhance9",name:"冥思",description:"智力增加20%，每秒恢复1%的法力值。",hooks:{mpRecovery(e,t){return t+.01*this.maxMp},intAdd:(e,t)=>1.2*t,pal_enhance9:()=>!0}},{key:"pal_enhance10",name:"救助",description:"自身受到的火焰、寒冷、闪电伤害减少35%。",hooks:{willDamaged:(e,t,n,r)=>"fire"===r||"cold"===r||"lightning"===r?.65*t:t,pal_enhance10:()=>!0}},{key:"pal_enhance11",name:"救赎",description:"每次完成击杀，恢复自身5%的生命值和法力值。",hooks:{hpFromKill(e,t){return t+.05*this.maxHp},mpFromKill(e,t){return t+.05*this.maxMp},pal_enhance11:()=>!0}},{key:"pal_enhance12",name:"闪电抵抗",description:"闪电吸收+25%。",hooks:{lightningAbsorb:(e,t)=>t+.25,pal_enhance12:()=>!0}}]},5928:e=>{e.exports=[{key:"sree1",name:"能量亲和",description:"每秒恢复1%的法力值。",hooks:{mpRecovery(e,t){return t+.01*this.maxMp}}},{key:"sree2",name:"魔法盾",description:"受到伤害时，可以消耗1点法力来抵消1点伤害；“魔法铠甲”的等级每提升一级，每点法力可抵消的伤害增加0.08点。",hooks:{mgd_hook(e,t,n){const{unit:r}=this,i=this.buffs.find((e=>"coldShield"===e.group)),s=this.runAttrHooks(0,"sree36");let a=2+.08*(n.player.skillExp.get("sorceress_shield")?n.player.skillExp.get("sorceress_shield").level:0)+this.runAttrHooks(0,"abcde");return a*=i&&s?1.2:1,this.mp>0&&(t>=this.mp*a?(this.mp=0,t-=this.mp*a):(this.mp-=t/a,t=0)),t},fireAbsorb(e,t){return t+(this.runAttrHooks(!1,"ms_zg")?.3:0)},coldAbsorb(e,t){return t+(this.runAttrHooks(!1,"ms_zg")?.3:0)},lightningAbsorb(e,t){return t+(this.runAttrHooks(!1,"ms_zg")?.3:0)}}},{key:"sree3",name:"法力转化",description:"释放技能所消耗的法力值会100%转化为护盾，持续5秒；护盾上限不超过法力值上限的100%，每次叠加会刷新持续时间。",hooks:{postCostMp(e,t){const n=this.buffs.find((e=>"shield_buff"===e.group));return n?(n.arg+=t,n.arg=Math.min(this.maxMp,n.arg),n.resetTimer(5e3)):this.addBuff("shield_buff",5e3,t,"shield_buff"),this.ep+=t,t}}},{key:"sree4",name:"和弦·Ⅰ",description:"释放“魔法连弹”将使你下一个元素法术的伤害提高30%，但任何类型的持续伤害不受影响。",hooks:{lv15_sorceress1_enhance1:()=>!0}},{key:"sree5",name:"和弦·Ⅱ",description:"“魔法连弹”每次命中，若伤害未暴击，则为自身添加一层“和弦”效果，持续3秒。\n\t\t和弦：暴击几率+8%，每次触发将叠加层数并刷新持续时间，但任意伤害暴击后减少一半的层数。",hooks:{testCrit1(e,t,n,r,i,s){const a=this.buffs.find((e=>"tc_bf"===e.group));return i?a&&(a.arg/=2):"wind_blade"===s.type&&(a?(a.arg+=.08,a.resetTimer(5e3)):this.addBuff("tc_bf",3e3,.08,"tc_bf")),t}}},{key:"sree6",name:"智力强化",description:"智力提高10%。",hooks:{intMul:(e,t)=>1.1}},{key:"sree7",name:"火焰专精",description:"释放技能造成的火焰伤害提高20%。",hooks:{willDamage:(e,t,n,r)=>t}},{key:"sree8",name:"闪电专精",description:"释放技能造成的闪电伤害提高20%。",hooks:{willDamage:(e,t,n,r)=>t}},{key:"sree9",name:"寒冷专精",description:"释放技能造成的寒冷伤害提高20%。",hooks:{willDamage:(e,t,n,r)=>t}},{key:"sree10",name:"开源节流",description:"释放技能消耗的法力值减少80%。",hooks:{CostMp:(e,t)=>.2*t}},{key:"sree11",name:"魔力激化",description:"释放技能消耗的法力值提高50%，造成的伤害提高20%",hooks:{CostMp:(e,t)=>1.5*t,willDamage:(e,t,n,r)=>1.2*t}},{key:"sree12",name:"织网",description:"“魔法铠甲”状态下，受到的伤害减少30%。",hooks:{willDamaged(e,t,n,r){return this.buffs.find((e=>"magic_shield_buff"===e.group))&&"real"!==r?t*Math.max(1-this.runAttrHooks(.3,"c80sk"),.4):t}}},{key:"sree13",name:"烈火",description:"若目标的生命值少于30%，则“火球术”对其造成的伤害提高50%。",hooks:{testCrit1:(e,t,n,r,i,s)=>("sorceress_fireBall"===s.type&&(n.hp,n.maxHp),t)}},{key:"sree14",name:"连珠火球",description:"每次释放“火球术”时，有20%的几率额外释放一次“火球术”；触发效果后将再次判定，直至未触发为止。",hooks:{sree14:()=>!0}},{key:"sree15",name:"汇源",description:"释放“透支”将不再获得法力值恢复减少的负面效果。",hooks:{sree15:()=>!0}},{key:"sree16",name:"毁灭之握",description:"“爆炎术”只对主目标造成伤害，但伤害提高400%。",hooks:{sree16:()=>4}},{key:"sree17",name:"焰气蒸腾",description:"释放“火球术”会使“爆炎术”的冷却时间减少1秒。",hooks:{sree17:()=>!0}},{key:"sree18",name:"炙烤",description:"“地狱之火”的引导时间减少2秒，伤害间隔减少0.5秒。",hooks:{sree18:()=>!0}},{key:"sree19",name:"咒语学",description:"急速增加30%。",hooks:{speedRateAdd:(e,t)=>.3+t}},{key:"sree20",name:"促燃",description:"“烈焰护盾”状态下，受到物理攻击会释放一次额外的“点燃”。",hooks:{sree20:()=>!0}},{key:"sree21",name:"腾焰飞芒",description:"“烈焰护盾”效果持续期间，自身造成的火焰伤害提高20%。。",hooks:{sree21:()=>!0}},{key:"sree22",name:"殉爆",description:"对受到“灼烧”效果影响的目标造成火焰伤害时，有80%的几率触发“殉爆”效果。殉爆：结算目标已有的“灼烧”效果对其他所有目标造成等量火焰伤害，同时重置“点燃”的冷却时间，持续伤害无法触发“殉爆”。",hooks:{willDamage(e,t,n,r,i){const{target:s}=this,a=s.buffs.find((e=>"fire_buff"===e.group));if(a&&"fire"===r&&Math.random()<.8){const{arg:e,totalTime:t,effectInterval:n}=a,r=a.arg*t/n,o=this.runAttrHooks(!1,"sree29")?this.critRate:0,l=this.runAttrHooks(!1,"sree29")?this.critBonus:0;s.removeBuff(a);for(const e of i.units.filter((e=>this.willAttack(e))))i.sendDamage("fire",null,e,"殉爆",r,o,l);for(const e of this.skills)"点燃"==e.name&&e.reduceCoolDown(2e4)}return t}}},{key:"sree23",name:"燃尽",description:"造成火焰伤害时有20%几率释放一次“点燃”，持续伤害无法触发。",hooks:{willDamage(e,t,n,r){return"fire"===r&&Math.random()<.2&&this.useExtraSkill("sorceress_igniting"),t}}},{key:"sree24",name:"虚无",description:"元素化状态下，自身受到的物理伤害减少80%。",hooks:{sree24:()=>!0}},{key:"sree25",name:"余威",description:"元素化状态结束后，立即恢复100%法力值。",hooks:{sree25:()=>!0}},{key:"sree26",name:"烙印",description:"每次造成火焰伤害，会使目标的火焰抗性永久减少30点。",hooks:{willDamage:(e,t,n,r)=>("fire"===r&&function(e,t){const n=t.buffs.find((e=>"laoyin_buff"===e.group));n?n.arg+=30:t.addBuff("laoyin_buff",null,30,"laoyin_buff")}(0,n),t)}},{key:"sree27",name:"灰烬",description:"“焚骨”每段伤害递增100%。",hooks:{sree27:()=>!0}},{key:"sree28",name:"传火者",description:"每次释放“点燃”时，有60%的几率额外释放一次“点燃”；触发效果后将再次判定，直至未触发为止。",hooks:{sree28:()=>!0}},{key:"sree29",name:"业火",description:"“殉爆”造成的伤害会受到自身暴击、暴击伤害加成。",hooks:{sree29:()=>!0}},{key:"sree30",name:"水射流",description:"“水箭术”伤害+30%，目标数+5。",hooks:{sree30:()=>!0}},{key:"sree31",name:"冰刺",description:"“水箭术”伤害+150%，15%几率冻结目标1.5秒。",hooks:{sree31:()=>!0}},{key:"sree32",name:"入微",description:"“活力之水”的效果+150%。",hooks:{sree32:()=>2.5}},{key:"sree33",name:"潮打",description:"“潮起”的持续时间提高至6秒。",hooks:{sree33:()=>!0}},{key:"sree34",name:"潮痕",description:"“潮落”的持续时间提高至6秒。",hooks:{sree34:()=>!0}},{key:"sree35",name:"惊涛骇浪",description:"“潮汐”造成两段伤害，同时触发“潮起”、“潮落”的效果。",hooks:{sree35:()=>!0}},{key:"sree36",name:"坚冰",description:"“寒冰护盾”状态下，被动技能“魔法盾”抵消的伤害提高20%。",hooks:{sree36:()=>!0}},{key:"sree37",name:"狂澜",description:"“湍流”每命中一个目标，则额外向当前目标释放1次“水箭术”，最多3次。",hooks:{sree37:()=>!0}},{key:"sree38",name:"冻伤",description:"每次触发“冻结”，会使目标的受到的寒冷伤害永久提高1%，可叠加。",hooks:{sree38:()=>!0}},{key:"sree39",name:"碎冰",description:"受“冻结”效果影响的目标再次触发“冻结”效果时，立即移除“冻结”效果并额外造成其生命值20%的寒冷伤害，该伤害最大不超过自身智力的50倍。",hooks:{sree39:()=>!0}},{key:"sree40",name:"寒冰屏障",description:"免于一次重伤，恢复100%的生命值、法力值并在5秒内减少99%的伤害；每120秒至多触发1次，且不受急速影响。",hooks:{willDead(e,t,n,r){const i=this.buffs.find((e=>"willdead_buff"===e.group));return"real"!==r&&t>this.hp&&!i?(this.hp=this.maxHp,this.mp=this.maxMp,this.addBuff("sree40_buff",5e3,null,"sree40_buff"),this.addBuff("willdead_buff",12e4,null,"willdead_buff"),0):t}}},{key:"sree41",name:"冷锋",description:"每次触发“冻结”，自身获得“冷锋”效果。冷锋：暴击+10%，暴伤+20%，持续3秒，不可叠加。",hooks:{sree41:()=>!0}},{key:"sree42",name:"绝对零度",description:"对boss单位造成的寒冷伤害提高25%；对非boss单位造成的寒冷伤害提高50%，且有5%几率触发即死效果。",hooks:{willDamage:(e,t,n,r)=>("cold"===r&&(n.boss&&(t*=1.25),!n.boss&&Math.random()<.05?n.kill():t*=1.5),t)}},{key:"sree43",name:"浪涌",description:"“海啸”命中后使目标停止行动1秒，每次命中刷新持续时间。",hooks:{sree43:()=>!0}},{key:"sree44",name:"无尽寒冬",description:"“暴风雪”的冻结几率提高至100%。",hooks:{sree44:()=>!0}},{key:"sree45",name:"银蛇乱舞",description:"“雷蛇”的弹射次数+5。",hooks:{sree45:()=>!0}},{key:"sree46",name:"电火花",description:"“闪电”造成伤害后，“雷蛇”的冷却时间减少1秒。",hooks:{sree46:()=>!0}},{key:"sree47",name:"磁暴",description:"“闪电”的冷却时间提高至1秒，但每次必定造成最大值伤害，同时会获得一格电能。",hooks:{sree47:()=>!0}},{key:"sree48",name:"高压",description:"闪电法术的伤害上限提高50%。",hooks:{sree48:()=>1.5}},{key:"sree49",name:"快充",description:"“蓄电”的冷却时间减少3秒。",hooks:{sree49:()=>3e3}},{key:"sree50",name:"稳压",description:"闪电法术的伤害下限提高至上限的50%。",hooks:{sree50:()=>.5}},{key:"sree51",name:"击穿",description:"每次造成闪电伤害都会使目标获得一层“感电”效果。感电：受到的闪电伤害增加2%，持续10秒，每次触发将叠加效果并刷新持续时间。",hooks:{sree51:()=>!0}},{key:"sree52",name:"电芒",description:"“雷霆护盾”状态下，受到物理攻击时会对伤害来源造成等同于智力×2的闪电伤害。",hooks:{sree52:()=>!0}},{key:"sree53",name:"雷霆震怒",description:"每有1格电能，“电芒”的伤害提高10%。",hooks:{sree53:()=>!0}},{key:"sree54",name:"辉光",description:"每1格电能增加4%暴击伤害。",hooks:{critBonusAdd(e,t){return t+.04*(this.comboPoint||0)}}},{key:"sree55",name:"回流",description:"进入元素化状态时会立即获得10格电能。",hooks:{sree55:()=>!0}},{key:"sree56",name:"电能回收",description:"释放“闪电”、“蓄电”可以额外获得1格电能。",hooks:{sree56:(e,t)=>t+1}},{key:"sree57",name:"电击流",description:"造成闪电伤害时，有50%几率再次对所有目标造成（智力×2）点闪电伤害。",hooks:{willDamage(e,t,n,r){const{target:i}=this;return"lightning"===r&&Math.random()<.5&&this.useExtraSkill("dianjiliu_skill"),t}}},{key:"sree58",name:"神降术",description:"元素化状态下，“脉冲”的冷却时间减少75%且造成伤害后返还10格电能。",hooks:{sree58:()=>!0,reCostComboPoint(e,t){this.buffs.find((e=>"bc_lightning_buff1"===e.group))&&(this.comboPoint+=10)}}},{key:"sree59",name:"过载",description:"电能达到上限后，每再获得1格电能，“脉冲”的冷却时间减少1秒。",hooks:{sree59:()=>!0}}]},7985:e=>{e.exports=[{key:"soulbringer_enhance1",name:"黑暗君主·布甲精通",description:"根据穿戴的布甲品质等级提升属性。每级提升0.5智力、4闪避值、0.05法力值恢复、3暗影抗性，但自身的神圣抗性同时减少2。",hooks:{intAdd(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.5*n},missing(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+4*n},mpRecovery(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.05*n},darkResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+3*n},lightResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),Math.max(t-2*n,0)}}},{key:"soulbringer_enhance2",name:"鬼斩·噬魂",description:"“鬼斩”的伤害+30%，造成伤害后提高（技能等级×10）力量、智力，持续4秒。",hooks:{soulbringer_enhance2:(e,t)=>1.3}},{key:"soulbringer_enhance3",name:"凭依",description:"普通攻击转变为暗属性伤害，且伤害提高50%，攻击目标数+2。",hooks:{soulbringer_enhance3:(e,t)=>!0}},{key:"soulbringer_enhance4",name:"黑暗降临",description:"鬼神·虚弱的力量将使所有目标额外减少（技能等级×200）暗影抗性。",hooks:{soulbringer_enhance4:(e,t)=>!0}},{key:"soulbringer_enhance5",name:"黑暗光环",description:"鬼神·铠甲的力量将使自身暗影伤害+（技能等级×1%）。",hooks:{soulbringer_enhance5:(e,t)=>!0}},{key:"soulbringer_enhance6",name:"封印解除",description:"鬼神系列技能的技能效果提高10级，可突破等级上限的限制。",hooks:{soulbringer_enhance6:(e,t)=>10}}]},6095:e=>{e.exports=[{key:"vbeh1",name:"尚武",description:"同时装备一对拳套，造成的物理伤害提高25%。",hooks:{willDamage(e,t,n,r){const{weapon:i,assistant:s}=this.player.equipments;return!i.empty&&i.goodData.class,!s.empty&&s.goodData.class,t}}},{key:"vbeh2",name:"勤学",description:"每格拳意增加3%急速。",hooks:{speedRateAdd(e,t){return t+.03*(this.comboPoint||0)}}},{key:"vbeh3",name:"苦练",description:"每格拳意增加5%攻击力。",hooks:{atk_self_Add(e,t){return t+t*(this.comboPoint||0)*.05}}},{key:"vbeh4",name:"技之极",description:"每点敏捷额外增加0.1攻击力；自身每装备1件布甲，敏捷提高10%。",hooks:{dexMul(e,t){let n=1;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||"cloth"!==r.goodData.class||(n+=.1),i.empty||"cloth"!==i.goodData.class||(n+=.1),n},atk_self_Add(e,t){return t+.1*this.dex}}},{key:"vbeh5",name:"力之极",description:"每点力量额外增加0.1攻击力；自身每装备1件重甲，力量提高10%。",hooks:{strMul(e,t){let n=1;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||"armor"!==r.goodData.class||(n+=.1),i.empty||"armor"!==i.goodData.class||(n+=.1),n},atk_self_Add(e,t){return t+.1*this.str}}},{key:"vbeh5_1",name:"衡平",description:"每装备1件轻甲，自身暴击几率增加5%，暴击伤害增加10%，攻击力增加10%。",hooks:{atk_self_Add(e,t){const{plastron:n,gaiter:r}=this.player.equipments;let i=1;return n.empty||"lightArmor"!==n.goodData.class||(i+=.1),r.empty||"lightArmor"!==r.goodData.class||(i+=.1),t*i},critBonusAdd(e,t){const{plastron:n,gaiter:r}=this.player.equipments;return n.empty||"lightArmor"!==n.goodData.class||(t+=.1),r.empty||"lightArmor"!==r.goodData.class||(t+=.1),t},critRateAdd(e,t){const{plastron:n,gaiter:r}=this.player.equipments;return n.empty||"lightArmor"!==n.goodData.class||(t+=.05),r.empty||"lightArmor"!==r.goodData.class||(t+=.05),t}}},{key:"vbeh6",name:"剪步推按",description:"释放“扑面掌”之后，将衔接释放一次额外的“推掌”。",hooks:{vbeh6:(e,t)=>!0}},{key:"vbeh7",name:"剪步旋臂",description:"释放“扑面掌”之后，将衔接释放一次额外的“直拳”。",hooks:{vbeh7:(e,t)=>!0}},{key:"vbeh8",name:"跟步推按",description:"释放“搬拦捶”之后，将衔接释放一次额外的“推掌”。",hooks:{vbeh8:(e,t)=>!0}},{key:"vbeh9",name:"跟步旋臂",description:"释放“搬拦捶”之后，将衔接释放一次额外的“直拳”。",hooks:{vbeh9:(e,t)=>!0}},{key:"vbeh10",name:"修身养性",description:"耐力提高25%；每格拳意增加2%伤害吸收。",hooks:{meleeAbsorb(e,t){return t+.02*(this.comboPoint||0)},fireAbsorb(e,t){return t+.02*(this.comboPoint||0)},coldAbsorb(e,t){return t+.02*(this.comboPoint||0)},lightningAbsorb(e,t){return t+.02*(this.comboPoint||0)},darkAbsorb(e,t){return t+.02*(this.comboPoint||0)},lightAbsorb(e,t){return t+.02*(this.comboPoint||0)},poisonAbsorb(e,t){return t+.02*(this.comboPoint||0)},staMul:(e,t)=>1.25}},{key:"vbeh11",name:"虚步劈掌",description:"释放“顶心肘”之后，将衔接释放一次额外的“扑面掌”。",hooks:{vbeh11:(e,t)=>!0}},{key:"vbeh12",name:"虚步搬捶",description:"释放“顶心肘”之后，将衔接释放一次额外的“搬拦捶”。",hooks:{vbeh12:(e,t)=>!0}},{key:"vbeh13",name:"退步棚臂",description:"释放“扫堂腿”之后，将衔接释放一次额外的“顶心肘”。",hooks:{vbeh13:(e,t)=>!0}},{key:"vbeh14",name:"弓步棚臂",description:"释放“双劈手”之后，将衔接释放一次额外的“顶心肘”。",hooks:{vbeh14:(e,t)=>!0}},{key:"vbeh15",name:"疾风摆荡",description:"释放“无影腿”之后，将衔接释放一次额外的“扫堂腿”。",hooks:{vbeh15:(e,t)=>!0}},{key:"vbeh16",name:"疾风贯耳",description:"释放“无影腿”之后，将衔接释放一次额外的“双劈手”。",hooks:{vbeh16:(e,t)=>!0}},{key:"vbeh17",name:"峰峦摆荡",description:"释放“铁山靠”之后，将衔接释放一次额外的“扫堂腿”。",hooks:{vbeh17:(e,t)=>!0}},{key:"vbeh18",name:"峰峦贯耳",description:"释放“铁山靠”之后，将衔接释放一次额外的“双劈手”。",hooks:{vbeh18:(e,t)=>!0}}]},6413:e=>{e.exports=[{key:"wree1",name:"壁垒",description:"装备盾牌时，受到的伤害减少40%。",hooks:{willDamaged(e,t,n,r){const{assistant:i}=this.player.equipments;return i.empty||"shield"!==i.goodData.class||"real"===r?t:t*Math.max(1-this.runAttrHooks(.4,"c80sk"),.2)}}},{key:"wree2",name:"拙技",description:"“挥砍”造成伤害后，可以额外获得2点怒气。",hooks:{wree2:(e,t)=>2}},{key:"wree3",name:"坚韧",description:"每秒额外恢复1%的生命值。",hooks:{hpRecovery(e,t){return t+.01*this.maxHp}}},{key:"wree4",name:"生存技巧",description:"“伤口包扎”恢复的生命值提高100%。",hooks:{wree4:(e,t)=>2}},{key:"wree5",name:"苦修",description:"“重击”造成伤害后，返还5点怒气。",hooks:{wree5:(e,t)=>!0}},{key:"wree6",name:"奋勇",description:"“斩击”的暴击几率+10%，暴击伤害+20%。",hooks:{wree6:(e,t)=>!0}},{key:"wree7",name:"舞剑",description:"旋风斩目标数+5，但不再获得怒气。",hooks:{wree7:(e,t)=>!0}},{key:"wree8",name:"生生不息",description:"释放“气血激增”时，每秒额外恢复1%的生命值，持续10秒，不可叠加。",hooks:{wree8:(e,t)=>!0}},{key:"wree9",name:"锐不可当",description:"“斩击”造成伤害后，“旋风斩”的冷却时间减少1秒。",hooks:{wree9:(e,t)=>!0}},{key:"wree10",name:"联防",description:"释放“钢铁之躯”时，额外增加等量的元素抗性。",hooks:{wree10:(e,t)=>!0}},{key:"wree11",name:"克敌",description:"对受“断筋”效果影响的目标造成的伤害提高20%。",hooks:{wree11:(e,t)=>!0}},{key:"wree12",name:"剑花",description:"“斩击”的伤害有20%的几率提高80%。",hooks:{wree12:(e,t)=>!0}},{key:"wree13",name:"火焰之舞",description:"释放“元素附魔”额外使下一个“旋风斩”转变为火焰伤害，并对目标添加一层“灼烧”效果。灼烧：每3秒受到35%攻击力的火焰伤害，持续15秒，可叠加。",hooks:{wree13:(e,t)=>!0}},{key:"wree14",name:"恪守",description:"格挡后获得5点怒气，并恢复2%生命。",hooks:{blocked(){this.hp+=.02*this.maxHp,this.rp+=2}}},{key:"wree15",name:"斩杀",description:"对生命值百分比低于30%的单位，造成的伤害提高20%。",hooks:{willDamage:(e,t,n,r)=>(n.hp/n.maxHp<.3&&(t*=1.2),t)}},{key:"wree16",name:"迅风",description:"“疾风”额外增加10%的急速。",hooks:{wree16:(e,t)=>.1}},{key:"wree17",name:"狂风",description:"“疾风”状态下，“斩击”的冷却时间减少0.2秒。",hooks:{wree17:(e,t)=>200}},{key:"wree18",name:"元素掌控",description:"释放“旋风斩”、“斩击”、“劈砍”不会消耗元素附魔的效果。",hooks:{wree18:(e,t)=>!0}},{key:"wree19",name:"火锤",description:"“重斩”转变为火焰伤害，且造成伤害后使目标受到的火焰伤害提高30%，持续12秒。",hooks:{wree19:(e,t)=>!0}},{key:"wree20",name:"力量强化",description:"力量提高10%。",hooks:{strMul:(e,t)=>1.1}},{key:"wree21",name:"追击",description:"“重斩”造成伤害后，会释放一次额外的“斩击”。",hooks:{wree21:(e,t)=>!0}},{key:"wree22",name:"怒不可遏",description:"怒气上限增加100，每秒获得1点怒气。",hooks:{maxRp:(e,t)=>t+100,rpRecovery:(e,t)=>t+1}},{key:"wree23",name:"借力打力",description:"格挡几率增加10%，成功格挡后将释放一次额外的“旋风斩”。",hooks:{blocked(){this.useExtraSkill("whirlwind")},blockrate:(e,t)=>t+.1}},{key:"wree24",name:"剑术专精",description:"释放“斩击”造成伤害后，有20%的几率再释放一次额外的“斩击”，可重复触发。",hooks:{wree24:(e,t)=>!0}},{key:"wree25",name:"越战越勇",description:"每点怒气使“炎龙吐息”造成的伤害额外提高0.5%。",hooks:{wree25:(e,t)=>.01}},{key:"wree26",name:"冷静",description:"当怒气小于50点时，攻击力提高20%",hooks:{atk_Add(e,t){return this.rp<50?t+.2*this.atk_self:t}}},{key:"wree27",name:"碎剑式",description:"“连斩姿态”状态下释放“斩击”，会使目标受到的物理伤害永久提高0.25%，可叠加。",hooks:{wree27:(e,t)=>!0}},{key:"wree28",name:"星火",description:"释放“斩击”并造成火焰伤害时，可以额外获得2点怒气，并使“炎龙吐息”的冷却时间减少1秒。",hooks:{wree28:(e,t)=>!0}},{key:"wree29",name:"蓄剑式",description:"释放“连斩姿态”会消耗所有的怒气，并立即重置“无敌斩”的冷却时间。",hooks:{wree29:(e,t)=>!0}},{key:"wree30",name:"附骨焱",description:"灼烧的伤害提高50%。",hooks:{wree30:(e,t)=>1.5}},{key:"wree31",name:"暗器伤人",description:"装备匕首时，暴击几率+10%。",hooks:{critRateAdd(e,t){let n=0;const{assistant:r}=this.player.equipments;return n+=r.empty||"daggers"!==r.goodData.class?0:.1,t+n}}},{key:"wree32",name:"命源",description:"生命值上限提高20%，生命恢复提高30%。",hooks:{maxHpAdd:(e,t)=>1.2*t,hpRecovery:(e,t)=>1.3*t}},{key:"wree33",name:"化血成碧",description:"存在护盾类效果时，“劈砍”造成伤害后会将10%当前生命值转化为护盾值。",hooks:{wree33:(e,t)=>!0}},{key:"wree34",name:"血气屏障",description:"存在护盾类效果时，受到的伤害减少20%。",hooks:{willDamaged(e,t,n,r){return t*(this.ep>0?.8:1)}}},{key:"wree35",name:"瓦解",description:"“碎甲”效果从30%提升至45%。",hooks:{wree33:(e,t)=>.15}},{key:"wree36",name:"沸血",description:"“血怒”效果持续期间，以2点/秒的速度获得怒气。",hooks:{wree36:(e,t)=>!0}},{key:"wree37",name:"战意",description:"存在护盾类效果时，释放“血怒”会获得消耗生命值两倍的护盾。",hooks:{wree37:(e,t)=>!0}},{key:"wree38",name:"欺压",description:"生命值百分比超过目标时，每超过1%，对其造成的伤害提高0.3%。",hooks:{willDamage(e,t,n,r){return"real"!==r&&(t*=1+.3*Math.max(0,this.hp/this.maxHp-n.hp/n.maxHp)),t}}},{key:"wree39",name:"浴血奋战",description:"每损失1%生命值，造成的伤害提高0.3%，生命恢复提高0.5%。",hooks:{willDamage(e,t,n,r){return"real"!==r&&(t*=1+(this.maxHp-this.hp)/this.maxHp*.003),t},hpRecovery(e,t){return t*(1+(this.maxHp-this.hp)/this.maxHp*.005)}}},{key:"wree40",name:"力量训练",description:"“劈砍”和“致命劈砍”的伤害提高30%。",hooks:{wree40:(e,t)=>1.3}},{key:"wree41",name:"曜日",description:"“劈砍”造成火焰伤害时，将使目标的火焰抗性永久减少100点。",hooks:{wree41:(e,t)=>!0}},{key:"wree42",name:"冰凝",description:"“劈砍”造成寒冷伤害时，将使目标的寒冷抗性永久减少100点。",hooks:{wree42:(e,t)=>!0}},{key:"wree43",name:"戏火",group:90,description:"“元素附魔”状态下释放“劈砍”必定造成火焰伤害，伤害提高20%并获得20点火能。",hooks:{wree43:(e,t)=>!0}},{key:"wree44",name:"刺骨",group:90,description:"“元素附魔”状态下释放“劈砍”必定造成寒冷伤害，伤害提高20%并获得20点冰能。",hooks:{wree44:(e,t)=>!0}},{key:"wree45",name:"无情",description:"每点怒气使自身造成的伤害提高0.15%。",hooks:{willDamage(e,t,n,r){return"real"!==r&&(t*=1+.0015*this.rp),t}}},{key:"wree46",name:"破釜沉舟",description:"释放“血甲缚”获得的护盾提高100%，但释放后仅保留1点生命值。",hooks:{wree46:(e,t)=>2}},{key:"wree47",name:"交相辉映",description:"释放“末日”将同时触发两种效果，但消耗的能量不会因此而增加。",hooks:{wree47:(e,t)=>!0}},{key:"wree48",name:"屠戮",description:"释放“血甲缚”可以额外获得200点怒气。",hooks:{wree48:(e,t)=>!0}},{key:"wree49",name:"奋勇",description:"“劈砍”的暴击几率+10%，暴击伤害+20%。",hooks:{wree49:(e,t)=>!0}},{key:"wree50",name:"绝对领域",description:"受到攻击时“守护者之魂”会自动反击所有敌人，造成（物理防御×10%）点真实伤害。",hooks:{wree50:(e,t)=>!0}},{key:"wree51",name:"金石之躯",description:"“钢铁之躯”的效果提高100%。",hooks:{wree51:(e,t)=>2}},{key:"wree52",name:"援助之手",description:"“斩击”造成伤害后会获得2%生命值的护盾，不可叠加。",hooks:{wree52:(e,t)=>!0}},{key:"wree53",name:"庇护",description:"“盾冲”造成伤害后会获得10%生命值的护盾，不可叠加。",hooks:{wree53:(e,t)=>!0}},{key:"wree54",name:"连环击破",description:"“旋风斩”每命中1个目标，“盾冲”的冷却时间减少1秒。",hooks:{wree54:(e,t)=>!0}},{key:"wree55",name:"猪突猛进",description:"“盾冲”会消耗所有怒气，每消耗1点伤害提高1%。",hooks:{wree55:(e,t)=>!0}},{key:"wree56",name:"震荡",description:"“钢铁之躯”状态下，“绝对领域”造成的伤害提高50%。",hooks:{wree56:(e,t)=>!0}},{key:"wree57",name:"百战不殆",description:"每击杀一个目标会获得20点怒气。",hooks:{rpFromKill:(e,t)=>t+20}},{key:"wree58",name:"卸力",description:"格挡后的减伤效果增加15%。",hooks:{blockeffect:(e,t)=>t+.15}},{key:"wree59",name:"创世神的守护",description:"伤害吸收+30%。",hooks:{allAbsAdd:(e,t)=>t+.3}},{key:"wree60",name:"不灭体",description:"每损失1%生命值，生命恢复提高3%。",hooks:{hpRecovery(e,t){return t*(1+(this.maxHp-this.hp)/this.maxHp*.03)}}},{key:"wree61",name:"不屈意志",description:"每损失1点生命值，增加1点物理防御、1点元素（火焰、寒冷、闪电）抗性。",hooks:{defselfAdd(e,t){return t+(this.maxHp-this.hp)},allResselfAdd(e,t){return t+(this.maxHp-this.hp)}}},{key:"wree62",name:"以守待攻",description:"格挡几率增加20%，成功格挡会立即释放一次额外的“盾冲”。",hooks:{blocked(e){this.useExtraSkill("shield_charge")},blockrate:(e,t)=>t+.2}},{key:"wree63",name:"惩戒",description:"目标每损失1%的生命值，“无限正义之剑”造成的伤害提高2%。",hooks:{wree63:(e,t)=>!0}},{key:"wree64",name:"行刑",description:"“无限正义之剑”可以对所有目标造成伤害。",hooks:{wree64:(e,t)=>!0}}]},6304:e=>{e.exports=[{key:"lgpt",type:"equip",class:"base",position:"plastron",name:"布衣",description:"朴素的长剑。",minLevel:99999999},{key:"lggt",type:"equip",class:"base",position:"gaiter",name:"布裤",description:"朴素的长剑。",minLevel:99999999},{key:"copperArmor",type:"equip",position:"plastron",class:"armor",name:"锁子甲",description:"铜环串联而成的胸甲，远远看去像身上挂满了铜钱，很是炫富。"},{key:"copperShinGuard",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"copperShinGuard1",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",minLevel:99999999999,description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"boneArmor",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……"},{key:"boneShinGuard",type:"equip",position:"gaiter",class:"lightArmor",name:"骨靴",description:"用骨片雕琢而成的靴子，已经看不出骨头来自哪个部位了。"},{key:"shoes",type:"equip",position:"gaiter",class:"lightArmor",name:"皮靴",description:"",minLevel:999999999999},{key:"boneArmor1",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……",minLevel:99999999999},{key:"mithrilDress",type:"equip",position:"plastron",class:"cloth",name:"秘银衬衫",description:"布料掺杂秘银制造的衬衫，不过到处是镂空，不知道是为了美观还是为了节约成本。"},{key:"mithrilSkirt",type:"equip",position:"gaiter",class:"cloth",name:"秘银长裤",description:"一层布料一层秘银叠加而成的长裤，款式男女皆宜。"}]},9618:e=>{e.exports=[{key:"SwordShield",type:"equip",class:"shield",position:"assistant",name:"皮盾",description:"朴素的圆盾。"},{key:"gloves_l",type:"equip",class:"gloves_l",position:"assistant",name:"拳套(左)",description:"另外一只不知道去哪了。"},{key:"books",type:"equip",class:"books",position:"assistant",name:"魔法书",description:""},{key:"daggers",type:"equip",class:"daggers",position:"assistant",name:"匕首",description:""}]},4058:(e,t,n)=>{e.exports=[...n(6928),...n(8479),...n(6304),...n(7868),...n(9618)]},7868:e=>{e.exports=[{key:"lgjq",type:"equip",class:"base",position:"ornament",name:"技巧项链",description:"就是普通的首饰。",item:"sta",minLevel:999999999999},{key:"ornament",type:"equip",class:"ornament",position:"ornament",name:"首饰",description:"就是普通的首饰。",item:"sta",minLevel:999999999999},{key:"mithrilStannumRing",type:"equip",class:"ornament",position:"ornament",name:"秘银指环",description:"按当前的市场价，铜其实也不便宜。",item:"sta"}]},6928:e=>{e.exports=[{key:"wuxingshi",type:"material",name:"奇怪的精粹",quality:2,stack:999999,price:1,buyprice:5,energy:1,description:"拆解装备留下的不明物，闪耀着奇怪的光彩。"},{key:"year2018.redbag",type:"package",name:"红包",description:"龙年吉祥，新年快乐！\n\t\t打开后获得少量神力、精粹！",stack:99999,price:1,buyprice:60,requireInventory:2,backgroundColor:"#ff215b",nameColor:"white",loots:[{key:"diamonds",rate:1,count:[10,30]},{key:"wuxingshi",rate:1,count:[5,8]},{type:"ticket",rate:.1,dungeons:{"year2018.dungeon":1}}],specialrate:.1,special:{"year2018.yearBeastWeapon-1X":1,"year2018.yearBeastWeapon-1":1,"year2018.yearBeastWeapon-2":1,"year2018.yearBeastWeapon-3":1,"year2018.yearBeastWeapon-4":1,"year2018.yearBeastPlastron-1":1,"year2018.yearBeastPlastron-2":1,"year2018.yearBeastPlastron-3":1,"year2018.yearBeastTrousers-1":1,"year2018.yearBeastTrousers-22":1,"year2018.yearBeastTrousers-3":1,"year2018.yearBeastHeart":1,"year2018.yearBeastWeapon_5":1,"year2018.yearBeastWeapon_6":1}},{key:"61box",type:"box",name:"盲盒(伪)",description:"明明是个假货，但和真货一毛一样，或许是能开出点东西来的。\n\t\t使用等级：100级。",stack:99999,price:1,requireInventory:2,backgroundColor:"#ff215b",nameColor:"white",loots:[{type:"equip",rate:1e-6,mfRate:9999}]},{key:"61boxt",type:"box",name:"盲盒",description:"这是个真货，看看能开点啥呗。\n\t\t开盒结果受所有角色中已通关的最高噩梦副本难度影响。\n\t\t使用等级：100级。",stack:99999,price:1,buyprice:9999,requireInventory:2,backgroundColor:"#ff215b",nameColor:"white",loots:[{type:"equip",rate:1,mfRate:9999}]},{key:"exp_zz",type:"exp",name:"粽子",description:"这是鱼斯....鱼肉馅的粽子。\n\t\t吃过之后会获得神秘的力量。\n\t\t说是神秘的力量，其实就是一点微薄的经验罢了。\n\t\t角色等级<100级时，使用后获得当前1%的经验。\n\t\t角色等级≥100级时，使用后获得250~750点经验/每综合等级。",stack:99999,price:1,buyprice:20,backgroundColor:"#FF8C00",nameColor:"white"},{key:"time_zz",type:"time",name:"时光胶囊",description:"蕴含时间力量的神秘胶囊，必须就着苦瓜汁吞服。\n\t\t使用后可以额外获得1个小时的离线时间，一次最多使用12个。",stack:99999,price:1,buyprice:3333,backgroundColor:"#FF8C00",nameColor:"white"}]},8479:e=>{e.exports=[{key:"lgwp",type:"equip",class:"base",position:"weapon",name:"木剑",description:"朴素的长剑。",minLevel:99999999},{key:"stickSword",type:"equip",class:"sword",position:"weapon",name:"长剑",description:"朴素的长剑。"},{key:"gloves_r",type:"equip",class:"gloves_r",position:"weapon",name:"拳套(右)",description:"另外一只不知道去哪了。"},{key:"LongSword",type:"equip",class:"longsword",position:"weapon",name:"太刀",description:"用木头制作的长刀，有传言说这是萨菲罗斯小时候使用过的。",minLevel:200},{key:"Machete",type:"equip",class:"machete",position:"weapon",name:"砍刀",description:""},{key:"stickWand",type:"equip",class:"wand",position:"weapon",name:"铁木法杖",description:"搬不动，真的搬不动，不是开玩笑的。"}]},7615:(e,t,n)=>{e.exports=n(4130),n(5403),n(1448)},2502:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"SwordShield-dg",type:"SwordShield",itemName:"龙盾",special:!0,drop:"无尽噩梦-母体史莱姆",display:e=>`“守护者之魂”Lv+${e?e[0]:10}；\n\t\t“斩击”命中后有${e?e[1]:20}%的几率触发一次“绝对领域”效果。`,generate:e=>[t(5,10),t(10,20)],range:e=>"无法附魔",hooks:{guardianLv:(e,t)=>e[0],guardianodds:(e,t)=>e[1]/100}},{key:"SwordShield-js",type:"SwordShield",itemName:"正义",itemDescription:"虽迟但到。",special:!0,drop:"无尽噩梦-狼王",display:e=>`“无限正义之剑”+${e?e[0]:10}；\n\t\t触发“绝对领域”效果时会获得1层“正义”效果，持续5秒；\n\t\t正义：每层使下一个“无限正义之剑”的伤害+${e?e[1]:50}%，叠加时刷新持续时间。`,generate:e=>[t(5,10),t(25,50)],range:e=>"无法附魔",hooks:{igsLv:(e,t)=>e[0],igsodds:(e,t)=>e[1]/100}},{key:"ss_tqsg",type:"SwordShield",itemName:"圣光天启",itemDescription:"圣光会保佑你，请不要失去你的虔诚之心。",special:!0,drop:"无尽噩梦-卡罗",display:e=>`智力+${e?e[0]:250}\n\t\t运气+${e?e[1]:150}\n\t\t神圣伤害+${e?e[2]:30}%\n\t\t“圣光弹”Lv+${e?e[3]:10}\n\t\t“庇护之光”Lv+${e?e[4]:10}\n\t\t受到的伤害减少${e?e[5]:15}%\n\t\t受到伤害时有${e?e[6]:10}%的几率释放等级${e?e[7]:100}的“神圣之盾”\n\t\t受到伤害时有${e?e[8]:5}%的几率释放等级${e?e[9]:100}的“天堂之拳”\n\t\t赋予“祈祷”光环`,generate(e){let n=[];return n.push(t(150,250)),n.push(t(100,150)),n.push(t(20,30)),n.push(t(5,10)),n.push(t(5,10)),n.push(t(5,15)),n.push(t(5,10)),n.push(t(10,100)),n.push(t(1,5)),n.push(t(10,100)),n},range:e=>"无法附魔",hooks:{intAdd:(e,t)=>t+e[0],gf:(e,t)=>t+e[1]/100,mf:(e,t)=>t+e[1]/100,lightDmgadd:(e,t)=>t+e[2]/100,pdsk4:(e,t)=>e[3],pdsk14:(e,t)=>e[4],willDamaged(e,t,n,r){return"real"!==r&&(t*=1-e[5]/100),Math.random()<=e[6]/100&&this.useExtraSkill("paladin_skill12",e[7]),Math.random()<=e[8]/100&&this.useExtraSkill("paladin_skill15",e[9]),t},hpRecovery(e,t){return this.player.careerInfo.selectedEnhances.find((e=>"pal_enhance1"===e))?t:t+2*this.level},pal_enhance1:(e,t)=>!0}},{key:"fxp",type:"SwordShield",itemName:"方向盘",itemDescription:"双马尾，才是老司机的方向盘。\n\t\t      ————风月无关",display:e=>"获得的技能熟练度+1",generate:e=>1,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+1}}]},9133:e=>{e.exports=[{key:"lg_1",type:"lgwp",itemName:"木剑",itemDescription:"洞窟剑神必备套装之一，谁都可以使用。",special:!0,display:e=>"获得的技能熟练度+0.25\n\t\t套装-熟能生巧：穿戴4件后，获得的技能熟练度×2",generate:e=>.5,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+.25,skillExpMul(e,t){return this.runAttrHooks(!1,"lg_2")&&this.runAttrHooks(!1,"lg_3")&&this.runAttrHooks(!1,"lg_4")?2:1}}},{key:"lg_2",type:"lgpt",itemName:"布衣",itemDescription:"洞窟剑神必备套装之二，谁都可以使用。",special:!0,display:e=>"获得的技能熟练度+0.25\n\t\t套装-熟能生巧：穿戴4件后，获得的技能熟练度×2",generate:e=>.5,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+.25,lg_2:()=>!0}},{key:"lg_3",type:"lggt",itemName:"布裤",itemDescription:"洞窟剑神必备套装之三，谁都可以使用。",special:!0,display:e=>"获得的技能熟练度+0.25\n\t\t套装-熟能生巧：穿戴4件后，获得的技能熟练度×2",generate:e=>.5,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+.25,lg_3:()=>!0}},{key:"lg_4",type:"lgjq",itemName:"技巧项链",itemDescription:"洞窟剑神必备套装之四，谁都可以使用。",special:!0,display:e=>"获得的技能熟练度+0.25\n\t\t套装-熟能生巧：穿戴4件后，获得的技能熟练度×2",generate:e=>.5,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+.25,lg_4:()=>!0}}]},715:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"bA_xwhx2",type:"boneArmor",itemName:"血舞护胸",itemDescription:"",special:!0,drop:"无尽噩梦-狼王",display:e=>`力量+${e?e[0]:150}\n\t\t敏捷+${e?e[1]:150}\n\t\t物理伤害+${e?e[2]:20}%\n\t\t“劈砍”Lv+${e?e[3][0].value:10}\n\t\t“致命劈砍”Lv+${e?e[3][1].value:10}\n\t\t“致命劈砍”每命中一个目标，自身暴击伤害+1.5%，持续2秒。\n\t\t免予重伤，并立即释放一次“血甲缚”，该效果的冷却时间为40秒，且不受急速影响。\n\t\t`,generate(e){const n=[{key:"hacking",value:0},{key:"hacking_plus_double",value:0}];n[0].value+=t(5,10),n[1].value+=t(5,10);let r=[];return r.push(t(75,150)),r.push(t(75,150)),r.push(t(10,20)),r.push(n),r},range:e=>"无法附魔",hooks:{strAdd:(e,t)=>t+e[0],dexAdd:(e,t)=>t+e[1],dmgAdd:(e,t)=>t+e[2]/100,skillLv2:e=>e[3],willDead(e,t,n,r){const i=this.buffs.find((e=>"willdead_buff"===e.group));return"real"!==r&&t>this.hp&&!i?(this.useExtraSkill("shield_wall"),this.addBuff("willdead_buff",4e4,null,"willdead_buff"),0):t},testCrit1(e,t,n,r,i,s){const a=this.buffs.find((e=>"xmhx_buff"===e.group));return s.type&&"hacking_plus_double"===s.type&&(a?(a.arg+=.015,a.resetTimer(2e3)):this.addBuff("xmhx_buff",2e3,.015,"xmhx_buff")),t}}},{key:"bA_mczy",type:"boneArmor",itemName:"满仓战衣",special:!0,drop:"无尽噩梦-奈布",itemDescription:"",display:e=>`格挡值+${e?e[0]:500}\n\t\t急速+${e?e[1]:10}%\n\t\t运气+${e?e[2]:200}\n\t\t每空置一格背包，受到的伤害减少0.25%。\n\t\t套装-年年有余：穿戴2件后，运气+300，遇怪速度+25%。`,generate(e){let n=[];return n.push(t(250,500)),n.push(t(5,10)),n.push(t(100,200)),n},range:e=>"无法附魔",hooks:{block:(e,t)=>t+e[0],speedRateAdd:(e,t)=>t+e[1]/100,gf(e,t){return t+e[2]/100+(this.runAttrHooks(!1,"nnyy")?3:0)},mf(e,t){return t+e[2]/100+(this.runAttrHooks(!1,"nnyy")?3:0)},willDamaged:(e,t,n,r,i)=>("real"!==r&&(t*=1-i.player.inventory.filter((e=>e.empty)).length/400),t),monsterspeed(e,t){return this.runAttrHooks(!1,"nnyy")?t+25:t}}},{key:"bA_zsqj",type:"boneArmor",itemName:"制式轻甲",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:100}\n\t\t“包扎伤口”Lv+${e?e[1][0].value:10}\n\t\t“气血激增”Lv+${e?e[1][1].value:10}\n\t\t“钢铁之躯”Lv+${e?e[1][2].value:10}\n\t\t套装-战场新秀：穿戴2件后，攻击力+200`,generate(e){const n=[{key:"save_oneself",value:0},{key:"warrior_hp",value:0},{key:"warrior_def",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(50,100)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv2:e=>e[1],atk_self_Add(e,t){return this.runAttrHooks(!1,"zcxx")?t+200:t}}}]},5965:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"bA_zsbt",type:"boneShinGuard",itemName:"制式绑腿",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:100}\n\t\t“包扎伤口”Lv+${e?e[1][0].value:10}\n\t\t“气血激增”Lv+${e?e[1][1].value:10}\n\t\t“钢铁之躯”Lv+${e?e[1][2].value:10}\n\t\t套装-战场新秀：穿戴2件后，攻击力+200`,generate(e){const n=[{key:"save_oneself",value:0},{key:"warrior_hp",value:0},{key:"warrior_def",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(50,100)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv3:e=>e[1],zcxx:()=>!0}},{key:"bA_jsbf",type:"boneShinGuard",itemName:"金色包袱",special:!0,drop:"无尽噩梦-奈布",itemDescription:"这是一条奇特的腰带。",display:e=>`闪避值+${e?e[0]:500}\n\t\t急速+${e?e[1]:10}%\n\t\t运气+${Math.min(e?e[2]:200,200)}\n\t\t每占用一格背包，造成的伤害提高0.5%。\n\t\t套装-年年有余：穿戴2件后，运气+300，遇怪速度+25%。`,generate(e){let n=[];return n.push(t(250,500)),n.push(t(5,10)),n.push(t(100,200)),n},range:e=>"无法附魔",hooks:{missing:(e,t)=>t+e[0],speedRateAdd:(e,t)=>t+e[1]/100,gf:(e,t)=>t+Math.min(e[2],200)/100,mf:(e,t)=>t+Math.min(e[2],200)/100,willDamage:(e,t,n,r,i)=>t*(1+(i.player.inventory.length-i.player.inventory.filter((e=>e.empty)).length)/200),nnyy:()=>!0}},{key:"sos_dykb",type:"boneShinGuard",itemName:"地狱阔步",special:!0,drop:"无尽噩梦-卡卡列夫",itemDescription:"穿了这双魔皮靴，反而觉得地板更烫脚了。",display:e=>`急速+${e?e[0]:10}%\n\t\t火焰吸收+${e?e[1]:35}%\n\t\t火焰伤害+${e?e[2]:35}%\n\t\t受到的火焰伤害减少${e?e[3]:35}%\n\t\t受到伤害时，有${e?e[4]:10}%几率释放等级${e?e[5]:30}的“烈焰护盾”`,generate(e){let n=[];return n.push(t(5,10)),n.push(t(15,35)),n.push(t(15,35)),n.push(t(10,35)),n.push(t(5,10)),n.push(t(10,30)),n},range:e=>"无法附魔",hooks:{speedRateAdd:(e,t)=>t+e[0]/100,fireAbsorb:(e,t)=>t+e[1]/100,fireDmgadd:(e,t)=>t+e[2]/100,willDamaged(e,t,n,r){return"fire"===r&&(t*=1-e[3]/100),Math.random()<=e[4]/100&&this.useExtraSkill("sorceress_fireShield",e[5]),t}}}]},2904:e=>{e.exports=[{key:"bk_xh",type:"books",itemName:"星花字典",display:e=>`受到伤害后，有${e||50}%的几率释放等级1的魔法连弹。`,generate:e=>function(e,t){const n=351*Math.random();let r=0;for(let e=0;e<=25;e++)if(r+=25-e+1,n<r)return 25+e;return 50}(),range(e){},hooks:{willDamaged(e,t,n,r){return Math.random()<=e/100&&this.useExtraSkill("wind_blade",1),t}}}]},938:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"copperArmor-sscj",type:"copperArmor",itemName:"反伤刺甲",itemDescription:"点子扎手，风紧扯呼。\n\t\t人称“小荆棘”。",display:e=>"对攻击你的目标造成（物理防御×30%）点魔法伤害,无法暴击。",generate:e=>.2,range:e=>"无法附魔",hooks:{jingji_small(e){return.3*this.def}}},{key:"bA_zstj",type:"copperArmor",itemName:"制式铁甲",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:50}\n\t\t“包扎伤口”Lv+${e?e[1][0].value:10}\n\t\t“气血激增”Lv+${e?e[1][1].value:10}\n\t\t“钢铁之躯”Lv+${e?e[1][2].value:10}\n\t\t套装-战场新秀：穿戴2件后，攻击力+200`,generate(e){const n=[{key:"save_oneself",value:0},{key:"warrior_hp",value:0},{key:"warrior_def",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(50,100)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv2:e=>e[1],atk_self_Add(e,t){return this.runAttrHooks(!1,"zcxx")?t+200:t}}},{key:"cA_hope",type:"copperArmor",itemName:"希望",itemDescription:"",special:!0,drop:"无尽噩梦-卡罗",display:e=>`耐力+${e?e[0]:200}\n\t\t受到的伤害减少${e?e[1]:15}%\n\t\t受到伤害时有${e?e[2]:10}%的几率释放等级${e?e[3]:50}的“气血激增”\n\t\t受到伤害时有${e?e[4]:10}%的几率释放等级${e?e[5]:50}的“钢铁之躯”\n\t\t每10秒触发一次“自疗”效果，治疗自身并恢复15%的生命值；触发“自疗”效果时溢出的治疗量会转化为对全部目标的神圣伤害\n\t\t赋予“精力”光环`,generate(e){let n=[];return n.push(t(100,200)),n.push(t(5,15)),n.push(t(5,10)),n.push(t(10,50)),n.push(t(5,10)),n.push(t(10,50)),n},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],willDamaged(e,t,n,r){return"real"!==r&&(t*=1-e[1]/100),Math.random()<=e[2]/100&&this.useExtraSkill("warrior_hp",e[3]),Math.random()<=e[4]/100&&this.useExtraSkill("warrior_def",e[5]),this.buffs.find((e=>"cAhope_buff"===e.group))||this.addBuff("cAhope_buff",1e4,null,"cAhope_buff"),t},staAdd(e,t){return this.player.careerInfo.selectedEnhances.find((e=>"pal_enhance8"===e))?t:t+2*(this.level+this.player.peakLevel)},pal_enhance8:(e,t)=>!0}}]},4008:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"copperShinGuard1-gsbj",type:"copperShinGuard",itemName:"攻速暴击腿甲",itemDescription:"前身叫“攻速暴击裙”，是为了照顾重甲职业特地改造而成的，有着特殊的效果。",display:e=>"攻击你的目标急速×2，但攻击力×0.5",generate:e=>2,range:e=>"无法附魔",hooks:{attacked:(e,t,n,r)=>(r.addBuff("gsbj_buff",5e3,null,"gsbj_buff"),r)}},{key:"bA_zsqj2",type:"copperShinGuard",itemName:"制式裙甲",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:50}\n\t\t“包扎伤口”Lv+${e?e[1][0].value:10}\n\t\t“气血激增”Lv+${e?e[1][1].value:10}\n\t\t“钢铁之躯”Lv+${e?e[1][2].value:10}\n\t\t套装-战场新秀：穿戴2件后，攻击力+200`,generate(e){const n=[{key:"save_oneself",value:0},{key:"warrior_hp",value:0},{key:"warrior_def",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(50,100)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv3:e=>e[1],zcxx:()=>!0}}]},4137:e=>{e.exports=[{key:"dg_lwfd",type:"daggers",itemName:"老王飞刀",itemDescription:"",display:e=>`造成物理伤害时，会获得一层“会神”效果。\n\t\t会神：暴击几率增加${e||5}%；至多叠加5层，且伤害暴击后重置层数。`,generate:e=>function(e,t){const n=15*Math.random();let r=0;for(let e=0;e<=4;e++)if(r+=4-e+1,n<r)return 1+e;return 5}(),range(e){},hooks:{willDamage(e,t,n,r,i,s){const a=this.buffs.find((e=>"lwfd_buff"===e.group));return"melee"!==r||s?this.removeBuff(a):a?a.arg[0]<5&&(a.arg[0]+=1,a.resetTimer(5e3)):this.addBuff("lwfd_buff",5e3,[1,e],"lwfd_buff"),t}}}]},118:(e,t,n)=>{e.exports=[...n(9133),...n(9039),...n(4913),...n(6995),...n(8657),...n(8082),...n(4137),...n(2904),...n(2502),...n(938),...n(715),...n(7204),...n(4008),...n(5965),...n(7572),...n(4860)]},8657:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"Mc_yh",type:"Machete",itemName:"嫣红",itemDescription:"上一任持有者常年使用猪血进行保养，以至于刀身都泛着红光。\n\t\t没错，不能因为人家是杀猪刀就觉得它不配拥有姓名。",minLevel:120,display:e=>`力量+${e?e[0]:150}\n\t\t敏捷+${e?e[1]:150}\n\t\t每次造成物理伤害，有25%的几率额外获得1点怒气。\n\t\t强化：“沸血”的效果提高至4点/秒。`,generate(e){let n=[];return n.push(t(100,150)),n.push(t(100,150)),n},range:e=>"无法附魔",hooks:{strAdd:(e,t)=>t+e[0],dexAdd:(e,t)=>t+e[1],willDamage(e,t,n,r,i){return"melee"===r&&Math.random()>.25&&(this.rp+=1),t},mcyh:()=>!0}},{key:"Mc_fxzr",type:"Machete",itemName:"腐血之刃",itemDescription:"",minLevel:120,display:e=>`力量+${e?e[0]:200}\n\t\t智力+${e?e[1]:200}\n\t\t耐力+${e?e[2]:200}\n\t\t生命恢复+${e?e[3]:100}/s\n\t\t每次造成伤害时额外消耗5%的当前生命值，并获得一层“腐血”效果（若生命值低于30%则无法触发）\n\t\t腐血：根据消耗的生命值，按照1:4的比例转化为暴击伤害等级；持续5秒（每层独立计算）`,generate(e){let n=[];return n.push(t(100,200)),n.push(t(100,200)),n.push(t(100,200)),n.push(t(50,100)),n},range:e=>"无法附魔",hooks:{strAdd:(e,t)=>t+e[0],intAdd:(e,t)=>t+e[1],staAdd:(e,t)=>t+e[2],hpRecovery:(e,t)=>t+e[3],willDamage(e,t,n,r,i){if(this.hp>.3*this.maxHp){const e=.05*this.hp;this.hp-=e,this.addBuff("fxzr_buff",5e3,4*e)}return t}}}]},7204:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"mithrilDress-yydt",type:"mithrilDress",itemName:"幽影斗篷",itemDescription:"墨丘利在临嘎之前，留了一件斗篷给你。",special:!0,drop:"无尽噩梦-奈布",display:e=>"有20%的几率将对你的攻击折射给你的当前目标，折射伤害无法暴击。",generate:e=>20,range:e=>"无法附魔",hooks:{zhesheReflect:(e,t,n,r)=>Math.random()<.2&&"real"!==n&&r}},{key:"mithrilSkirt-xinxin",type:"mithrilSkirt",itemName:"信心",itemDescription:"在你看来，这个世界变小了。",special:!0,drop:"无尽噩梦-卡罗",display:e=>`赋予等级${e||100}的“信念”光环。`,generate:e=>t(1,100),range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){return this.useExtraSkill("paladin_skill16",e),t}}},{key:"bA_zsfp",type:"mithrilDress",itemName:"制式法袍",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:50}\n\t\t“火球术”Lv+${e?e[1][0].value:10}\n\t\t“闪电”Lv+${e?e[1][1].value:10}\n\t\t“水箭术”Lv+${e?e[1][2].value:10}\n\t\t套装-优秀学徒：穿戴2件后，智力+200`,generate(e){const n=[{key:"sorceress_fireBall",value:0},{key:"sorceress_lightning",value:0},{key:"sorceress_coldBall",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(25,50)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv2:e=>e[1],intAdd(e,t){return this.runAttrHooks(!1,"yxxt")?t+200:t}}},{key:"ms_zg",type:"mithrilSkirt",nobox:!0,special:!0,itemName:"折光",drop:"无尽噩梦-母体史莱姆",itemDescription:"众所周知，光从来不走直线。",display:e=>`智力+${e?e[0]:10}%\n\t\t自身激活“魔法盾”时，火焰、寒冷、闪电吸收+30%`,generate(e){let n=[];return n.push(t(5,10)),n},range:e=>"无法附魔",hooks:{intMul:(e,t)=>1+e[0]/100,ms_zg:(e,t)=>!0}},{key:"md_jkzf",type:"mithrilDress",itemName:"JK制服",special:!0,drop:"无尽噩梦-奈布",display:e=>`受到的物理伤害减少${e||25}%。\n\t\t套装-神秘舍友：全部穿戴后，急速增加20%。`,generate:e=>t(15,25),range(e){},hooks:{willDamaged:(e,t,n,r)=>("melee"===r&&(t*=1-e/100),t),speedRateAdd(e,t){return this.runAttrHooks(!1,"sydsw")?t+.2:t}}}]},7572:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"mithrilSkirt-sydsw",type:"mithrilSkirt",itemName:"丝袜",special:!0,drop:"无尽噩梦-金牙",display:e=>`造成的火焰、寒冷、闪电伤害提高${e||25}%。\n\t\t套装-神秘舍友：全部穿戴后，急速增加20%。`,generate:e=>t(15,25),range:e=>"无法附魔",hooks:{willDamage:(e,t,n,r)=>("fire"!==r&&"cold"!==r&&"lightning"!==r||(t*=1+e/100),t),sydsw:()=>!0}},{key:"bA_zsck",type:"mithrilSkirt",itemName:"制式长裤",itemDescription:"时下最流行的款式\n\t\t魅力+999",display:e=>`耐力+${e?e[0]:50}\n\t\t“魔法铠甲”Lv+${e?e[1][0].value:10}\n\t\t“点燃”Lv+${e?e[1][1].value:10}\n\t\t“活力之水”Lv+${e?e[1][2].value:10}\n\t\t套装-优秀学徒：穿戴2件后，智力+200`,generate(e){const n=[{key:"sorceress_shield",value:0},{key:"sorceress_igniting",value:0},{key:"sorceress_vitalitywater",value:0}];n[0].value+=t(1,10),n[1].value+=t(1,10),n[2].value+=t(1,10);let r=[];return r.push(t(25,50)),r.push(n),r},range:e=>"无法附魔",hooks:{staAdd:(e,t)=>t+e[0],skillLv3:e=>e[1],yxxt:()=>!0}}]},9039:e=>{e.exports=[{key:"ornament-2",type:"ornament",itemName:"史莱姆之心",hidden:!0,itemDescription:"用史莱姆核心制作的挂坠，似乎有着不太一样的效果。",special:!0,display:e=>"生命值恢复+5，法力值恢复+2",generate(e){},range:e=>"无法附魔",hooks:{hpRecovery:(e,t)=>t+5,mpRecovery:(e,t)=>t+2}},{key:"ornament-fxp",type:"ornament",itemName:"方向盘(旧)",hidden:!0,special:!0,itemDescription:"双马尾，才是老司机的方向盘。\n\t\t      ————风月无关",display:e=>"获得的技能熟练度+1",generate:e=>1,range:e=>"无法附魔",hooks:{skExpadd:(e,t)=>t+1}},{key:"bA_xwhx",type:"boneArmor",itemName:"血舞护胸",itemDescription:"",minLevel:50,hidden:!0,special:!0,display:e=>`力量+${e?e[0]:150}\n\t\t敏捷+${e?e[1]:150}\n\t\t物理伤害+${e?e[2]:20}%\n\t\t“${decodeURIComponent(e[3].name)}”Lv+${e[3].value}[10]\n\t\t“${decodeURIComponent(e[4].name)}”Lv+${e[4].value}[10]\n\t\t“致命劈砍”每命中一个目标，自身暴击伤害+1.5%，持续2秒。\n\t\t免予重伤，并立即释放一次“血甲缚”，该效果的冷却时间为40秒，且不受急速影响。\n\t\t`,generate(e){const t=[{key:"hacking",name:"%E5%8A%88%E7%A0%8D",value:0},{key:"sunder_armor",name:"%E7%A0%B4%E7%94%B2%E5%87%BB",value:0},{key:"shield_wall",name:"%E8%A1%80%E7%94%B2%E7%BC%9A",value:0},{key:"element_cold_fire",name:"%E5%85%83%E7%B4%A0%E9%99%84%E9%AD%94%C2%B7%E2%85%A1",value:0},{key:"fanatical",name:"%E8%A1%80%E6%80%92",value:0},{key:"hacking_plus_double",name:"%E8%87%B4%E5%91%BD%E5%8A%88%E7%A0%8D",value:0}];let n=[];return n.push(75+Math.round(75*Math.random())),n.push(75+Math.round(75*Math.random())),n.push(10+Math.round(10*Math.random())),n.push(t.splice(Math.floor(Math.random()*t.length),1)[0]),n[3].value+=5+Math.round(5*Math.random()),n.push(t.splice(Math.floor(Math.random()*t.length),1)[0]),n[4].value+=5+Math.round(5*Math.random()),n},range:e=>"无法附魔",hooks:{strAdd:(e,t)=>t+e[0],dexAdd:(e,t)=>t+e[1],dmgAdd:(e,t)=>t+e[2]/100,whksk:(e,t)=>"hacking"===e[3].key?e[3].value:"hacking"===e[4].key?e[4].value:0,wsask:(e,t)=>"sunder_armor"===e[3].key?e[3].value:"sunder_armor"===e[4].key?e[4].value:0,wswsk:(e,t)=>"shield_wall"===e[3].key?e[3].value:"shield_wall"===e[4].key?e[4].value:0,wecfsk:(e,t)=>"element_cold_fire"===e[3].key?e[3].value:"element_cold_fire"===e[4].key?e[4].value:0,wftsk:(e,t)=>"fanatical"===e[3].key?e[3].value:"fanatical"===e[4].key?e[4].value:0,whkpsk:(e,t)=>"hacking_plus_double"===e[3].key?e[3].value:"hacking_plus_double"===e[4].key?e[4].value:0,willDead(e,t,n,r){const i=this.buffs.find((e=>"willdead_buff"===e.group));return"real"!==r&&t>this.hp&&!i?(this.useExtraSkill("shield_wall"),this.addBuff("willdead_buff",4e4,null,"willdead_buff"),0):t},testCrit1(e,t,n,r,i,s){const a=this.buffs.find((e=>"xmhx_buff"===e.group));return s.type&&"hacking_plus_double"===s.type&&(a?(a.arg+=.015,a.resetTimer(2e3)):this.addBuff("xmhx_buff",2e3,.015,"xmhx_buff")),t}}}]},4860:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"ornament-1",type:"ornament",itemName:"沉思的鲱鱼干",itemDescription:"作为一条鱼干，人生的大部分就是找个地方挂着……",display:e=>"获得的经验值×1.5",generate:e=>1.5,range:e=>"无法附魔",hooks:{expMul:(e,t)=>1.5}},{key:"ornament-melee",type:"ornament",itemName:"报纸壳壳",itemDescription:"Vehicle ready...奇怪的东西，对物理伤害似乎有很好的防御效果。",display:e=>"物理吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.3}},{key:"ornament-fire",type:"ornament",itemName:"凉宝宝",itemDescription:"奇怪的东西，对火焰伤害似乎有很好的防御效果。",display:e=>"火焰吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{fireAbsorb:(e,t)=>t+.3}},{key:"ornament-cold",type:"ornament",itemName:"暖宝宝",itemDescription:"奇怪的东西，对寒冷伤害似乎有很好的防御效果。",display:e=>"寒冷吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{coldAbsorb:(e,t)=>t+.3}},{key:"ornament-lightning",type:"ornament",itemName:"绝缘楔子",itemDescription:"奇怪的东西，对闪电伤害似乎有很好的防御效果。",minLevel:999999,hidden:!0,display:e=>"闪电吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{lightningAbsorb:(e,t)=>t+.3}},{key:"ornament-dark",type:"ornament",itemName:"黑暗守护",itemDescription:"一团五彩斑斓的黑色，对暗属性伤害似乎有很好的防御效果。",display:e=>"暗影吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{darkAbsorb:(e,t)=>t+.3}},{key:"ornament-light",type:"ornament",itemName:"光明守护",itemDescription:"一团耀眼的光芒，对光属性伤害似乎有很好的防御效果。",minLevel:999999,hidden:!0,display:e=>"神圣吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{lightAbsorb:(e,t)=>t+.35}},{key:"ornament-poison",type:"ornament",itemName:"腐肉之风",itemDescription:"一枚奇怪的戒指，但对毒素伤害有很好的防御效果。",minLevel:999999,hidden:!0,display:e=>"毒素吸收+30%",generate:e=>[.15,.15],range:e=>"无法附魔",hooks:{poisonAbsorb:(e,t)=>t+.3}},{key:"ornament-goldapple",type:"ornament",itemName:"金苹果",itemDescription:"我全都要.jpg。",minLevel:100,display:e=>"释放“幸运祝福”将额外获得一种祝福效果。",generate:e=>1,range:e=>"无法附魔",hooks:{goldapple_buff:(e,t)=>!0}},{key:"ornament-hsjz",type:"ornament",itemName:"护身戒指",itemDescription:"Mana，is power。\n\t\t除非.....你不是法爷。",display:e=>"消耗1点法力来抵消3点伤害。",generate:e=>3,range:e=>"无法附魔",hooks:{hsjz_hook(e,t,n,r){const{unit:i}=this;return"real"!==r&&this.mp>0&&(t/3>=this.mp?(t-=3*this.mp,this.mp=0):(this.mp-=t/3,t=0)),t}}},{key:"ornament-mabi",type:"ornament",itemName:"麻痹戒指",itemDescription:"代表战士，击痹你。",display:e=>"造成物理伤害时，有5%几率使目标获得“麻痹”效果，使其在1秒内无法行动。",generate:e=>5,range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){return"melee"===r&&Math.random()<.05&&this.useExtraSkill("mabi_skill"),t}}},{key:"ornament-def",type:"ornament",itemName:"防御戒指",itemDescription:"防御，是最好的进攻。",display:e=>"受到的伤害减少25%，包扎伤口、急救、活力之水的冷却时间减少20%。",generate:e=>[25,20],range:e=>"无法附魔",hooks:{willDamaged:(e,t,n,r)=>("real"!==r&&(t*=.75),t),defring:(e,t)=>.8}},{key:"ornament-jg",type:"ornament",itemName:"杰哥的眼镜",itemDescription:"鬼知道这是啥，戴上就完事了。",display:e=>"每综合等级+3点力量。",generate:e=>3,range:e=>"无法附魔",hooks:{strAdd(e,t){return t+3*(this.level+this.player.peakLevel)}}},{key:"ornament-xddj",type:"ornament",itemName:"兄弟的酒",itemDescription:"这一刀有亿点痛。",special:!0,drop:"无尽噩梦-卡罗",display:e=>"造成的物理伤害提高50%，受到的物理伤害提高50%。",generate:e=>[50,50],range:e=>"无法附魔",hooks:{willDamage:(e,t,n,r)=>"melee"===r?1.5*t:t,willDamaged:(e,t,n,r)=>"melee"===r?1.5*t:t}},{key:"ornament_jrdn",type:"ornament",itemName:"肌肉大脑",itemDescription:"啊，脑子好痒，感觉要长肌肉辣。",special:!0,drop:"无尽噩梦-金牙",display:e=>`增加相当于${e?e[0]:30}%力量的智力\n\t\t增加相当于${e?e[1]:30}%耐力的智力`,generate(e){let n=[];return n.push(t(10,30)),n.push(t(10,30)),n},range:e=>"无法附魔",hooks:{intAdd(e,t){let n=0;return n+=this.str*e[0]/100,n+=this.sta*e[1]/100,t+n}}},{key:"ornament-jdzs",type:"ornament",itemName:"乔丹之石",itemDescription:"某著名的货币单位。",special:!0,drop:"无尽噩梦-金牙",display:e=>`所有技能Lv+${e?e[0][0].value:10}\n\t\t法力值+${e?e[1]:30}%\n\t\t造成的闪电伤害提高${e?e[2]:30}%`,generate(e){let n=[];return n.push([{key:"allsk",value:t(1,10)}]),n.push(t(15,30)),n.push(t(15,30)),n},range:e=>"无法附魔",hooks:{skillLv4:e=>e[0],maxMpMul:(e,t)=>1+e[1]/100,willDamage:(e,t,n,r)=>"lightning"===r?t*(1+e[2]/100):t}},{key:"ot_zx",type:"ornament",itemName:"秩序",itemDescription:"",special:!0,drop:"无尽噩梦-卡罗",display:e=>`所有技能Lv+${e?e[0][0].value:10}\n\t\t自身造成的伤害会在${e?e[1]:110}%~${e?e[2]:150}%范围内浮动\n\t\t自身受到的伤害会在${e?e[3]:70}%~${e?e[4]:90}%范围内浮动`,generate(e){let n=[];return n.push([{key:"allsk",value:t(1,10)}]),n.push(t(100,110)),n.push(t(125,150)),n.push(70+Math.round(10*Math.random())),n.push(90+Math.round(10*Math.random())),n},range:e=>"无法附魔",hooks:{skillLv4:e=>e[0],willDamage:(e,t,n,r)=>t*e[1]/100+t*Math.random()*(e[2]-e[1])/100,willDamaged:(e,t,n,r)=>t*e[3]/100+t*Math.random()*(e[4]-e[3])/100}},{key:"ot_hd",type:"ornament",itemName:"混沌",itemDescription:"",special:!0,drop:"无尽噩梦-卡卡列夫",display:e=>`所有技能Lv+${e?e[0][0].value:10}\n\t\t自身造成的伤害会在${e?e[1]:100}%~${e?e[2]:200}%范围内浮动\n\t\t自身受到的伤害会在${e?e[3]:90}%~${e?e[4]:110}%范围内浮动`,generate(e){let n=[];return n.push([{key:"allsk",value:t(1,10)}]),n.push(t(100,120)),n.push(t(150,200)),n.push(90+Math.round(20*Math.random())),n.push(110+Math.round(10*Math.random())),n},range:e=>"无法附魔",hooks:{skillLv4:e=>e[0],willDamage:(e,t,n,r)=>t*e[1]/100+t*Math.random()*(e[2]-e[1])/100,willDamaged:(e,t,n,r)=>t*e[3]/100+t*Math.random()*(e[4]-e[3])/100}},{key:"ot_mb",type:"ornament",itemName:"大眉笔",itemDescription:"你的运气差得让人有点难以置信。",display:e=>"每综合等级+5%运气",generate:e=>1,range:e=>"无法附魔",hooks:{mf(e,t){return t+.05*(this.level+this.player.peakLevel)}}},{key:"ot_jf",type:"ornament",nobox:!0,minLevel:40,itemName:"疾风项链",special:!0,drop:"无尽噩梦-狼王",itemDescription:"更快，更快，更快。",display:e=>"急速+20%\n\t\t斩击、劈砍的冷却时间减少0.3秒",generate:e=>1,range:e=>"无法附魔",hooks:{speedRateAdd:(e,t)=>t+.2,jfxl:(e,t)=>300}},{key:"ot_c80",type:"ornament",nobox:!0,minLevel:160,itemName:"C80试块",special:!0,drop:"无尽噩梦-狼王",itemDescription:"有亿点硬，作为饰品也算是一种新潮流。",display:e=>"“壁垒”的效果提高至80%，“织网”的效果提高至60%。",generate:e=>1,range:e=>"无法附魔",hooks:{c80sk:(e,t)=>2*t}},{key:"ot_hgxl",type:"ornament",nobox:!0,itemName:"红枸项链",itemDescription:"人到中年不得已,\n\t\t红枣汤里加枸杞。",special:!0,drop:"无尽噩梦-母体史莱姆",display:e=>"每减少1%生命值，生命恢复提高5%",generate:e=>1,range:e=>"无法附魔",hooks:{hpRecovery(e,t){return t*(1+5*(1-this.hp/this.maxHp))}}}]},4913:e=>{e.exports=[{key:"ot_slmzx",type:"ornament",itemName:"史莱姆之核心",itemDescription:"用史莱姆核心制作的挂坠，似乎有着不太一样的效果。\n\t\t很难评价到底是你拥有了史莱姆的一部分能力，还是史莱姆拥有了你的全部能力。",special:!0,drop:"无尽噩梦-母体史莱姆",display:e=>`生命恢复×${e?Math.round(100*e[0])/100:1.5}\n\t\t法力恢复×${e?Math.round(100*e[1])/100:1.5}\n\t\t受到boss单位的攻击时，有${e?e[2]:50}%的几率使本次伤害随机减少25%~50%。\n\t\t受到非boss单位的攻击时，有${e?e[3]:10}%的几率吞噬目标，同时自身恢复2%生命值。`,generate(e){let t=[];return t.push(Math.round(125+25*Math.random())/100),t.push(Math.round(125+25*Math.random())/100),t.push(Math.round(25+25*Math.random())),t.push(Math.round(5+5*Math.random())),t},range:e=>"无法附魔",hooks:{hpRecovery:(e,t)=>t*e[0],mpRecovery:(e,t)=>t*e[1],willDamaged(e,t,n,r){return n?(n.boss&&Math.random()<e[2]/100?t*=.5+.25*Math.random():!n.boss&&Math.random()<e[3]/100&&(n.kill(),this.hp+=.02*this.maxHp,t=0),t):t}}},{key:"stickSword-1",type:"stickSword",itemName:"狼牙剑",drop:"迷雾森林",itemDescription:"虽然叫做狼牙剑，但很显然并不是用狼牙做的。",special:!0,display:e=>"攻击力+15",generate:e=>.5,range:e=>"无法附魔",hooks:{atk_self_Add:(e,t)=>t+15}},{key:"ornament-3",type:"ornament",itemName:"大“金”牙",drop:"矿洞深处",itemDescription:"金牙之所以是叫金牙......",special:!0,display:e=>"火焰抗性+500",generate:e=>.5,range:e=>"无法附魔",hooks:{fireResist:(e,t)=>t+500}},{key:"Machete-1",type:"Machete",itemName:"卡卡列夫的爱抚",drop:"神秘祭坛",itemDescription:"在卡卡列夫看来，你和狗头人好像没有很大的区别。",special:!0,display:e=>"“重击”有40%的几率造成50%的额外火焰伤害",generate:e=>3,range:e=>"无法附魔",hooks:{kklf_love:(e,t)=>!0}},{key:"boneArmor-1",type:"boneArmor",itemName:"吉祥三宝",drop:"森林深处",itemDescription:"你最喜欢的歌词——哎，对啦，在天上，他回家啦。",special:!0,display:e=>"每秒获得2点怒气",generate:e=>2,range:e=>"无法附魔",hooks:{rpRecovery:(e,t)=>t+2}},{key:"mithrilDress-yulin",type:"mithrilDress",itemName:"鱼鳞衣",drop:"湖畔镇",itemDescription:"利用鱼人身上的鳞片制作的内甲，这可比秘银便宜多啦。",special:!0,display:e=>"智力+200，耐力+100",generate:e=>1,range:e=>"无法附魔",hooks:{intAdd:(e,t)=>t+200,staAdd:(e,t)=>t+100}},{key:"ornament-yusila",type:"ornament",itemName:"黑色鳞片",drop:"闪光湖",itemDescription:"鱼斯拉身上的一块鳞片，带着一股奇怪的海鲜味儿。",special:!0,display:e=>"物理伤害+1000，元素伤害+1000",generate:e=>1,range:e=>"无法附魔",hooks:{dmgLAdd:(e,t)=>t+1e3,firedmgLAdd:(e,t)=>t+1e3,colddmgLAdd:(e,t)=>t+1e3,lightningdmgLAdd:(e,t)=>t+1e3}},{key:"year2018.yearBeastWeapon_5",type:"gloves_l",itemName:"年兽的左脚掌",drop:"年兽巢穴、红包",itemDescription:"非常厚实的肉垫，手感好到爆了。",special:!0,minLevel:1,display:e=>"暴击几率+10%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.1}},{key:"year2018.yearBeastWeapon_6",type:"gloves_r",itemName:"年兽的右脚掌",drop:"年兽巢穴、红包",itemDescription:"非常厚实的肉垫，手感好到爆了。",special:!0,minLevel:1,display:e=>"暴击几率+10%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.1}},{key:"year2018.yearBeastWeapon-4",type:"SwordShield",itemName:"年兽的掌中宝",drop:"年兽巢穴、红包",itemDescription:"非常厚实的肉垫，手感好到爆了。",minLevel:1,special:!0,display:e=>"所有伤害吸收+10%\n\t\t受到的伤害减少10%",generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.1,willDamaged:(e,t,n,r)=>("real"!==r&&(t*=.9),t)}},{key:"year2018.yearBeastWeapon-1X",type:"stickWand",itemName:"年兽的小腿骨",drop:"年兽巢穴、红包",itemDescription:"上面的肉去哪儿了？",special:!0,minLevel:1,display:e=>"暴击几率+20%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}},{key:"year2018.yearBeastWeapon-1",type:"stickSword",itemName:"年兽的剑齿",drop:"年兽巢穴、红包",itemDescription:"犹如剑一般的牙齿。",minLevel:1,special:!0,display:e=>"暴击几率+20%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}},{key:"year2018.yearBeastWeapon-2",type:"Machete",itemName:"年兽的利齿",drop:"年兽巢穴、红包",itemDescription:"犹如刀一般的牙齿。",minLevel:1,special:!0,display:e=>"暴击几率+20%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}},{key:"year2018.yearBeastWeapon-3",type:"LongSword",itemName:"年兽的锐牙",drop:"年兽巢穴、红包",itemDescription:"犹如太刀一般的牙齿。",minLevel:200,special:!0,display:e=>"暴击几率+20%",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}},{key:"year2018.yearBeastPlastron-1",type:"copperArmor",itemName:"年兽的硬甲",drop:"年兽巢穴、红包",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.15}},{key:"year2018.yearBeastTrousers-1",type:"copperShinGuard1",itemName:"年兽的鬃毛",drop:"年兽巢穴、红包",itemDescription:"比钢铁还硬的鬃毛。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.1}},{key:"year2018.yearBeastPlastron-2",type:"boneArmor",itemName:"年兽的厚皮",drop:"年兽巢穴、红包",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.15}},{key:"year2018.yearBeastTrousers-22",type:"boneShinGuard",itemName:"年兽的皮裤",drop:"年兽巢穴、红包",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.1}},{key:"year2018.yearBeastPlastron-3",type:"mithrilDress",itemName:"年兽的毛衣",drop:"年兽巢穴、红包",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.15}},{key:"year2018.yearBeastTrousers-3",type:"mithrilSkirt",itemName:"年兽的毛裤",drop:"年兽巢穴、红包",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{allAbsAdd:(e,t)=>t+.1}},{key:"year2018.yearBeastHeart",type:"ornament",itemName:"年兽的心脏",drop:"年兽巢穴、红包",itemDescription:"蕴含着时间的力量。",minLevel:1,display:e=>"急速+20%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{speedRateAdd:(e,t)=>t+.2}}]},6995:e=>{function t(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}e.exports=[{key:"stickSword-fire",type:"stickSword",itemName:"火之高兴",itemDescription:"嘿嘿，战士没有蓝条。\n\t\t但圣骑士有。",special:!0,drop:"无尽噩梦-卡罗",display:e=>`造成伤害时有10%几率释放${e||100}级“透支”。`,generate:e=>t(1,100),range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){return Math.random()<.1&&this.useExtraSkill("sorceress_overdraft",e),t}}},{key:"stickSword-gzjd",type:"stickSword",itemName:"光之军刀",itemDescription:"强只是暂时的，\n\t\t好看才是一辈子的。",special:!0,drop:"无尽噩梦-狼王",display:e=>`每综合等级+${e?e[0].toFixed(2):2}点攻击力\n\t\t每综合等级+${e?e[1].toFixed(2):1}点生命汲取\n\t\t力量+${e?e[6]:200}\n\t\t智力+${e?e[7]:200}\n\t\t急速+${e?e[2]:15}%\n\t\t闪电伤害+${e?e[3]:30}%\n\t\t造成伤害时有${e?e[4]:15}%几率对目标释放等级${e?e[5]:100}的“雷蛇”`,generate(e){let n=[];return n.push(1+Math.round(100*Math.random())/100),n.push(.5+Math.round(50*Math.random())/100),n.push(t(5,15)),n.push(t(20,30)),n.push(t(5,15)),n.push(t(10,100)),n.push(t(100,200)),n.push(t(100,200)),n},range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){return Math.random()<=e[4]/100&&this.useExtraSkill("sorceress_chainingLightning",e[5]),t},atk_self_Add(e,t){return t+(this.level+this.player.peakLevel)*e[0]},leech(e,t){return t+(this.level+this.player.peakLevel)*e[1]},speedRateAdd:(e,t)=>t+e[2]/100,lightningDmgadd:(e,t)=>t+e[3]/100,intAdd:(e,t)=>t+e[7],strAdd:(e,t)=>t+e[6]}},{key:"SS_cj",type:"stickSword",itemName:"裁决",itemDescription:"这款式，明明和剑没有一点关系。",special:!0,drop:"无尽噩梦-卡卡列夫",display:e=>`每综合等级+${e?e[0].toFixed(2):4}点力量\n\t\t每综合等级+${e?e[1].toFixed(2):4}点敏捷\n\t\t每综合等级+${e?e[2].toFixed(2):4}点智力\n\t\t每综合等级+${e?e[3].toFixed(2):4}点耐力\n\t\t自身造成的物理伤害会在${e?e[4]:100}%~${e?e[5]:160}%范围内浮动。`,generate(e){let n=[];return n.push(2+t(100,200)/100),n.push(2+t(100,200)/100),n.push(2+t(100,200)/100),n.push(2+t(100,200)/100),n.push(t(80,100)),n.push(t(120,160)),n},range:e=>"无法附魔",hooks:{strAdd(e,t){return t+(this.level+this.player.peakLevel)*e[0]},dexAdd(e,t){return t+(this.level+this.player.peakLevel)*e[1]},intAdd(e,t){return t+(this.level+this.player.peakLevel)*e[2]},staAdd(e,t){return t+(this.level+this.player.peakLevel)*e[3]},willDamage:(e,t,n,r,i)=>"melee"===r?t*e[4]/100+t*Math.random()*(e[5]-e[4])/100:t}},{key:"ss_exglb",type:"stickSword",nobox:!0,itemName:"EX咖喱棒",itemDescription:"誓约胜利之剑。",special:!0,drop:"无尽噩梦-卡罗",display:e=>"自身造成的物理伤害转变为神圣伤害，且额外享受25%的神圣伤害加成。\n\t\t每次造成神圣伤害，永久减少目标50点神圣抗性。",generate:e=>1,range:e=>"无法附魔",hooks:{change:e=>!0,TypeChange:(e,t)=>("melee"===t&&(t="light"),t),ValTpCg(e,t,n,r,i){return"light"===r?(n.addBuff("skill14_buff2"),t*(1+.25*(this.lightDmgadd-1))):t}}}]},8082:e=>{e.exports=[{key:"stickWand-1",type:"stickWand",itemName:"锟斤拷",itemDescription:"手持两把锟斤拷。",minLevel:30,display:e=>"火球术的伤害提高100%",generate:e=>2,range:e=>"无法附魔",hooks:{two_kjk:(e,t)=>2}},{key:"stickWand-2",type:"stickWand",itemName:"避雷针",itemDescription:"对游离的闪电元素有着莫大的吸引力，一点都不“避”。",minLevel:80,display:e=>"“雷蛇”伤害不再衰减，而是每次递增20%",generate:e=>1.05,range:e=>"无法附魔",hooks:{blz_buff:(e,t)=>1.2}},{key:"stickWand-bzat",type:"stickWand",itemName:"冰之哀痛",special:!0,drop:"无尽噩梦-奈布",display:e=>"造成寒冷伤害时，会获得一层“御冰”效果；\n\t\t御冰：自身造成的寒冷伤害提高2%，自身受到的伤害减少3%；叠加至20层时，于5秒之后重置层数。",generate:e=>5+Math.round(5*Math.random()),range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){if("cold"===r){const e=this.buffs.find((e=>"ice_df"===e.group));if(e){if(e.arg>=20)return t;e.arg+=1,e.resetTimer(5e3)}else this.addBuff("ice_df",5e3,1,"ice_df")}return t}}},{key:"sw_fire",type:"stickWand",itemName:"燃焰",special:!0,drop:"无尽噩梦-金牙",display:e=>"造成火焰伤害时，会获得一层“炽热”效果；\n\t\t炽热：自身造成的火焰伤害提高3%，暴击几率+1%；叠加至20层时，于5秒之后重置层数。",generate:e=>5+Math.round(5*Math.random()),range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){if("fire"===r){const e=this.buffs.find((e=>"fire_cr"===e.group));if(e){if(e.arg>=20)return t;e.arg+=1,e.resetTimer(5e3)}else this.addBuff("fire_cr",5e3,1,"fire_cr")}return t}}},{key:"sw_ety",type:"stickWand",itemName:"电棍",special:!0,drop:"无尽噩梦-卡卡列夫",display:e=>"造成闪电伤害时，会获得一层“聚能”效果；\n\t\t聚能：自身造成的闪电伤害提高4%，暴击伤害+2%；叠加至20层时，于5秒之后重置层数。",generate:e=>5+Math.round(5*Math.random()),range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){if("lightning"===r){const e=this.buffs.find((e=>"ety_dg"===e.group));if(e){if(e.arg>=20)return t;e.arg+=1,e.resetTimer(5e3)}else this.addBuff("ety_dg",5e3,1,"ety_dg")}return t}}}]},7443:(e,t,n)=>{e.exports=[n(6897),n(2604)]},2604:e=>{e.exports={key:"paladin_map",name:"邻村村口-2",hint:"邻村村口-2",isDungeon:!0,outside:"home",requirement:{stories:["pal-1"],beforeStories:["pal-2"]},phases:[{description:"击败圣骑士·伊瑞尔",monsters:[{type:"paladin_ariel",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:300,exp:1,loots:[]}},6897:e=>{e.exports={key:"soulbringer_map",name:"庇护所深处",hint:"庇护所深处",isDungeon:!0,outside:"home",requirement:{stories:["soulbringer-1"],beforeStories:["soulbringer-2"]},phases:[{description:"击败百鬼之王·卡隆的投影",monsters:[{type:"soul_karon",max:1,delay:1e4,total:1}]}],monsters:[],resetPrice:-1,level:300,exp:1,loots:[]}},4877:e=>{e.exports={key:"chapter3.auran",name:"奥兰境内",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.murloc.shaman",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},8850:e=>{e.exports={key:"chapter3.auran1",name:"湖畔镇",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败鱼人督军，拯救被鱼人袭击的当地村民。",monsters:[{type:"chapter3.murloc.warlord",total:1}]}],monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:6e3,delay:2e4,max:2,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:14e3,delay:2e4,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:90,level:100,exp:4e5,loots:[{key:"gold",rate:1,count:[18e3,3e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{"mithrilDress-yulin":1}}},9391:e=>{e.exports={key:"chapter3.auran2",name:"闪光湖",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败巨型海怪鱼斯拉。",monsters:[{type:"chapter3.fishzilla",warmup:25e3,total:1}]}],monsters:[{type:"chapter3.fishzilla.magician",warmup:5e3,delay:1e4,max:5}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:100,level:110,exp:5e5,loots:[{key:"gold",rate:1,count:[2e4,4e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{"ornament-yusila":1}}},6232:e=>{e.exports={key:"chapter3.auran3",name:"卡格西城",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:3e3,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:1e3,delay:3e3,max:1},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},5021:e=>{e.exports={key:"chapter3.auran4",name:"雨之都卡格西",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran3",requirement:{stories:["chapter3-7"]},phases:[{description:"击败奈因洛斯降临的分身",monsters:[{type:"chapter3.waterElement.Nynnroth",total:1},{type:"shrine.nynnroth.shield",max:1,warmup:15e3,delay:3e4}]}],monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:15e3,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:6e3,delay:25e3,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:3e4,delay:5e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:120,level:130,exp:1e6,loots:[{key:"gold",rate:1,count:[4e4,6e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},3578:(e,t,n)=>{e.exports=[n(9362),n(4088),n(2717),n(386),n(4877),n(8850),n(9391),n(4968),n(1313),n(6232),n(5021)]},9362:e=>{e.exports={key:"chapter3.road",name:"大路",hint:"很宽的马路。",requirement:{stories:["chapter3-1"]},monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.undead.zombie",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},4088:e=>{e.exports={key:"chapter3.shelter773",name:"庇护所773号",hint:"一个被亡灵化了的庇护所",isDungeon:!0,outside:"chapter3.road",requirement:{stories:["chapter3-3"]},phases:[{description:"击败死灵法师奈布。",monsters:[{type:"chapter3.necromancer",total:1}]}],monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:6e3,delay:2e4,max:1,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:14e3,delay:2e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:70,level:80,exp:18e4,loots:[{key:"gold",rate:1,count:[1e4,2e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4968:e=>{e.exports={key:"chapter3.tower1",name:"混乱元素之塔",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.element.fire",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.element.water",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.element.earth",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},1313:e=>{e.exports={key:"chapter3.tower2",name:"混乱元素王座",isDungeon:!0,outside:"chapter3.tower1",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},phases:[{description:"击败失去控制的阿撒托斯的分身",monsters:[{type:"chapter3.element.azathoth.fire",total:1}]}],monsters:[{type:"chapter3.element.fire",warmup:5e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.water",warmup:25e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.earth",warmup:45e3,delay:6e4,max:1,quality:[25,2]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:110,level:120,exp:75e4,loots:[{key:"gold",rate:1,count:[25e3,5e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},2717:e=>{e.exports={key:"chapter3.wood",name:"边界森林",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-5"]},monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},386:e=>{e.exports={key:"chapter3.wood1",name:"森林深处",hint:"抵达奥兰帝国的必经之路。",isDungeon:!0,outside:"chapter3.wood",requirement:{stories:["chapter3-6"]},phases:[{description:"击败辛巴、彭彭和丁满。",monsters:[{type:"chapter3.beast.pengpeng",total:1},{type:"chapter3.beast.simba",total:1},{type:"chapter3.beast.dingman",total:1}]}],monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:6e3,delay:15e3,max:1,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:80,level:90,exp:3e5,loots:[{key:"gold",rate:1,count:[15e3,25e3]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{"boneArmor-1":1}}},7707:(e,t,n)=>{e.exports=[n(8488),n(4505),n(7872),n(4396),n(7157),n(204)]},4396:e=>{e.exports={key:"chapter4.sanAnthony",name:"圣安东尼帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter4.humans.musketeer",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"chapter4.humans.mortar",warmup:1e3,delay:3e3,max:1,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},7157:e=>{e.exports={key:"chapter4.sanAnthony1",name:"四骑士圣殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"抵挡迫击炮的齐射。",monsters:[{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2}]},{description:"击败英勇骑士达尔。",monsters:[{type:"chapter4.humans.knights.dare",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败光明骑士莱特和鲜血骑士布莱德。",monsters:[{type:"chapter4.humans.knights.blood",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.light",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败制裁骑士山新和全能骑士雷格。没错，四骑士组合有五个人。",monsters:[{type:"chapter4.humans.knights.sanction",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.rage",max:1,warmup:8e3,delay:8e3,total:1}]}],monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:2e4,max:3,quality:[25,5,1]},{type:"chapter4.humans.musketeer",warmup:1e3,delay:3e4,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:300,level:160,exp:4e6,loots:[{key:"gold",rate:1,count:[75e3,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},204:e=>{e.exports={key:"chapter4.sanAnthony2",name:"未知暗殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"触动把手，打开秘密的通道。",monsters:[{type:"chapter4.humans.trigger.1",max:1,delay:5e3,total:1}]},{description:"进入下水道，揭开未知暗殿的奥秘。",monsters:[{type:"chapter4.humans.trigger.2",max:1,delay:5e3,total:1}]},{description:"通过陷阱阵。",monsters:[{type:"chapter4.humans.trigger.3.1",max:1,randomPosition:!0,delay:10,total:1},{type:"chapter4.humans.trigger.3.2",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.3",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.4",max:3,randomPosition:!0,delay:10,total:3}]},{description:"击败守门人菲尔斯男爵",monsters:[{type:"chapter4.humans.boss.fearas",max:1,delay:10,total:1}]},{description:"打开监狱的牢笼，释放强大的邪恶",monsters:[{type:"chapter4.humans.trigger.6",max:1,warmup:1e3,delay:10,total:1}]},{description:"击败……哈？",monsters:[{type:"chapter4.humans.trigger.7",max:1,warmup:2e3,delay:10,total:1}]},{description:"击败解除封印的上古邪恶。",monsters:[{type:"chapter4.humans.boss.evil",max:1,delay:10,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:320,level:170,exp:5e6,loots:[{key:"gold",rate:1,count:[1e5,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},8488:e=>{e.exports={key:"chapter4.westRolan",name:"东罗兰帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter4.orcs.hunter",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},4505:e=>{e.exports={key:"chapter4.westRolan1",name:"卡尔要塞",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败汹涌的狼群。",monsters:[{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4}]},{description:"击败兽人酋长萨布罗·霜狼。",monsters:[{type:"chapter3.orcs.shaman",max:1,delay:8e3,total:1}]}],monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e3,max:3,quality:[25,5,1]},{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e3,max:3,quality:[25,5,1]},{type:"chapter4.orcs.hunter",warmup:1e3,delay:1e3,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:130,level:140,exp:15e5,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},7872:e=>{e.exports={key:"chapter4.westRolan2",name:"司璐登监狱",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败流氓和小偷的偷袭。",monsters:[{type:"chapter4.humans.thief",max:2,delay:1e3,total:4},{type:"chapter4.humans.thief",max:2,warmup:1e3,delay:1e3,total:4},{type:"chapter4.humans.rogue",max:2,warmup:1e3,delay:1e3,total:4},{type:"chapter4.humans.rogue",max:2,warmup:1e3,delay:1e3,total:4}]},{description:"击败手黑党的领袖罗兰·赛克。",monsters:[{type:"chapter4.humans.seck",max:1,delay:8e3,total:1}]},{description:"再次击败手黑党的领袖罗兰·赛克。这货绑了灵魂石。",monsters:[{type:"chapter4.humans.seck1",max:1,delay:8e3,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:140,level:150,exp:3e6,loots:[{key:"gold",rate:1,count:[75e3,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4933:e=>{e.exports={key:"chapter5.byer1",name:"西拜尔港",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.undead.zombie",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},7468:e=>{e.exports={key:"chapter5.byer2",name:"幽暗的货仓",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"chapter5.necromancer",warmup:1e4,total:1}]}],monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]},{type:"chapter5.undead.zombie",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:190,level:180,exp:6e6,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},6339:e=>{e.exports={key:"chapter5.byer3",name:"梦境之森",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},8826:e=>{e.exports={key:"chapter5.byer4",name:"睡美人湖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败并安抚节制的萨曼莎。",monsters:[{type:"chapter5.woodElf.shamansa",warmup:1e4,total:1}]},{description:"击败并安抚勤勉的罗莎。",monsters:[{type:"chapter5.woodElf.rosa",warmup:1e4,total:1}]}],monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:200,level:190,exp:7e6,loots:[{key:"gold",rate:1,count:[75e3,12e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},9081:e=>{e.exports={key:"chapter5.byer5",name:"噩梦边境",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},4784:e=>{e.exports={key:"chapter5.byer6",name:"噩梦巨人国度",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败拦路的噩梦之灵，找到好心的巨人",monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,total:10}]},{description:"击败吃小孩的巨人",monsters:[{type:"chapter5.daughter.badGiant",warmup:1e3,total:1},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]}]},{description:"唤醒不安的艾米拉",monsters:[{type:"chapter5.daughter.amira",warmup:1e4,total:1}]}],monsters:[],resetPrice:210,level:200,exp:8e6,loots:[{key:"gold",rate:1,count:[95e3,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"},{type:"ticket",rate:1,dungeons:{"nightmare.1":1}}]}},5652:(e,t,n)=>{e.exports=[n(4933),n(7468),n(6339),n(8826),n(9081),n(4784)]},9520:e=>{e.exports={key:"home",name:"自宅",hint:"安全的避难所。休息够了就可以再度出发。"}},3663:(e,t,n)=>{e.exports=[n(2986),n(247),n(9520),...n(6328),...n(3578),...n(7707),...n(5652),...n(7443)]},7759:e=>{e.exports={key:"town.cave",name:"洞窟一层",hint:"边境之村通往邻村的一条小路旁的洞窟，里面阴森且潮湿。",requirement:{stories:["eyer-stories-4"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"slime.giant.enemy",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},1433:e=>{e.exports={key:"town.cave2",name:"洞窟深处",hint:"洞穴的底层，让人隐隐赶到不安。",isDungeon:!0,outside:"town.cave",requirement:{stories:["eyer-stories-4"]},phases:[{description:"击败母体史莱姆，拯救亚莲娜。",monsters:[{type:"slime.queen",total:1}]}],monsters:[{type:"slime.minimal",warmup:1e3,delay:1e4,max:1},{type:"slime.minimal",warmup:6e3,delay:1e4,max:1},{type:"slime.giant.enemy",warmup:1e4,delay:3e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:30,level:20,exp:5e3,loots:[{key:"gold",rate:1,count:[1e3,2e3]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{lg_1:1,lg_2:1,lg_3:1,lg_4:1}}},6328:(e,t,n)=>{e.exports=[n(9073),n(7759),n(1433),n(9469),n(9530),n(9079),n(7626),n(409),n(8835),n(137),n(4656)]},9079:e=>{e.exports={key:"town.mine.1",name:"矿洞入口",hint:"一个看似废弃已久的矿洞，被附近的狗头人霸占了。",requirement:{stories:["eyer-stories-10"]},monsters:[{type:"kobold.miner",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"kobold.shaman",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},7626:e=>{e.exports={key:"town.mine.2",name:"矿洞深处",hint:"金牙居住之处。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-2"]},phases:[{description:"击败金牙，探听村长的情报。",monsters:[{type:"kobold.goldteeth",total:1}]}],monsters:[{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.shaman",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:50,level:40,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}],specialrate:.05,special:{"ornament-3":1}}},409:e=>{e.exports={key:"town.mine.3",name:"神秘祭坛",hint:"矿洞深处的祭坛，通往下位面的传送门。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-4"]},phases:[{description:"击败卡卡列夫的幻象，找回村长",monsters:[{type:"kakarif.illusion",total:1}]}],monsters:[{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.servants",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:60,level:50,exp:12e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{"Machete-1":1}}},137:e=>{e.exports={key:"town.neighbourTown.2",name:"幽暗的地窖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-4"]},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"zombie.necromancer",total:1}]}],monsters:[{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.hammersmith",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:50,level:60,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4656:e=>{e.exports={key:"town.neighbourTown.3",name:"邻村村口",hint:"闻讯赶来的圣殿骑士团保卫了整个村子。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-5"]},phases:[{description:"阻止骑士团对村民的屠杀。",monsters:[{type:"knight.leader",total:1}]}],monsters:[{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.prayer",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:60,level:70,exp:18e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},8835:e=>{e.exports={key:"town.neighbourTown",name:"邻村",hint:"隔壁的村子。当亚莲娜赶到时，所有的村民都发狂了。",requirement:{stories:["aleanor-stories-2"]},monsters:[{type:"zombies.farmer",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"zombies.hammersmith",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},9073:e=>{e.exports={key:"town.street",name:"村间小路",hint:"边境之村通往邻村的一条小路。",requirement:{stories:["eyer-stories-1"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[81,9,1]},{type:"slime.giant",warmup:12e4,delay:12e4,max:1,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},9469:e=>{e.exports={key:"town.valley",name:"山谷",hint:"靠近邻村的山谷，有各种各样的野兽。",requirement:{stories:["eyer-stories-6"]},monsters:[{type:"wolf.minimal",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"wolf.giant",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1,"shrine.equip":1,"shrine.wuxingshi":1,"shrine.redbag":1},warmup:6e4,delay:6e4,max:1}]}},9530:e=>{e.exports={key:"town.woods",name:"迷雾森林",hint:"山谷底部的森林，笼罩在雾气之中。",isDungeon:!0,outside:"town.valley",requirement:{stories:["eyer-stories-8"]},phases:[{description:"击败狼王。",monsters:[{type:"wolf.king",total:1}]}],monsters:[{type:"wolf.minimal",warmup:1e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.minimal",warmup:6e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.giant",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:40,level:30,exp:2e4,loots:[{key:"gold",rate:1,count:[25,5e3]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"assistant"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}],specialrate:.05,special:{"stickSword-1":1}}},2986:e=>{e.exports={key:"training_ground1",name:"1号训练场",hint:"这里有你的挚爱——训练木桩。",monsters:[{type:"muzhuang1",warmup:1e3,delay:1e3,max:3}]}},247:e=>{e.exports={key:"training_ground2",name:"2号训练场",hint:"这里有你的挚爱——凶狠的训练木桩。",monsters:[{type:"muzhuang2",warmup:1e4,delay:3e4,max:1}]}},206:e=>{e.exports=[{key:"bcdefg",name:"",description:e=>"",hidden:!0,Max_level:1e16},{key:"zhengqiwan",name:"幸运药剂",description:e=>`运气+${5*e}%`,Max_level:200,hooks:{mf:(e,t)=>t+.05*Math.min(e,200)}},{key:"nayuandan",name:"知识药剂",description:e=>`经验加成+${5*e}%`,Max_level:1e4,hooks:{expInc:(e,t)=>t+.05*Math.min(e,1e4)}},{key:" xiaoyaosan",name:"训练药剂",description:e=>`熟练度加成+${5*e}%`,Max_level:1e4,hooks:{skillExpInc:(e,t)=>t+.05*Math.min(e,1e4)}},{key:"fengshenlu",name:"急速药剂",description:e=>`急速+${2*e}%`,Max_level:50,hooks:{speedRateAdd:(e,t)=>t+.02*Math.min(e,50)}},{key:"rdmdc",name:"恢复药剂",description:e=>`每秒恢复${(.2*e).toFixed(1)}%的生命值与法力值`,Max_level:25,hooks:{hpRecovery(e,t){return t+Math.min(e,25)*this.maxHp*.002},mpRecovery(e,t){return t+Math.min(e,25)*this.maxMp*.002}}},{key:"sweet",name:"甜味药剂",description:e=>`提高${e.toFixed(0)}%的遇怪速度`,Max_level:1e4},{key:"meleedmg",name:"蛮力药剂",description:e=>`自身造成的物理伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{meleedmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"meleedef",name:"石肤药剂",description:e=>`自身受到的物理伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{meleedefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"firedmg",name:"熔融药剂",description:e=>`自身造成的火焰伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{firedmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"firedef",name:"耐热药剂",description:e=>`自身受到的火焰伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{firedefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"colddmg",name:"寒霜药剂",description:e=>`自身造成的寒冷伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{colddmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"colddef",name:"耐寒药剂",description:e=>`自身受到的寒冷伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{colddefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"lightningdmg",name:"弧光药剂",description:e=>`自身造成的闪电伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{lightningdmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"lightningdef",name:"绝缘药剂",description:e=>`自身受到的闪电伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{lightningdefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"poisondmg",name:"剧毒药剂",description:e=>`自身造成的毒素伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{poisondmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"poisondef",name:"净化药剂",description:e=>`自身受到的毒素伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{poisondefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"lightdmg",name:"光辉药剂",description:e=>`自身造成的神圣伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{lightdmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"lightdef",name:"圣洁药剂",description:e=>`自身受到的神圣伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{lightdefmdAdd:(e,t)=>t+.001*Math.min(e,950)}},{key:"darkdmg",name:"污染药剂",description:e=>`自身造成的暗影伤害提高${(.2*e).toFixed(1)}%`,Max_level:1e5,hooks:{darkdmgmdAdd:(e,t)=>t+.002*Math.min(e,1e4)}},{key:"darkdef",name:"阴影药剂",description:e=>`自身受到的暗影伤害减少${(.1*e).toFixed(1)}%`,Max_level:950,hooks:{darkdefmdAdd:(e,t)=>t+.001*Math.min(e,950)}}]},8230:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("buffs","bossState",{hidden:!0,hooks:{bossState(e){return this.arg}}}),r("skills","bossState",{name:"转换阶段",group:"boss",coolDown:1,maxExp:e=>0,canUse:(e,t,n)=>!(t.runAttrHooks(100,"bossState")<=n)&&t.hp/t.maxHp*100<=n,effect(e,t,n){t.addBuff("bossState",null,n,"bossState")}})},3459:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.fire.kakarif.1",{name:"地震",coolDown:15e3,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,t.atk)}}),r("skills","nightmare.fire.kakarif.2",{name:"火狱之楔",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75),effect(e,t,n){let r=t.atk;for(const n of e.units.filter((e=>"nightmare.fire.minimal"===e.type)))n.kill(),r+=t.atk;for(let n=0;n<8;n++)e.addEnemy("nightmare.fire.minimal",null,0,t);for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("fire",t,n,this,r/2)}}),r("buffs","nightmare.fire.kakarif.3",{name:"烈焰之子",effectInterval:500,effect(e){e.addEnemy("nightmare.fire.minimal1",null,0,this.unit)}}),r("skills","nightmare.fire.kakarif.3",{name:"烈焰之子",coolDown:3e4,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50),effect(e,t,n){t.startRead("nightmare.fire.kakarif.3",1e4,null,this)}}),r("buffs","nightmare.fire.kakarif.4",{name:"元素怒火",effectInterval:1e3,effect(e){e.sendDamage("fire",null,this.unit,null,this.arg)}}),r("skills","nightmare.fire.kakarif.4",{name:"元素怒火",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!t.target),effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("nightmare.fire.kakarif.4",1e4,t.atk,null)}}),r("skills","nightmare.fire.kakarif.5",{name:"卡卡列夫之怒",description:"增加300%攻击速度，持续6秒。",targetType:"target",castTime:2e3,coolDown:3e4,nonBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>25||!t.target),effect(e,t,n){t.addBuff("kakarif.mad",3e3,null,"kakarif.mad")}}),r("enemies","nightmare.fire.minimal",{name:"火狱之楔",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:5e5,fireResist:2e3,coldResist:-15e3,exp:2400,atk:1500,level:300,skills:[]}),r("enemies","nightmare.fire.minimal1",{name:"卡卡列夫之子",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:5e5,fireResist:2e3,coldResist:-15e3,exp:2400,atk:1500,level:250,skills:[{key:"fireball.e",level:0}]}),r("enemies","nightmare.fire.kakarif",{name:"烈焰领主卡卡列夫",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,fireResist:2e3,coldResist:-5e3,exp:2400,atk:5e3,level:250,skills:[{key:"kakarif.melee",level:0},{key:"nightmare.fire.kakarif.1",level:0},{key:"nightmare.fire.kakarif.2",level:0},{key:"nightmare.fire.kakarif.4",level:0},{key:"nightmare.fire.kakarif.5",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.fire",{name:"噩梦-卡卡列夫",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{},phases:[{description:"击败噩梦中再次出现的烈焰领主卡卡列夫。",monsters:[{type:"nightmare.fire.minimal1",max:15,warmup:12e3,delay:3e3},{type:"nightmare.fire.kakarif",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:1,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{sos_dykb:1,ot_hd:.2,SS_cj:1,sw_ety:1}})},5403:(e,t,n)=>{n(5404),n(3991),n(5670),n(7958),n(3459),n(4142)},4142:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);i("buffs","nightmare.knight.buff.1","manaShield",{name:"盾墙",hooks:{hasShield:()=>function(e){return!0}}}),r("buffs","nightmare.knight.buff.2",{name:"盾姿",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"melee"===n?e/4:e}}),r("buffs","nightmare.knight.buff.3",{name:"盾反",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"melee"!==n?e/4:e}});const s=["盾墙","盾姿","盾反"];for(let e=1;e<=3;e++)r("skills",`nightmare.knight.${e}`,{name:s[e],castTime:1500,coolDown:3e4,antiBreak:.5,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||t.runAttrHooks(!1,"hasShield")),effect(t,n,r){n.addBuff(`nightmare.knight.buff.${e}`,1e4,n.hp/10)}});i("skills","nightmare.knight.4","knight.melee1",{castTime:1500,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.5","knight.deserve",{castTime:1500,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.6","knight.heal",{antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,[t],this),t.hp+=t.maxHp/16}}),i("skills","nightmare.knight.7","knight.thumpHead.enemy",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),i("skills","nightmare.knight.8","shockWave",{name:"神圣愤怒",castTime:3e3,antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),r("enemies","nightmare.knight.boss",{name:"皇家骑士队长卡罗",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,def:2e3,allResist:-5e3,darkResist:-5e3,lightResist:-2500,exp:2400,atk:5e3,level:250,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.knight.1",level:0},{key:"nightmare.knight.2",level:0},{key:"nightmare.knight.3",level:0},{key:"nightmare.knight.4",level:0},{key:"nightmare.knight.5",level:0},{key:"nightmare.knight.6",level:0},{key:"nightmare.knight.7",level:0},{key:"nightmare.knight.8",level:6},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.knight",{name:"噩梦-卡罗",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{},phases:[{description:"击败噩梦中再次出现的皇家骑士队长卡罗。",monsters:[{type:"nightmare.knight.boss",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:1,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{cA_hope:1,"mithrilSkirt-xinxin":1,"ornament-xddj":1,ot_zx:.2,"stickSword-fire":1,ss_exglb:1,ss_tqsg:1}})},5670:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.kobold.candle",{name:"安全牌蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:62500,exp:0,atk:4e3,level:1,skills:[{key:"nightmare.kobold.bomb",level:0}]}),i("skills","nightmare.kobold.bomb","bomb",{notBreakable:!0}),i("skills","nightmare.kobold.bomb1","bomb",{notBreakable:!0,effect:e=>function(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.sendDamage("fire",t,n,this,t.atk),n.stun(5)})),t.kill()}}),r("enemies","nightmare.kobold.candle.1",{name:"安全牌大蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:62500,exp:0,atk:4e3,level:1,skills:[{key:"nightmare.kobold.bomb1",level:0}]}),i("skills","nightmare.kobold.1","candle.call",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")<=50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle",null,0,t)}}),i("skills","nightmare.kobold.3","candle.call",{name:"驱散更多暗影",coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle.1",null,0,t)}}),r("enemies","nightmare.kobold.altar",{name:"火焰祭坛",camp:"shrine",race:"unknown",career:"melee",atk:4e3,onPress(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this,t,null,this.atk);this.kill()}}),r("buffs","nightmare.kobold.2.1",{name:"火焰献祭"}),r("buffs","nightmare.kobold.2.3",{name:"更多火焰献祭"}),r("buffs","nightmare.kobold.2.2",{name:"火焰献祭",didRemove(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this.unit,t,null,5*this.unit.atk);this.unit.kill()}}),r("skills","nightmare.kobold.2",{name:"火焰献祭",coolDown:15e3,notBreakable:!0,canUse(e,t){const n=t.runAttrHooks(100,"bossState");return!(n<=20||n>75||!e.units.find((e=>"nightmare.kobold.altar"===e.key)))},effect(e,t,n){e.units.find((e=>"nightmare.kobold.altar"===e.type)).startRead("nightmare.kobold.2.2",5e3,null,this),t.startRead("nightmare.kobold.2.1",5e3,null,this)}}),r("skills","nightmare.kobold.4",{name:"更多火焰献祭",coolDown:15e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20||!e.units.find((e=>"nightmare.kobold.altar"===e.type))),effect(e,t,n){for(const t of e.units.filter((e=>"nightmare.kobold.altar"===e.type)))t.startRead("nightmare.kobold.2.2",5e3,null,this);t.startRead("nightmare.kobold.2.3",5e3,null,this)}}),r("enemies","nightmare.kobold.king",{name:"金牙大王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,fireResist:2e3,coldResist:-5e3,exp:2400,atk:5e3,level:250,skills:[{key:"melee",level:0},{key:"nightmare.kobold.1",level:0},{key:"nightmare.kobold.2",level:0},{key:"nightmare.kobold.3",level:0},{key:"nightmare.kobold.4",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.kobold",{name:"噩梦-金牙",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败噩梦中再次出现的狗头人金牙。",monsters:[{type:"nightmare.kobold.altar",max:5,delay:3e3},{type:"nightmare.kobold.king",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:1,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"ornament"},{type:"equip",rate:1,mfRate:500,position:"ornament"},{type:"equip",rate:1,mfRate:500,position:"ornament"},{type:"equip",rate:1,mfRate:500,position:"ornament"},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{"mithrilSkirt-sydsw":1,ornament_jrdn:1,"ornament-jdzs":1,sw_fire:1}})},5404:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("buffs","nightmare.slime.queen.debuff.1",{name:"粘液",description:"所有行动减缓20%。",hooks:{speedRateAdd:e=>.8*e}}),i("buffs","nightmare.slime.queen.buff.1","manaShield",{name:"黏性外壳",hooks:{hasShield:()=>function(e){return!0}}}),r("skills","nightmare.slime.queue.1",{name:"粘液",coolDown:1e4,castTime:300,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,5e3),n.addBuff("nightmare.slime.queen.debuff.1",5e3)}}),r("buffs","nightmare.slime.queue.2",{name:"组合",hooks:{},willRemove(e){let t=4e5;for(const n of e.units)"nightmare.slime.minium"===n.type&&(n.kill(),t+=2e4);this.unit.addBuff("nightmare.slime.queen.buff.1",null,t)}}),r("skills","nightmare.slime.queue.2",{name:"分裂",castTime:300,notBreakable:!0,canUse:(e,t)=>!t.runAttrHooks(!1,"hasShield"),effect(e,t,n){for(let n=0;n<10;n++)e.addEnemy("nightmare.slime.minium",null,0,t);t.startRead("nightmare.slime.queue.2",15e3)}}),r("skills","nightmare.slime.queue.3",{name:"召唤组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>t.runAttrHooks(100,"bossState")<=50,effect(e,t,n){e.addEnemy("nightmare.slime.minium1",null,0,t)}}),r("skills","nightmare.slime.queue.3.1",{name:"组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const t of e.units)"nightmare.slime.queen"===t.type&&(t.hp+=t.maxHp/4);t.kill()}}),r("skills","nightmare.slime.queue.4",{name:"召唤不稳定的组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>20===t.runAttrHooks(100,"bossState"),effect(e,t,n){e.addEnemy("nightmare.slime.minium2",null,0,t)}}),r("skills","nightmare.slime.queue.4.1",{name:"不稳定的组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const n of e.units)"nightmare.slime.queen"===n.type&&(n.hp+=n.maxHp/4,t.addBuff("enemy.upgrade"),t.addBuff("enemy.upgrade"));t.kill()}}),r("enemies","nightmare.slime.minium",{name:"巨型史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,exp:2400,atk:1500,level:250,skills:[{key:"melee",level:0}]}),r("enemies","nightmare.slime.minium1",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e5,exp:2400,atk:1e3,level:250,skills:[{key:"nightmare.slime.queue.3.1",level:0}]}),r("enemies","nightmare.slime.minium2",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e5,exp:2400,atk:1e3,level:250,skills:[{key:"nightmare.slime.queue.4.1",level:0}]}),r("enemies","nightmare.slime.queen",{name:"史莱姆王后",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,def:2e3,allResist:-5e3,exp:2400,atk:5e3,level:250,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.slime.queue.1",level:0},{key:"nightmare.slime.queue.2",level:0},{key:"nightmare.slime.queue.3",level:0},{key:"nightmare.slime.queue.4",level:0},{key:"bossState",level:50},{key:"bossState",level:20}],hooks:{appeared(e,t){this.addBuff("nightmare.slime.queen.buff.1",null,8e5)}},stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.slime",{name:"噩梦-母体史莱姆",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{},phases:[{description:"击败噩梦中再次出现的母体史莱姆。",monsters:[{type:"nightmare.slime.queen",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:1,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"plastron"},{type:"equip",rate:1,mfRate:500,position:"plastron"},{type:"equip",rate:1,mfRate:500,position:"plastron"},{type:"equip",rate:1,mfRate:500,position:"plastron"},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{ot_slmzx:1,ms_zg:1,ot_hgxl:3,"SwordShield-dg":1}})},7958:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.undead.minimal",{name:"重生的僵尸",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e5,exp:2400,atk:1500,level:250,skills:[{key:"melee",level:0}]}),r("skills","nightmare.undead.1",{name:"毒爆",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){const r=e.units.find((e=>"nightmare.undead.minimal"===e.type));if(!r)return;const i=r.hp/1e3;r.kill();for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("dark",t,n,this,i)}}),r("skills","nightmare.undead.2",{name:"暗影治疗",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){for(const n of e.units.filter((e=>"nightmare.undead.minimal"===e.type)))e.sendHeal(t,n,this,n.maxHp/10)}}),r("skills","nightmare.undead.3",{name:"死亡一指",coolDown:4e4,castTime:25e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20),effect(e,t,n){const r=e.playerUnit;"ghost"!==r.camp&&e.sendDamage("dark",t,r,this,5*r.maxHp)}}),r("enemies","nightmare.undead.king",{name:"死灵法师奈布",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,def:-2e3,allResist:1e3,darkResist:2e3,lightResist:-25e3,exp:2400,atk:5e3,level:250,skills:[{key:"melee",level:0},{key:"darkball.e",level:0},{key:"nightmare.undead.1",level:0},{key:"nightmare.undead.2",level:0},{key:"nightmare.undead.3",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.undead",{name:"噩梦-奈布",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{},phases:[{description:"击败噩梦中再次出现的死灵法师奈布。",monsters:[{type:"nightmare.undead.minimal",max:10,delay:5e3},{type:"nightmare.undead.king",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:250,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{bA_jsbf:1,"mithrilDress-yydt":1,md_jkzf:1,"stickWand-bzat":1,bA_mczy:1}})},3991:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.wolf.hunter",{name:"召唤陷阱",castTime:25e3,canUse:(e,t)=>!e.units.find((e=>"nightmare.wolf.hunter.trigger"===e.type)),effect(e,t,n){e.addEnemy("nightmare.wolf.hunter.trigger",null,0,t)}}),r("enemies","nightmare.wolf.hunter",{name:"老练的猎人",description:"的",camp:"shrine",race:"unknown",career:"melee",skills:[{key:"nightmare.wolf.hunter",level:0}]}),r("enemies","nightmare.wolf.hunter.trigger",{name:"陷阱",description:"的",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)"nightmare.wolf.king"===t.type&&t.stun(5,"stunned",!0);this.kill()}}),r("enemies","nightmare.wolf.healer",{name:"母狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e5,def:500,allResist:-5e3,fireResist:-5e3,exp:2400,atk:1e3,level:250,skills:[{key:"melee",level:0},{key:"wolf.heal",level:8e5}]}),r("enemies","nightmare.wolf.minium",{name:"公狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e5,def:500,allResist:-5e3,fireResist:-5e3,exp:2400,atk:1e3,level:250,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}]}),i("skills","nightmare.wolf.1","wolf.call",{coolDown:3e4,notBreakable:!0,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&e.call(this,t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.wolf.healer",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t)}}),i("skills","nightmare.wolf.2","knight.melee1",{name:"爪击",coolDown:2e3,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)}}),i("skills","nightmare.wolf.3","rosa.angry",{name:"嗜血",canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e.call(this,t,n)}}),r("enemies","nightmare.wolf.king",{name:"白鬃狼王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,def:1e3,fireResist:-5e3,exp:2400,atk:5e3,level:250,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.wolf.2",level:0},{key:"nightmare.wolf.3",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25}]}),r("maps","nightmare.wolf",{name:"噩梦-狼王",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare",requirement:{},phases:[{description:"击败噩梦中再次出现的狼王。",monsters:[{type:"nightmare.wolf.hunter",max:1,delay:5},{type:"nightmare.wolf.healer",max:5,warmup:12e3,delay:3e3},{type:"nightmare.wolf.minium",max:5,warmup:12e3,delay:3e3},{type:"nightmare.wolf.king",warmup:1e4,total:1}]}],stunResist:1e4,resetPrice:1,level:200,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"weapon"},{type:"equip",rate:1,mfRate:500,position:"weapon"},{type:"equip",rate:1,mfRate:500,position:"weapon"},{type:"equip",rate:1,mfRate:500,position:"weapon"},{key:"year2018.redbag",count:[1,1],rate:.02}],specialrate:.05,special:{bA_xwhx2:1,ot_jf:1,ot_c80:1,"stickSword-gzjd":1,"SwordShield-js":1}})},6637:(e,t,n)=>{const r=n(4130);function i(e,t,n){n.key=t,r[e][t]=n}function s(e,t){const n={...e};for(const e of Object.keys(t))"object"!=typeof t[e]||Array.isArray(t[e])?"function"==typeof t[e]?n[e]=t[e](n[e],n):n[e]=t[e]:n[e]=s(n[e],t[e]);return n}t.define=i,t.extend=function(e,t,n,a){i(e,t,s(r[e][n],a))}},1654:(e,t,n)=>{const{define:r,extend:i}=n(6637);i("skills","year2018.heal","wolf.heal",{canUse:e=>function(e,t){const{summoner:n}=t;return!(!n||n.hp>.25*n.maxHp)},effect:()=>function(e,t,n){const r=this.summoner;r&&(e.sendSkillUsage(t,[r],this),r.hp+=5e4)}}),r("enemies","year2018.minimal.fire",{name:"火·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,exp:3e3,atk:1250,level:300,skills:[{key:"melee",level:0},{key:"fireball.e",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.cold",{name:"冰·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,exp:3e3,atk:1250,level:300,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.lightning",{name:"电·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,exp:3e3,atk:1250,level:300,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:3},{key:"year2018.heal",level:0}]}),i("skills","year2018.shockWave","shockWave",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&!(n.hp<.25*n.maxHp)&&(!e||e(t,n))}});const s=["year2018.minimal.fire","year2018.minimal.cold","year2018.minimal.lightning"];i("buffs","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",effect:()=>function(e){const t=s[Math.floor(3*Math.random())];e.addEnemy(t,null,0,this.unit)}}),i("skills","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",castTime:0,antiBreak:.9,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&(!e||e(t,n))},effect:()=>function(e,t,n){t.startRead("year2018.summonMinimal",5001,null,this)}}),r("enemies","year2018.boss",{name:"三头年兽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e6,exp:3200,atk:5e3,level:300,stunResist:4e4,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0},{key:"year2018.summonMinimal",level:0},{key:"year2018.shockWave",level:10},{key:"bossState",level:75},{key:"bossState",level:50}],hooks:{onSummonDeath(){this.addBuff("swordSkill",void 0,.01)},atkSpeedMul(e,t){return this.hp<.25*this.maxHp?.25:1}}}),r("maps","year2018.dungeon",{name:"年兽巢穴",isDungeon:!0,outside:"home",requirement:{level:100},phases:[{description:"沿着阴森的小路前进，寻找年兽的踪迹。",monsters:[{types:{"year2018.minimal.fire":1,"year2018.minimal.cold":1,"year2018.minimal.lightning":1},warmup:1e3,delay:6e3,max:4,total:10}]},{description:"击败洞穴中的三头巨兽。",monsters:[{type:"year2018.boss",warmup:15e3,delay:1e9,total:1}]}],level:300,exp:15e6,loots:[{key:"gold",rate:1,count:[3e5,6e5]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}],specialrate:.05,special:{"year2018.yearBeastWeapon-1X":1,"year2018.yearBeastWeapon-1":1,"year2018.yearBeastWeapon-2":1,"year2018.yearBeastWeapon-3":1,"year2018.yearBeastWeapon-4":1,"year2018.yearBeastPlastron-1":1,"year2018.yearBeastPlastron-2":1,"year2018.yearBeastPlastron-3":1,"year2018.yearBeastTrousers-1":1,"year2018.yearBeastTrousers-22":1,"year2018.yearBeastTrousers-3":1,"year2018.yearBeastHeart":1,"year2018.yearBeastWeapon_5":1,"year2018.yearBeastWeapon_6":1}})},1448:(e,t,n)=>{n(3077),n(1654)},3077:(e,t,n)=>{const{define:r,extend:i}=n(6637),{enemies:s,maps:a}=n(4130);for(const e of Object.keys(s)){const t=s[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:2e-4})}for(const e of Object.keys(s)){const t=s[e];t.loots&&t.loots.push({key:"61boxt",count:[1,1],rate:2e-5})}for(const e of Object.keys(s)){const t=s[e];t.loots&&t.loots.push({key:"exp_zz",count:[1,1],rate:2e-4})}for(const e of Object.keys(a)){const t=a[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:.2})}for(const e of Object.keys(s)){const t=s[e];t.loots&&t.loots.push({key:"time_zz",count:[1,1],rate:2e-5})}},5034:(e,t,n)=>{e.exports=[...n(3236),...n(8441),...n(436),...n(6133),...n(5974)]},6133:e=>{e.exports=[{key:"pla_passive1",name:"神圣力量",description:"每1点力量增加1物理伤害等级；每1点智力增加1.2神圣伤害等级、1神圣抗性、0.8元素伤害等级；每1点耐力增加0.8物理防御、0.8全抗性、4生命值；装备长剑、布甲时，增加等同于装备品级的智力；装备盾牌、重甲时，增加等同于装备品级的力量；装备轻甲时，增加等同于1/2装备品级的力量和智力。",hooks:{maxMpAdd(e,t){return t+100+4*this.level},mpRecovery(e,t){return t+1+.09*this.level},intAdd(e,t){let n=0;const{weapon:r,plastron:i,gaiter:s}=this.player.equipments;return r.empty||"sword"!==r.goodData.class||(n+=r.level),i.empty||("cloth"===i.goodData.class?n+=i.level:"lightArmor"===i.goodData.class&&(n+=.5*i.level)),s.empty||("cloth"===s.goodData.class?n+=s.level:"lightArmor"===s.goodData.class&&(n+=.5*s.level)),t+Math.ceil(n)},strAdd(e,t){let n=0;const{weapon:r,assistant:i,plastron:s,gaiter:a}=this.player.equipments;return i.empty||"shield"!==i.goodData.class||(n+=i.level),s.empty||("armor"===s.goodData.class?n+=s.level:"lightArmor"===s.goodData.class&&(n+=.5*s.level)),a.empty||("armor"===a.goodData.class?n+=a.level:"lightArmor"===a.goodData.class&&(n+=.5*a.level)),t+Math.ceil(n)},defselfAdd(e,t){return t+.8*this.sta},allResselfAdd(e,t){return t+.8*this.sta},speResAdd(e,t){return t+.8*this.sta},maxHp_Add(e,t){return t+4*this.sta},dmgLAdd(e,t){return t+this.str},lightdmgLAdd(e,t){return t+1.2*this.int},lightResist(e,t){return t+this.int},firedmgLAdd(e,t){return t+.8*this.int},colddmgLAdd(e,t){return t+.8*this.int},lightningdmgLAdd(e,t){return t+.8*this.int}}}]},8441:e=>{e.exports=[{key:"magic",name:"冥想",description:"每1点智力增加1元素伤害等级、1元素抗性、5法力值、0.1/s法力恢复；每1点耐力增加0.3物理防御、0.3全抗性、2.5生命值。",hooks:{maxMpAdd(e,t){return t+50+5*this.int},mpRecovery(e,t){return t+1+.1*this.int},defselfAdd(e,t){return t+.3*this.sta},allResselfAdd(e,t){return t+.3*this.sta+this.int},speResAdd(e,t){return t+.3*this.sta},maxHp_Add(e,t){return t+2.5*this.sta},firedmgLAdd(e,t){return t+this.int},colddmgLAdd(e,t){return t+this.int},lightningdmgLAdd(e,t){return t+this.int}}},{key:"elect",name:"人形自走发电机",description:"电能上限增加至10格。",hooks:{maxComboPoint:(e,t)=>t+5}}]},436:e=>{e.exports=[{key:"soulbringer_passive",name:"黑暗封印",description:"每1点力量增加0.2攻击力；每1点智力增加0.2攻击力、1.5暗影伤害等级、1.5暗影抗性、5法力值；每1点耐力增加0.5物理防御、0.5全抗性、2.5生命值。",hooks:{maxMpAdd(e,t){return t+50+5*this.int},darkResist(e,t){return t+1.5*this.int},darkdmgLAdd(e,t){return t+1.5*this.int},atk_self_Add(e,t){return t+.2*this.int+.2*this.str},defselfAdd(e,t){return t+.5*this.sta},allResselfAdd(e,t){return t+.5*this.sta},speResAdd(e,t){return t+.5*this.sta},maxHp_Add(e,t){return t+2.5*this.sta}}}]},5974:e=>{e.exports=[{key:"vbps1",name:"赤手空拳",description:"每1点力量、敏捷分别增加0.3攻击力、0.5物理伤害等级、0.5物理防御；每1点耐力增加0.5物理防御、0.5全抗性、4生命值、0.2/s生命恢复。",hooks:{atk_self_Add(e,t){return t+.3*this.str+.3*this.dex},dmgLAdd(e,t){return t+.5*(this.str+this.dex)},defselfAdd(e,t){return t+.5*this.str+.5*this.dex+.5*this.sta},allResselfAdd(e,t){return t+.3*this.sta},speResAdd(e,t){return t+.3*this.sta},maxHp_Add(e,t){return t+4*this.sta},maxMpMul:(e,t)=>0,hpRecovery(e,t){return t+.2*this.sta}}}]},3236:e=>{e.exports=[{key:"warrior_passive1",name:"热血青年",description:"每1点力量增加0.5攻击力、0.5物理伤害等级、0.85物理防御；每1点耐力增加1物理防御及抗性、4生命值、0.1/s生命恢复。",hooks:{atk_self_Add(e,t){return t+.5*this.str},dmgLAdd(e,t){return t+.85*this.str},defselfAdd(e,t){return t+.85*this.str+this.sta},allResselfAdd(e,t){return t+this.sta},speResAdd(e,t){return t+this.sta},maxHp_Add(e,t){return t+4*this.sta},maxRp:(e,t)=>t+100,nomp:(e,t)=>0,hpRecovery(e,t){return t+.1*this.sta}}},{key:"warrior_passive2",name:"玩火",description:"火焰伤害+20%；每1点力量增加0.5火焰伤害等级；每1点智力增加0.5火焰伤害等级；每1点敏捷增加2闪避值；每150点敏捷增加1%急速，但最高不超过20%。",hooks:{fireDmgadd:(e,t)=>t+.2,firedmgLAdd(e,t){return t+.5*this.str+.5*this.int},missing(e,t){return t+2*this.dex},speedRateAdd(e,t){return t+Math.min(.2,Math.round(this.dex/150)/100)}}},{key:"warrior_passive3",name:"剑心",description:"每1点力量增加0.5攻击力、0.5物理伤害等级；每1点敏捷增加2闪避值；每100点敏捷增加1%急速，但最高不超过20%。",hooks:{atk_self_Add(e,t){return t+.5*this.str},dmgLAdd(e,t){return t+.5*this.str},missing(e,t){return t+2*this.dex},speedRateAdd(e,t){return t+Math.min(.3,Math.round(this.dex/100)/100)}}},{key:"warrior_passive4",name:"捍卫",description:"每50点生命值增加1攻击力；每1点力量增加1物理防御；每1点耐力增加1物理防御、1元素抗性、2.5生命值。",hooks:{atk_self_Add(e,t){return t+this.maxHp/50},defselfAdd(e,t){return t+this.str+this.sta},allResselfAdd(e,t){return t+this.sta},maxHp_Add(e,t){return t+2.5*this.sta}}},{key:"warrior_passive5",name:"狂暴之心",description:"每1点敏捷增加1暴击等级、2暴击伤害等级。",hooks:{critRLAdd(e,t){return t+1*this.dex},critBLAdd(e,t){return t+2*this.dex},maxCpAdd:(e,t)=>t+100,maxFpAdd:(e,t)=>t+100}},{key:"warrior_passive6",name:"冰与火之鸽",description:"火焰、寒冷伤害+20%；每1点力量增加1火焰伤害等级、1寒冷伤害等级；每1点智力增加0.5火焰伤害等级、0.5寒冷伤害等级；每1点敏捷增加0.5暴击等级、1暴击伤害等级。",hooks:{fireDmgadd:(e,t)=>t+.2,coldDmgadd:(e,t)=>t+.2,firedmgLAdd(e,t){return t+this.str+.5*this.int},colddmgLAdd(e,t){return t+this.str+.5*this.int},critRLAdd(e,t){return t+.5*this.dex},critBLAdd(e,t){return t+this.dex},maxCpAdd:(e,t)=>t+100,maxFpAdd:(e,t)=>t+100}},{key:"wr_wg1",name:"圣日",description:"每1点智力增加0.3攻击力、0.5神圣伤害等级；每1点耐力增加1.5物理防御、1.5全抗性、4生命值；每秒获得1点能量。",hooks:{atk_self_Add(e,t){return t+.3*this.int},lightdmgLAdd(e,t){return t+.5*this.int},defselfAdd(e,t){return t+1.5*this.sta},allResselfAdd(e,t){return t+1.5*this.sta},speResAdd(e,t){return t+1.5*this.sta},maxHp_Add(e,t){return t+4*this.sta},rpRecovery:(e,t)=>t+1,maxRp:(e,t)=>t+100,nomp:(e,t)=>0}},{key:"wr_wg2",name:"暗月",description:"每1点智力增加0.5攻击力、0.85暗影伤害等级；每1点耐力增加0.9物理防御、0.9全抗性、4生命值；每秒流失1点能量。",hooks:{atk_self_Add(e,t){return t+.5*this.int},darkdmgLAdd(e,t){return t+.85*this.int},defselfAdd(e,t){return t+.9*this.sta},allResselfAdd(e,t){return t+.9*this.sta},speResAdd(e,t){return t+.9*this.sta},maxHp_Add(e,t){return t+4*this.sta},rpRecovery:(e,t)=>t-1,maxRp:(e,t)=>t+100,nomp:(e,t)=>0}}]},8531:e=>{e.exports={}},1675:e=>{e.exports={key:"Aleanor",name:"亚莲娜",description:"艾尔的童年好友，一名蓝发的少女。似乎有些不同寻常的地方……\n   \n  职业： 魔法学徒\n  职业特性： \n  ①法力值上限+50，法力值恢复+1\n  ②每点智力额外增加5点法力值上限和0.1法力值恢复\n   \n  可以使用的武器： 法杖\n  可以穿戴的防具： 布甲\n    \n  可以习得的主动技能： 杖击、魔法连弹、召唤术·史莱姆\n  可以习得的被动技能： 能量亲和、魔法铠甲\n   \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。\n  开荒难度：★★★★☆",defaultCareer:"sorceress",atk:0,requirement:{stories:["aleanor-startup"]},attrBase:{str:4,dex:8,int:12,sta:8}}},662:e=>{e.exports={key:"Ariel",name:"伊瑞尔",description:"这是一名来自庇护之地的圣骑士。\n\t开荒难度：★★★☆☆",defaultCareer:"paladin",atk:1,requirement:{stories:["pal-2"],unplayer:["Ariel"]},attrBase:{str:10,dex:5,int:10,sta:5}}},4564:e=>{e.exports={key:"Eyer",name:"艾尔",description:"边境之村的一名普通少年，熟读数百本勇者传，头发染成了勇者专用的金色。\n   \n  职业： 战士\n  职业特性： \n  ①每点力量额外增加0.2攻击力\n  ②被攻击时获得1点怒气\n  \n  可以使用的武器： 长剑、剑盾、砍刀\n  可以穿戴的防具： 轻甲、重甲\n   \n  可以习得的主动技能： 普通攻击、包扎伤口、重击\n  可以习得的被动技能： 坚韧、奋勇\n  \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。\n  开荒难度：★★☆☆☆",defaultCareer:"warrior",atk:1,attrBase:{str:10,dex:8,int:4,sta:10}}},2334:e=>{e.exports={key:"iPhone14promax",name:"恶魔五月哭",description:"I am the storm that is approaching\n\t \n\tProvoking black clouds in isolation\n\t \n\tI am reclaimer of my name\n\t \n\tBorn in flames, I have been blessed\n\t \n\tMy family crest is a demon of death!\n\t \n\t \n\t职业： 黑暗君主\n\t职业特性： \n\t①法力值上限+50\n\t②每点力量额外增加0.2攻击力\n\t③每点智力额外增加0.2攻击力、1点暗影伤害、1点暗影抗性、5点法力值上限\n\t \n\t可以使用的武器： 太刀，长剑\n\t可以穿戴的防具： 布甲\n\t  \n\t艾冯十世·普洛·麦克斯大佬为大家定制的超强（？）角色。\n\t",defaultCareer:"soulbringer",atk:1,requirement:{stories:["soulbringer-2"],unplayer:["iPhone14promax"]},attrBase:{str:10,dex:8,int:10,sta:8}}},1725:(e,t,n)=>{e.exports=[n(4564),n(1675),n(2334),n(662),n(3597)]},3597:e=>{e.exports={key:"villageH",name:"村长",description:"边境之村的村长，姓名是个迷；据说师承于东方，但村子里没人能懂他到底学了个啥。\n   \n\t职业： 拳法宗师\n\t职业特性： \n\t①每点力量+0.3攻击力\n\t②每点敏捷+0.3攻击力\n   \n\t可以使用的武器： 拳套。\n\t可以穿戴的防具： 不限。\n\t\n\t老村长的拳术，会根据技能携带位置的奇偶发挥不同的效果，衔接释放的额外技能视为携带在偶数位。\n\t开荒难度：★★★★★\n\t\n\tMr.Samael大佬为大家设计的职业。",defaultCareer:"villagelv1",atk:1,requirement:{stories:["chapter3-1"]},attrBase:{str:10,dex:10,int:4,sta:8}}},7249:e=>{e.exports=[{key:"melee",name:"攻击",group:"melee",description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},coolDown:5e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=s*(.5*Math.random()+.75);e.sendDamage("melee",t,r,this,a),i&&(t.hp+=i),t.rp+=5}},{key:"melee.aoe",name:"炮击",group:"melee",castTime:500,description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},coolDown:3e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{leech:r=0,atk:i}=t,s=i*(.5*Math.random()+.75);for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,s);r&&(t.hp+=r),t.rp+=5}},{key:"mz2skill2",name:"自我了结",coolDown:3e4,description:"",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;let i=0;i+=t.maxHp-t.hp,t.kill(),e.sendGeneralMsg(`你的厨艺等级为${e.cklv()}级,炼金等级为${e.mdlv()}级。而你在本次测试期间只输出了${Math.round(i)}点伤害，秒伤约${Math.round(i/30)}点/s，没吃饭？`)}}]},5422:e=>{e.exports=[{key:"summon.earth.comeToMe",name:"嘲讽",castTime:500,coolDown:5e3,canUse:(e,t)=>!!t.target&&t.target.target!==t,effect(e,t,n){t.target.target=t}}]},4586:e=>{e.exports=[{key:"slime.swallow",name:"吞噬",description:"吞噬一个小型史莱姆，获取对方的所有生命值。",coolDown:25e3,castTime:1e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&t.maxHp-t.hp>e.maxHp)),effect(e,t,n){const r=e.units.find((e=>e!==t&&t.willAssist(e)));e.sendSkillUsage(t,[r],this);const i=.2*r.maxHp;e.sendHeal(t,t,this,i),e.removeUnit(r)}},{key:"wolf.heal",name:"舔舐伤口",castTime:2e3,description:"用心舔舐同伴的伤口，恢复100点生命值",coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=30)}},{key:"wolf.call",name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:500,coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<15,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("wolf.giant",null,0,t),e.addEnemy("wolf.minimal",null,0,t),e.addEnemy("wolf.minimal",null,0,t)}},{key:"fireball.e",name:"火球术",description:"造成50点火焰伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("fire",t,r,this,1.5*i)}},{key:"bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.sendDamage("fire",t,n,this,t.atk)})),t.kill()}},{key:"candle.call",name:"驱散暗影",description:"召唤一大堆蜡烛",castTime:500,coolDown:4e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<50,effect(e,t,n){e.sendSkillUsage(t,null,this);for(let n=0;n<8;n++)e.addEnemy("kobold.candle",null,0,t)}},{key:"kakarif.melee",name:"火焰冲击",group:"melee",description:"造成巨额的火焰伤害",targetType:"target",coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t;e.sendDamage("fire",t,i,this,r)}},{key:"kakarif.mad",name:"卡卡列夫之怒",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:2e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("kakarif.mad",4e3)}},{key:"zombie.thumpHead",name:"击颅",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+1)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t,s=i*(.8*Math.random()+2);e.sendDamage("melee",t,r,this,s),r.breakCasting(),r.stun(.5)}},{key:"zombie.heal",name:"暗影治疗",description:"治疗所有盟友100点生命。每治疗一个盟友，就对所有敌人造成10点暗影伤害",castTime:2e3,coolDown:2e4,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)));if(r.length>0){for(const e of r)e.hp+=100;const n=10*r.length,i=e.units.filter((e=>t.willAttack(e)));for(const r of i)e.sendDamage("dark",t,r,this,n)}}},{key:"zombie.hide",name:"驱使亡灵",description:"将自己的位置移动到最后，并调整所有目标为自己的敌人",castTime:1e3,coolDown:30589,effect(e,t,n){e.units.remove(t),e.units.push(t),e.units.forEach((e=>{e.target===t&&(e.setTarget(null),e.findTarget())}))}},{key:"shieldShock",name:"盾击",description:e=>`反制一个目标，打断其正在释放的技能，并阻止其${e+5}秒内释放相同的技能`,coolDown:e=>1e4+1e3*e,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3+1e3*n)}},{key:"knight.heal",name:"圣光术",description:"治疗一个队友",castTime:3e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=t.maxHp/5)}},{key:"knight.shout",name:"战斗怒吼",description:e=>`在未来30秒内增加所有同伴${10+10*e|0}%护甲。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("shout",3e4,1,"shout")}))}},{key:"necromancer.ghostShield",name:"幽魂护卫",description:"召唤伙伴来共同作战",coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!e.units.find((e=>"chapter3.undead.ghostShield"===e.type)),effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t)}},{key:"ghostShield",name:"幽魂护卫",description:"使奈布免疫所有伤害",castTime:500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>"chapter3.necromancer"===e.type)),effect(e,t,n){e.units.find((e=>"chapter3.necromancer"===e.type)).addBuff("ghostShield",1e3,null,"ghostShield")}},{key:"darkball.e",name:"暗影箭",description:"造成50点暗影伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("dark",t,r,this,.45*i)}},{key:"simba.heal",name:"治疗波",description:"治疗一个队友",castTime:3500,coolDown:25e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)),effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];e.sendSkillUsage(t,[r],this),r.hp+=3e3}},{key:"simba.thumpHead",name:"冲撞",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:25e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t,s=i*(.8*Math.random()+.5);e.sendDamage("melee",t,r,this,s),r.breakCasting(),r.stun(1)}},{key:"shaman.iceball",name:"寒冰箭",description:"造成50点寒冷呢伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("cold",t,r,this,i)}},{key:"murloc.thumpHead",name:"鱼人大军",description:"召唤大量悍不畏死的小鱼人，向敌人发起冲锋",coolDown:3e4,effect(e,t,n){t.startRead("murloc.thumpHead",5001,null,this)}},{key:"murloc.army.thumpHead",name:"冰霜冲锋",castTime:3e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r}=t,i=e.units.filter((e=>"player"===e.camp)),s=i[Math.floor(Math.random()*i.length)],a=r*(.5*Math.random()+1);e.sendDamage("cold",t,s,this,a),s.breakCasting(),s.stun(1),t.kill()}},{key:"murloc.shieldShout",name:"水之庇护",description:e=>"为所有同伴增加一个护盾，吸收3000点伤害。",coolDown:3e4,castTime:2e3,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("murloc.waterShield",3e4,3e3)}))}},{key:"fishzilla.summonSlaves",name:"召唤奴隶",description:"召唤伙伴来共同作战",coolDown:1e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.murloc.slaves",null,0,t)}},{key:"fishzilla.focus",name:"奥术射线",coolDown:10,canUse:(e,t)=>!!e.units.find((e=>"chapter3.fishzilla"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter3.fishzilla"===e.type));t.target!==r&&(t.target=r),t.startRead("fishzilla.focus",1e5,null,this)}},{key:"fishzilla.bomb",name:"冰箭乱射",description:"对全体敌人造成300点冰霜伤害",castTime:2e3,coolDown:e=>2e4-1e3*e,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{e.sendDamage("cold",t,n,this,r)}))}},{key:"waterArrow.e",name:"水箭术",description:"造成30点冰冷伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("cold",t,r,this,i)}},{key:"azathoth.transformIce",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.7*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.ice")}},{key:"azathoth.transformEarth",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.4*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.earth")}},{key:"azathoth.transformDark",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.2*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.dark")}},{key:"azathoth.explode",name:"同归于尽",castTime:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("fire",t,n,this,5e5);t.transformType("chapter3.element.azathoth.none"),t.kill()}},{key:"enemy.upgrade",name:"愤怒",description:"增加10%攻击力",coolDown:3e4,hidden:!0,effect(e,t,n){t.addBuff("enemy.upgrade")}},{key:"waterElement.waterFlow",name:"激流",description:"造成30点冰冷伤害",notBreakable:!0,castTime:4e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("cold",t,r,this,25*i)}},{key:"orcs.summonWolf",cost:{ep:50},name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.wolf",null,0,t)}},{key:"wolf.worry",name:"撕咬",coolDown:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("wolf.worry",1e4,t.atk,"wolf.worry")}},{key:"shaman.chainingLightning",name:"闪电链",description:"对随机5个敌人造成伤害，伤害依次减少20%",castTime:1e3,coolDown:8e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.hp<=.6*t.maxHp,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));let i=t.atk;for(let n=0;n<5&&!(r.length<1);n++){const n=Math.floor(Math.random()*r.length),s=r.splice(n,1)[0];e.sendDamage("lightning",t,s,this,i),i*=.8}}},{key:"lightningElement.chainingLightning",name:"闪电链",description:"对随机3个敌人造成伤害，伤害依次减少20%",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r}=t,i=e.units.filter((e=>t.canAttack(e)));let s=t.atk;for(let n=0;n<3&&!(i.length<1);n++){const n=Math.floor(Math.random()*i.length),r=i.splice(n,1)[0];e.sendDamage("lightning",t,r,this,s),s*=.8}}},{key:"lightningElement.stunAll",name:"乱雷",coolDown:1e4,castTime:1e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{const s=r*(.4*Math.random()+.6)*(1+.2*n);e.sendDamage("lightning",t,i,this,s),i.stun(1),i.breakCasting()}))}},{key:"orcs.summonHealToken",name:"治疗图腾",description:"召唤伙伴来共同作战",castTime:1e3,coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20&&t.hp<=.3*t.maxHp,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.totem",null,0,t)}},{key:"totem.heal",name:"治愈之雨",description:"治疗所有盟友100点生命。",castTime:1e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t!==e&&t.willAssist(e)));for(const e of r)e.hp+=1e3}},{key:"chapter4.humans.seck.summonDarkSoul",name:"召唤虚空行者",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.monster"===e.type)).length<1,effect(e,t,n){const r=e.addEnemy("chapter4.humans.monster",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"chapter4.humans.seck.healthDrill",name:"生命汲取",castTime:3e3,coolDown:2e4,description:(e,t)=>{const{int:n}=t;return`对目标造成${0|10*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，为你恢复${10+e}%生命值。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t,s=r/2;e.sendHeal(t,t,this,t.maxHp*(.05+.01*n)),e.sendDamage("dark",t,i,this,s)}},{key:"chapter4.humans.women.thumpHead",name:"魅惑",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:25e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.breakCasting(),r.stun(3)}},{key:"chapter4.humans.seck.summonWomen",name:"召唤魅魔",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.women"===e.type)).length<2,effect(e,t,n){const r=e.addEnemy("chapter4.humans.women",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"knight.glory.enemy",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,coolDown:2e4,cost:{comboPoint:3},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e))).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendHeal(t,r,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this))}},{key:"knight.thumpHead.enemy",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+3}秒。`,coolDown:1e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(2)}},{key:"enemy.fearas.summonTrigger",name:"召唤陷阱",description:e=>"召唤一个随机品牌的地雷。当心！",coolDown:2e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=["chapter4.humans.trigger.5.1","chapter4.humans.trigger.5.2","chapter4.humans.trigger.5.3","chapter4.humans.trigger.5.4"],i=r[Math.floor(Math.random()*r.length)];e.addEnemy(i,null,0,t),i===r[3]?e.sendGeneralMsg("额，拿错了。"):e.sendGeneralMsg("菲尔斯放置了一个地雷，快拆掉它！")}},{key:"enemy.fearas.bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.sendDamage("fire",t,n,this,t.atk)})),t.kill()}},{key:"enemy.fearas.bomb1",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.sendGeneralMsg("这是一颗哑炮。"),t.kill()}},{key:"enemy.fearas.bomb2",name:"损坏",description:"一会就坏了",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){t.kill()}},{key:"enemy.evil.reading1",name:"精神鞭笞",description:"造成持续的伤害",notBreakable:!0,coolDown:15e3,effect(e,t,n){t.startRead("enemy.evil.reading1",5001,null,this)}},{key:"enemy.evil.control",name:"精神控制",description:"造成持续的伤害",notBreakable:!0,coolDown:1e4,castTime:500,canUse:(e,t)=>!!e.units.find((e=>"chapter4.humans.boss.milhous"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter4.humans.boss.milhous"===e.type));r&&r.addBuff("enemy.evil.control",null,null,"control"),e.sendGeneralMsg("米尔豪斯晕了头！快让他恢复正常！")}},{key:"shamansa.spew",name:"呕吐",maxExp:e=>1e20,coolDown:25e3,notBreakable:!0,canUse:(e,t)=>!!t.target,description:"将刚吃下去的吐出来",effect(e,t,n){t.startRead("shamansa.spew",5001,null,this)}},{key:"rosa.sleepy",name:"昏昏欲睡",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:25e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));for(const e of r)e.breakCasting(),e.stun(3)}},{key:"rosa.angry",name:"起床气",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}},{key:"chapter5.daughter.monster2",name:"幽闭",description:e=>`使目标昏迷${e+3}秒。`,coolDown:3e4,castTime:3e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.breakCasting(),r.stun(2)}},{key:"chapter5.daughter.monster4",name:"惊慌失措",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}},{key:"ariel_skill1",name:"圣光弹",description:"",coolDown:8e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=(.5*t.atk+3.5)*(.9+.2*Math.random());e.sendDamage("light",t,r,this,i)}},{key:"ariel_skill2",name:"白热",coolDown:1500,description:(e,t)=>{const n=(.9*t.atk+t.str*(.25+.005*e))*(.06*e+1)/4;return`连续攻击2次，根据自身攻击力和力量，每次对随机目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点物理伤害。\n\t\t\t每“牺牲”技能等级，伤害提高1%。\n\t\t\t携带“狂热”时，伤害提高25%。\n\t\t\t携带“救赎”时，攻击次数+1。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=e.units.filter((e=>e!==r&&t.willAttack(e)));for(let n=0;n<2;n++){let n=r;i.length>0&&(!t.target||Math.random()<.8)&&(n=i[Math.floor(Math.random()*i.length)]);let s=(.9*t.atk+2.5)*(.9+.2*Math.random())/4;e.sendDamage("melee",t,n,this,s)}}},{key:"cleave",name:"顺劈斩",description:"",coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t,s=r*(.2*Math.random()+.4);e.sendDamage("melee",t,i,this,s),e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((n=>{const i=r*(.2*Math.random()+.4);e.sendDamage("melee",t,n,this,i)})),t.rp+=10}},{key:"mortalStrike",name:"致死打击",description:"",coolDown:(e,t)=>t.runAttrHooks(8e3,"mortalStrikeCoolDown"),maxExp:e=>e**2*200+600*e+400,canUse:(e,t,n)=>!!t.target&&t.target.hp<=.2*t.target.maxHp,effect(e,t,n){const{target:r}=t,i=t.atk*(10*Math.random()+10)*(1+.2*n);e.sendDamage("melee",t,r,this,i)}},{key:"swordSkill",name:"狂热",description:"",coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t,s=i*(.4*Math.random()+.6)*(.2*n+1);e.sendDamage("melee",t,r,this,s),t.addBuff("swordSkill",1e3*(n+1),.1),t.rp+=10}},{key:"meleeForRage",name:"怒击",group:"melee",description:"",coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t,s=i*(.4*Math.random()+.6)*(.2*n+1);e.sendDamage("melee",t,r,this,s),t.rp+=10+n+1}},{key:"shockWave",name:"震荡波",description:"",coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,n){const{atk:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{const s=r*(.4*Math.random()+.6)*(1+.2*n);e.sendDamage("melee",t,i,this,s),i.stun(5)}))}},{key:"iceArrow",name:"寒冰箭",description:"",castTime:1500,coolDown:100,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i=0}=t,s=i;r.addBuff("cold",3e3,null,"cold"),e.sendDamage("cold",t,r,this,s)}},{key:"fireBall",name:"火球术",description:"",castTime:2e3,coolDown:100,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,t,n){const{target:r,atk:i}=t,s=i;e.sendDamage("fire",t,r,this,s)}},{key:"iceNova",name:"霜之新星",description:"",castTime:1500,coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,n){e.units.filter((e=>t.willAttack(e)&&e.coldAbsorb<1)).forEach((e=>{e.stun(n/2+1,"freezed")}))}}]},5218:(e,t,n)=>{e.exports=[...n(7249),...n(4012),...n(8417),...n(5665),...n(5422),...n(4586),...n(7148),...n(8265),...n(4781),...n(3246)]},8265:e=>{e.exports=[{key:"karon_tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>(Math.round((80+2*e)/100*t.atk),Math.round((90+3*e)/100*t.atk),Math.round((20+1*e)/100*t.atk),Math.round((25+1*e)/100*t.atk),`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${dmg1}点暗属性伤害；自爆后再次对所有目标造成${dmg2}点暗属性伤害`),cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("karon_tombstonesummon_buff",5005,null,this)}},{key:"karon_tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。",cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_tombstoneplus",null,0,t,this)}},{key:"karon_dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。",cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_jige"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_jige",null,0,t,this)}}]},5665:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");e.runAttrHooks(t,"holyCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}e.exports=[{key:"knight.melee",name:"攻击",group:"melee",expGroup:"melee",description:e=>{const t=1+.2*e;return`正义的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害，产生一点圣能。`},coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=a*(.5*Math.random()+.75)*(.2*r+1);e.sendDamage("melee",n,i,this,o),s&&(n.hp+=s),t(n)}},{key:"knight.thump",group:"thump",name:"重击",expGroup:"thump",description:e=>{const t=1+.2*e;return`审判的一击。造成巨额的伤害。对目标造成攻击力的${0|250*t}%-${0|350*t}%伤害。需要三点圣能。`},cost:{comboPoint:3},coolDown:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:s=0,critRate:a=0,critBonus:o=1.5}=t,l=i*(.5*Math.random()+.8)*(n/5+1);e.sendDamage("melee",t,r,this,l),s&&(t.hp+=s)}},{key:"knight.cleave",name:"顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`制裁的一击。对最多三个目标分别造成(${0|30*n}%-${0|42*n}%)倍攻击力伤害，产生一点圣能。`},coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:s,leech:a=0}=n,o=n.runAttrHooks(1,"cleaveDamageRate"),l=i*(.12*Math.random()+.3)*(r/5+1)*o;e.sendDamage("melee",n,s,this,l);let u=.4;e.units.filter((e=>e!==s&&n.willAttack(e))).slice(0,2).forEach((t=>{const s=i*(.12*Math.random()+.3)*(r/10+1);u+=.4,e.sendDamage("melee",n,t,this,s)})),a&&(n.hp+=a*u),t(n)}},{key:"knight.whirlwind",name:"破邪斩",description:e=>{const t=1+.2*e;return`荣耀的一击。对全体目标造成造成攻击力的${0|60*t}%-${0|80*t}%伤害。需要三点圣能。`},coolDown:800,cost:{comboPoint:3},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:s=0,critBonus:a=1.5,leech:o}=t;o&&(t.hp+=o),i.forEach((n=>{const i=r*(.2*Math.random()+.6);e.sendDamage("melee",t,n,this,i)}))}},{key:"knight.thumpHead",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+5}秒。`,coolDown:2e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(n+5)}},{key:"knight.sacrifice",name:"牺牲",group:"melee",expGroup:"sacrifice",description:e=>{const t=1+.2*e;return`绝望的一击。对目标造成攻击力的${0|1*t*100}%-${0|1.75*t*100}%伤害，你自己受到${(15/t).toFixed(1)}%的总伤害，产生一点圣能。`},coolDown:2500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n;let o=a*(.75*Math.random()+1);e.sendDamage("melee",n,n,this,.15*o),o*=.2*r+1,e.sendDamage("melee",n,i,this,o),s&&(n.hp+=s),t(n)}},{key:"knight.glory",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,coolDown:1e4,cost:{comboPoint:e=>e.runAttrHooks(!1,"cheapGlory")?0:3},maxExp:e=>e**2*200+600*e+400,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this)}},{key:"knight.reflect",name:"盾牌反射",description:e=>`受到法术伤害时，抵挡其伤害，并对伤害来源造成${20+4*e}%的伤害，持续${e+5}秒。`,maxExp:e=>e**2*200+600*e+400,castTime:2e3,coolDown:e=>15e3,effect(e,t,n){t.addBuff("knight.shieldReflect",5e3,.2,"knight.shieldReflect")}},{key:"knight.kick",name:"盾击",description:e=>"用盾牌冲撞敌人，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3)}},{key:"knight.melee1",name:"驱邪术",coolDown:3e3,description:e=>{const t=1+.2*e;return`用圣光的力量驱散邪恶。对目标造成攻击力的${0|1*t*100}%-${0|1.5*t*100}%伤害。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=s*(.5*Math.random()+1)*(.2*n+1),{critRate:o=0,critBonus:l=1.5}=t;e.sendDamage("melee",t,r,this,a),i&&(t.hp+=i)}},{key:"knight.deserve",name:"奉献",coolDown:1e4,description:e=>{const t=1+.2*e;return`将圣光灌注到脚下的土地，在接下来的8秒内每2秒对所有敌人造成攻击力的${0|30*t}%-${0|50*t}%伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("knight.deserve",10005,n,"knight.deserve")}}]},4781:e=>{function t(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e>=1e8||t>=1e8?(e/1e8).toFixed(2)+"-"+(t/1e8).toFixed(2)+"亿":e>=1e4||t>=1e4?(e/1e4).toFixed(2)+"-"+(t/1e4).toFixed(2)+"万":(0|e)+"-"+(0|t)+"点":e>=1e8?(e/1e8).toFixed(2)+"亿":e>=1e4?(e/1e4).toFixed(2)+"万":(0|e)+"点"}e.exports=[{key:"paladin_skill1",name:"牺牲",type:"player",lv:1,group:"1",coolDown:1500,cost:{mp:1},description:(e,n)=>{const r=(n.atk+n.str*(.25+.005*e))*(.06*e+1);return`以生命为代价,根据自身攻击力和力量，对目标造成${t(.9*r,1.1*r)}物理伤害，自身损失当前生命值的5%。\n\t\t\t每“白热”技能等级，伤害+1%。\n\t\t\t同时携带“狂热”光环，造成的伤害+25%。\n\t\t\t同时携带“救赎”，免除自身损失生命值的效果。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i}=t,s=t.buffs.find((e=>"skill3_buff"===e.group)),a=1+.01*(t.player.getSkillLevel("paladin_skill6")||0)+(t.runAttrHooks(!1,"skill17_buff")?.25:0);let o=(t.atk+t.str*(.25+.005*n))*(.06*n+1)*a*(.9+.2*Math.random())*(s?2:1);e.sendDamage("melee",t,r,this,o),1===t.runAttrHooks(1,"pal_enhance11")&&(t.hp=.95*t.hp),i&&(t.hp+=i),t.removeBuff(s)}},{key:"paladin_skill2",name:"力量",type:"player",lv:1,group:"2",halo:!0,coolDown:5e3,description:e=>`物理伤害+${Math.round(100+2*e)/10}%。\n\t\t\t同时携带“祝福瞄准”，额外+10%物理伤害。\n\t\t\t同时携带“反抗”，额外+10%物理伤害。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.removeBuff(t.buffs.find((e=>"skill2_buff"===e.group))),t.addBuff("skill2_buff",5e3,.1+.002*n,"skill2_buff")}},{key:"paladin_skill3",name:"盾击",type:"player",lv:6,group:"4",description:(e,n)=>`虽然我会炖鸡，但兄弟你记得要带盾啊。\n\t\t\t用盾牌猛击敌人，根据自身物理防御，对目标造成${t(n.def*(.5+.01*e))}物理伤害，并使其昏迷1秒。\n\t\t\t同时携带“力量”，昏迷时间增加0.5秒。\n\t\t\t同时携带“荆棘”，下一个“牺牲”伤害+100%。\n\t\t\t同时携带“反抗”，盾击的伤害+${Math.round(n.def/(n.def+5e3)*100+2*e)}%。`,coolDown:8e3,cost:{mp:5},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i,leech:s=0}=t,a=Math.round(t.def*(.5+.01*n))*(1+(t.runAttrHooks(!1,"pal_enhance3")?t.def/(t.def+5e3)+n/50:0));r.breakCasting(),r.addBuff("stunned",1e3+(t.runAttrHooks(!1,"skill2_buff")?500:0),null,"stunned"),e.sendDamage("melee",t,r,this,a),t.runAttrHooks(!1,"pal_enhance4")&&t.addBuff("skill3_buff",null,null,"skill3_buff"),s&&(t.hp+=s)}},{key:"paladin_skill4",name:"圣光弹",type:"player",lv:12,description:(e,n)=>{const r=e+n.runAttrHooks(0,"pdsk4"),i=(.8*n.atk+(n.int+n.str)*(.35+.006*r))*(.06*r+1);return`将神圣能量凝聚成飞弹，根据自身攻击力和力量、智力，对目标造成${t(.9*i,1.1*i)}神圣伤害。\n\t\t\t每“天堂之拳”技能等级，伤害+2%。\n\t\t\t同时携带“祈祷”，治疗自身5%的生命值。\n\t\t\t同时携带“救赎”，冷却时间减少2秒。`},coolDown:(e,t,n)=>1e4-(t.runAttrHooks(!1,"pal_enhance11")?2e3:0),castTime:500,cost:{mp:5},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=n+t.runAttrHooks(0,"pdsk4"),s=1+.02*(t.player.getSkillLevel("paladin_skill5")||0),a=(.8*t.atk+(t.int||10+t.str||10)*(.35+.006*i))*(.06*i+1)*s*(.9+.2*Math.random())*(t.lightDmgadd||1);e.sendDamage("light",t,r,this,a),t.runAttrHooks(!1,"pal_enhance1")&&e.sendHeal(t,t,this,.05*t.maxHp),t.addBuff("skill4_buff",1e4,null,"skill4_buff")}},{key:"paladin_skill5",name:"神圣之火",type:"player",lv:6,group:"3",halo:!0,coolDown:5e3,description:(e,n)=>{const r=n.int*(.08*e+1)/10;return`根据自身智力，每秒对所有目标造成${t(.9*r,1.1*r)}火焰伤害。\n\t\t\t每次造成物理伤害时，将额外附加${t(n.int*(.5+.03*e))}点火焰伤害。\n\t\t\t同时携带“信念”，每秒使目标的火焰抗性永久减少${n.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的火焰伤害提高25%。\n\t\t\t同时携带“火焰抵抗”，额外增加10%火焰吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill5_buff1",5e3,n,"skill5_buff1")}},{key:"paladin_skill6",name:"白热",type:"player",lv:18,group:"1",coolDown:1500,cost:{mp:2},description:(e,n)=>{const r=(.9*n.atk+n.str*(.25+.005*e))*(.06*e+1)/4;return`连续攻击3次，根据自身攻击力和力量，每次对随机目标造成${t(.9*r,1.1*r)}物理伤害。\n\t\t\t每“牺牲”技能等级，伤害提高1%。\n\t\t\t携带“狂热”时，伤害提高25%。\n\t\t\t携带“救赎”时，攻击次数+1。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=e.units.filter((e=>e!==r&&t.willAttack(e)));for(let s=0;s<3+(t.runAttrHooks(!1,"pal_enhance11")?1:0);s++){let s=r;i.length>0&&(!t.target||Math.random()<.8)&&(s=i[Math.floor(Math.random()*i.length)]);const a=1+.01*t.player.getSkillLevel("paladin_skill1")+(t.runAttrHooks(!1,"skill17_buff")?.25:0);let o=(.9*t.atk+(t.str||10)*(.25+.005*n))*(.06*n+1)*a*(.9+.2*Math.random())/4;e.sendDamage("melee",t,s,this,o),t.hp+=.5*(t.leech||0)}}},{key:"paladin_skill7",name:"盾压",type:"player",lv:24,group:"4",description:(e,n)=>`虽然我会炖鸭，但兄弟你记得要带盾啊。\n\t\t\t用盾牌拍击敌人，根据自身物理防御，对目标造成${t(n.def*(1+.03*e))}物理伤害，10%几率触发“压碎性打击”。\n\t\t\t压碎性打击：对目标造成其当前生命值25%的物理伤害，但最大不能超过自身物理防御的${Math.round(500+10*e)}%。\n\t\t\t携带“力量”时，“压碎性打击”的触发几率增加至25%。\n\t\t\t携带“荆棘”时，下一个“牺牲”伤害+100%。\n\t\t\t携带“反抗”时，“压碎性打击”的伤害上限×2。`,coolDown:15e3,cost:{mp:10},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0}=t,s=t.def*(1+.03*n);e.sendDamage("melee",t,r,this,s),Math.random()<.1+(t.runAttrHooks(!1,"skill2_buff")?.15:0)&&e.sendDamage("melee",null,r,"压碎性打击",Math.min(.25*r.hp,t.def*(5+.1*n)*(t.runAttrHooks(!1,"pal_enhance3")?2:1)),!1),t.runAttrHooks(!1,"pal_enhance4")&&t.addBuff("skill3_buff",null,null,"skill3_buff"),i&&(t.hp+=i)}},{key:"paladin_skill8",name:"复仇",type:"player",lv:36,group:"1",description:(e,n)=>{const r=(n.atk+(n.int+n.str)*(.35+.003*e))*(.04*e+1)/3;return`根据自身攻击力、力量、智力，对目标分别造成${t(.9*r,1.1*r)}火焰、寒冷、闪电伤害。\n\t\t\t每“神圣之火”等级，造成的火焰伤害提高5%。\n\t\t\t每“神圣冰冻”等级，造成的寒冷伤害提高5%。\n\t\t\t每“神圣冲击”等级，造成的闪电伤害提高5%。\n\t\t\t同时携带“信念”，每次命中使目标的火焰、寒冷、闪电抗性永久减少${n.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，每次命中有50%的几率使目标受到的火焰、寒冷、闪电伤害+1%，可叠加。`},coolDown:1500,cost:{mp:5},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0}=t,s=(t.atk+(t.int+t.str)*(.35+.003*n))*(.04*n+1)*(.9+.2*Math.random())/3;e.sendDamage("fire",t,r,this,s*(1+.05*t.player.getSkillLevel("paladin_skill5"))),e.sendDamage("cold",t,r,this,s*(1+.05*t.player.getSkillLevel("paladin_skill9"))),e.sendDamage("lightning",t,r,this,s*(1+.05*t.player.getSkillLevel("paladin_skill13"))),t.runAttrHooks(!1,"skill16_buff")&&(r.addBuff("skill13_buff2",null,t.player.getSkillLevel("paladin_skill16")),r.addBuff("skill9_buff2",null,t.player.getSkillLevel("paladin_skill16")),r.addBuff("skill5_buff2",null,t.player.getSkillLevel("paladin_skill16"))),t.runAttrHooks(!1,"pal_enhance10")&&Math.random()<.5&&function(e,t){const n=t.buffs.find((e=>"skill8_buff"===e.group));n?n.arg+=.01:t.addBuff("skill8_buff",null,.01,"skill8_buff")}(0,r),i&&(t.hp+=i)}},{key:"paladin_skill9",name:"神圣冰冻",type:"player",lv:12,group:"3",halo:!0,coolDown:5e3,description:(e,n)=>{const r=n.int*(.08*e+1)/10;return`根据自身智力，每秒对所有目标造成${t(.9*r,1.1*r)}寒冷伤害。\n\t\t\t每次造成物理伤害时，将额外附加${t(n.int*(.5+.03*e))}寒冷伤害。\n\t\t\t同时携带“信念”，每秒使目标的寒冷抗性永久减少${n.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的寒冷伤害提高25%。\n\t\t\t同时携带“寒冷抵抗”，额外增加10%寒冷吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill9_buff1",5e3,n,"skill9_buff1")}},{key:"paladin_skill10",name:"祝福之锤",type:"player",lv:42,description:(e,n)=>{const r=(n.atk+(n.int+n.str)*(.55+.005*e))*(.06*e+1);return`大锤八十，小锤四十。\n\t\t\t将神圣能量凝聚成一柄祝福之锤，根据自身攻击力、力量、智力，对所有目标造成${t(.9*r,1.1*r)}神圣伤害。\n\t\t\t同时携带“祝福瞄准”，技能暴击几率+25%。\n\t\t\t同时携带“精力”，冷却时间减少3秒。\n\t\t\t同时携带“专注”，额外对主目标造成一次350%的伤害。`},coolDown:(e,t,n)=>15e3-(t.runAttrHooks(!1,"pal_enhance8")?3e3:0),cost:{mp:12},castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0}=t;for(const r of e.units.filter((e=>t.willAttack(e)))){const i=(t.atk+(t.int+t.str)*(.55+.005*n))*(.06*n+1)*(.9+.2*Math.random()),s=t.testCrit(t.runAttrHooks(!1,"skill11_buff")?.25:0);e.sendDamage("light",t,r,this,i,s)}if(t.runAttrHooks(!1,"skill11_buff")){const i=(t.atk+(t.int+t.str)*(.55+.005*n))*(.06*n+1)*(.9+.2*Math.random()),s=t.testCrit(t.runAttrHooks(!1,"skill11_buff")?.25:0);e.sendDamage("light",t,r,this,3.5*i,s)}}},{key:"paladin_skill11",name:"专注",type:"player",lv:36,group:"2",halo:!0,coolDown:5e3,description:(e,t)=>`暴击等级+${.5*t.level*e}点，闪避值+${.25*t.level*e}点。\n\t\t\t同时携带“祝福瞄准”，暴击几率+10%。\n\t\t\t同时携带“反抗”，闪避几率+10%。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill11_buff",2e4,n,"skill11_buff")}},{key:"paladin_skill12",name:"神圣之盾",type:"player",lv:48,description:(e,t)=>`虽然我不会炖猪脚，但兄弟你记得要带盾啊。\n\t\t\t用神圣的力量强化你的盾牌，火焰、寒冷、闪电抗性+${.25*t.level*e}点，格挡几率+10%。\n\t\t\t同时携带“力量”，格挡几率+10%。\n\t\t\t同时携带“反抗”，所有伤害吸收+20%。`,coolDown:25e3,cost:{mp:22},castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill12_buff",25e3,n,"skill12_buff")}},{key:"paladin_skill13",name:"神圣冲击",type:"player",lv:18,group:"3",halo:!0,coolDown:5e3,description:(e,n)=>{const r=n.int*(.08*e+1)/10;return`根据自身智力，每秒对所有目标造成${t(.9*r,1.1*r)}闪电伤害。\n\t\t\t每次造成物理伤害时，将额外附加${t(n.int*(.5+.03*e))}闪电伤害。\n\t\t\t同时携带“信念”，每秒使目标的闪电抗性永久减少${n.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的闪电伤害提高25%。\n\t\t\t同时携带“闪电抵抗”，额外增加10%闪电吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill13_buff1",5e3,n,"skill13_buff1")}},{key:"paladin_skill14",name:"庇护之光",group:"3",halo:!0,coolDown:5e3,description:(e,n)=>{const r=e+n.runAttrHooks(0,"pdsk14"),i=n.int*(.08*r+1)/10;return`根据自身智力，每秒对所有目标造成${t(.9*i,1.1*i)}神圣伤害。\n\t\t\t每次造成物理伤害时，将额外附加${t(n.int*(.5+.03*e))}神圣伤害。\n\t\t\t同时携带“祈祷”，每秒减少目标25点神圣抗性。\n\t\t\t同时携带“救赎”，额外附加的神圣伤害提高25%。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=n+t.runAttrHooks(0,"pdsk14");t.addBuff("skill14_buff1",5e3,r,"skill14_buff1")}},{key:"paladin_skill15",name:"天堂之拳",description:(e,n)=>{const r=(n.atk+1.5*(n.str+n.int)+78*e)*(.035*e+1);return`召唤神圣能量攻击你的目标，根据自身攻击力、力量、智力，对目标造成${t(.9*r,1.1*r)}神圣伤害。\n\t\t\t同时携带“圣光弹”，每“圣光弹”技能等级+5%伤害，并对目标额外释放一次“圣光弹”。\n\t\t\t同时携带“庇护之光”，技能伤害+25%。\n\t\t\t同时携带“救赎”，冷却时间减少5秒。`},coolDown:(e,t,n)=>3e4-(t.runAttrHooks(!1,"pal_enhance11")?5e3:0),cost:{mp:60},castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;let i=1+(t.runAttrHooks(!1,"skill14_buff")?.25:0);t.runAttrHooks(!1,"skill4_buff")&&(i+=.01*t.player.getSkillLevel("paladin_skill4"),t.useExtraSkill("paladin_skill4"));const s=(t.atk+1.5*(t.str+t.int)+78*n)*(.035*n+1)*i*(.9+.2*Math.random());e.sendDamage("light",t,r,this,s),t.runAttrHooks(!1,"pal_enhance11")&&t.hp/t.maxHp<.55&&(t.hp+=.2*t.maxHp)}},{key:"paladin_skill16",name:"信念",type:"player",lv:48,halo:!0,coolDown:5e3,description:e=>`使所有敌对目标的物理防御减少${500+30*e}点，元素抗性减少${500+30*e}点。\n\t\t\t同时携带“火焰抵抗”，额外减少${20*e}点火焰抗性。\n\t\t\t同时携带“寒冷抵抗”，额外减少${20*e}点寒冷抗性。\n\t\t\t同时携带“闪电抵抗”，额外减少${20*e}点闪电抗性。\n\t\t\t同时携带“救助”，额外减少${10*e}点元素抗性。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill16_buff1",5e3,n,"skill16_buff1")}},{key:"paladin_skill17",name:"狂热",type:"player",lv:60,group:"2",halo:!0,coolDown:5e3,description:(e,t)=>`自身造成的伤害提高${Math.round(100+2*e)/10}%，急速+20%。\n\t\t\t同时携带“祝福瞄准”，造成的伤害额外+10%。\n\t\t\t同时携带“精力”，造成的伤害额外+10%。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.removeBuff(t.buffs.find((e=>"skill17_buff"===e.group))),t.addBuff("skill17_buff",5e3,1.1+.002*n,"skill17_buff")}}]},8417:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log(t);const n=e.runAttrHooks(5,"maxComboPoint");if(t=e.runAttrHooks(t,"sree56"),e.runAttrHooks(!1,"sree59"))for(const n of e.skills)"脉冲"==n.name&&n.reduceCoolDown(1e3*t);e.comboPoint=Math.min(n,e.comboPoint+t)}function n(e,t){const n=e.runAttrHooks(!1,"magicArtist"),r=e.buffs.find((e=>"magicState"===e.group));n?r?r.arg!==t&&(r.arg=t,e.addBuff("magicArtist",5e3,.1)):e.addBuff("magicState",null,t,"magicState"):r&&e.removeBuff(r)}function r(e,t,n,r){for(const n of e.units.filter((e=>t.willAttack(e)))){const e=n.buffs.find((e=>"fire_buff"===e.group));e?(e.arg+=r,e.resetTimer(15e3)):n.addBuff("fire_buff",15e3,r,"fire_buff")}}function i(e,t){const n=t.buffs.find((e=>"electricity_buff"===e.group));e.runAttrHooks(!1,"sree51")&&(n?(n.arg+=.02,n.resetTimer(1e4)):t.addBuff("electricity_buff",1e4,.01,"electricity_buff"))}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.33,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.max(1,Math.round(e*(1-t))),i=Math.max(1,Math.round(e*(1+n)));return r>=1e8||i>=1e8?(r/1e8).toFixed(2)+"-"+(i/1e8).toFixed(2)+"亿":r>=1e4||i>=1e4?(r/1e4).toFixed(2)+"-"+(i/1e4).toFixed(2)+"万":r+"-"+i+"点"}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.33,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;return r+=Math.max(1,Math.round(e*(1-t+Math.random()*(t+n)))),r}e.exports=[{key:"wind_blade",name:"魔法连弹",element:"magic",description:(e,t)=>{const n=t.int*(.1+.005*e)/2+2;return`连续释放${Math.floor(e/10)+4}个魔法飞弹，每个对目标造成${s(n)}魔法伤害。\n\t\t\t每个飞弹攻击随机的目标,每10技能等级增加1个魔法飞弹。`},coolDown:1500,cost:{mp:5},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{int:i=0,target:s}=t;!function(e){e.runAttrHooks(!1,"sree4")&&e.addBuff("chord_buff",null,null,"chord_buff")}(t);let o=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,t.maxMp);const l=e.units.filter((e=>e!==s&&t.willAttack(e)));for(let n=0;n<Math.floor(r/10)+4;n++){let n=s;l.length>0&&(!t.target||Math.random()<.8)&&(n=l[Math.floor(Math.random()*l.length)]);const i=a(t.int*(.1+.005*r)/2+2);e.sendDamage("magic",t,n,this,i)}n(t,"magic")}},{key:"sorceress_shield",name:"魔法铠甲",element:"magic",cost:{mp:(e,t)=>30+.05*e.maxMp+10*t},MaxLv:50,maxExp:e=>e**2*1e3+1800*e+1200,canUse:(e,t)=>!!t.target,description:(e,t)=>`物理防御、元素抗性增加${Math.round(250+15*e)}，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=250+15*r;t.addBuff("magic_shield_buff",3e4,i,"magic_shield_buff"),n(t,"magic")}},{key:"summon_slime",name:"召唤术·史莱姆",casttime:2e3,coolDown:1500,cost:{mp:e=>25+.01*e.maxMp},description:(e,t)=>`召唤一团史莱姆，20秒后史莱姆将撤离现场。\n\t\t\t召唤物攻击力：${Math.round(t.int/2+e)}\n\t\t\t召唤物生命值：${Math.round(t.maxHp*(1+e/10))}`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.slime")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.slime",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(2e4,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"sorceress_fireBall",name:"火球术",element:"fire",description:(e,t)=>`对目标造成${s((30+2*e)*(.01*t.int+1)*(.05*e+1)*1.5,.5)}火焰伤害。`,castTime:2500,coolDown:100,cost:{mp:(e,t)=>20+.01*e.maxMp+10*t},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t,s=t.runAttrHooks(1,"two_kjk"),o=t.buffs.find((e=>"chord_buff"===e.group));let l=1;o&&(l+=.3,t.removeBuff(o));const u=t.runAttrHooks(!1,"sree7")?.1:0,c=t.runAttrHooks(!1,"sree7")?.2:0,p=t.runAttrHooks(!1,"sree14")?.2:0,h=t.runAttrHooks(!1,"sree17");let f=1;const d=(30+2*r)*(.01*t.int+1)*(.05*r+1)*s*l*1.5,m=a(d,.5);if(e.sendDamage("fire",t,i,this,m,u,c),p){let n=Math.random();for(;n<.2;){const r=a(d,.5);e.sendDamage("fire",t,i,this,r,u,c),f+=1,n=Math.random()}}if(h)for(const e of t.skills)"爆炎术"==e.name&&e.reduceCoolDown(1e3*f);n(t,"fire")}},{key:"sorceress_lightning",name:"闪电",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(1,"sree50"),r=t.runAttrHooks(1,"sree48");return`对目标造成${s((40+2*e)*(.01*t.int+1)*(.05*e+1)*3*r,n)}闪电伤害。`},castTime:2e3,coolDown:(e,t,n)=>t.runAttrHooks(!1,"sree47")?1e3:100,cost:{mp:(e,t)=>20+.01*e.maxMp+10*t},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,r,s){let o=r.runAttrHooks(1,"sree50"),l=r.runAttrHooks(1,"sree48");r.runAttrHooks(!1,"sree47")&&(o=0);const{target:u}=r,c=r.buffs.find((e=>"chord_buff"===e.group));let p=1;c&&(p+=.3,r.removeBuff(c));let h=0;const f=r.runAttrHooks(!1,"sree8")?.4:0,d=r.buffs.find((e=>"sorceress_energy_buff"===e.group));let m=1;d&&(m+=.5+.01*d.arg,h+=1,r.removeBuff(d));const g=a((40+2*s)*(.01*r.int+1)*(.05*s+1)*3*p*m*l,o);if(i(r,u),e.sendDamage("lightning",r,u,this,g,h,f),t(r),n(r,"lightning"),r.runAttrHooks(1,"sree46"))for(const e of r.skills)"雷蛇"==e.name&&e.reduceCoolDown(1e3)}},{key:"sorceress_coldBall",name:"水箭术",element:"cold",description:(e,t)=>`对目标造成${s((15+2*e)*(.01*t.int+1)*(.05*e+1)*1.1,.1)}寒冷伤害。`,castTime:1500,coolDown:100,cost:{mp:(e,t)=>20+.01*e.maxMp+10*t},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t,s=t.buffs.find((e=>"chord_buff"===e.group));let o=1;s&&(o+=.3,t.removeBuff(s));const l=t.runAttrHooks(!1,"sree9")?.1:0,u=t.runAttrHooks(!1,"sree9")?.2:0,c=t.runAttrHooks(!1,"sree30"),p=t.runAttrHooks(!1,"sree31"),h=(15+2*r)*(.01*t.int+1)*(.05*r+1)*o*(c?1.3:1)*(p?2.5:1)*1.1,f=a(h,.1);p&&Math.random()<.15&&function(e,t,n){const r=t.buffs.find((e=>"freezed"===e.group)),i=t.buffs.find((e=>"cold_df"===e.group)),s=(t.buffs.find((e=>"sree41_buff"===e.group)),e.runAttrHooks(!1,"sree38")),a=e.runAttrHooks(!1,"sree39");e.runAttrHooks(!1,"sree41")&&e.addBuff("sree41_buff",3e3,null,"sree41_buff"),a&&(i?i.arg+=.01:t.addBuff("cold_df",null,.01,"cold_df")),r?s?(n.sendDamage("cold",null,t,"冻伤",Math.min(.2*t.maxHp,50*e.int)),t.removeBuff(r)):r.resetTimer(1500):t.addBuff("freezed",1500,null,"freezed")}(t,i,e),e.sendDamage("cold",t,i,this,f,l,u),n(t,"cold"),c&&e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,5).forEach((n=>{const r=a(h,.1);e.sendDamage("cold",t,n,this,r,l,u)}))}},{key:"sorceress_igniting",name:"点燃",element:"fire",description:(e,t)=>{const n=(20+2*e)*(.01*t.int+1)*(.02*e+1)/6;return`为所有目标添加一层“灼烧”效果。\n\t\t\t灼烧：每3秒受到${Math.round(n)}点火焰伤害，持续15秒，可叠加。`},coolDown:15e3,cost:{mp:(e,t)=>30+.025*e.maxMp+10*t},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,i){const{target:s}=t,a=t.runAttrHooks(1,"wree30"),o=t.runAttrHooks(!1,"sree28"),l=(20+2*i)*(.01*t.int+1)*(.02*i+1)/6*a;if(r(e,t,0,l),o){let n=Math.random();for(;n<.6;)r(e,t,0,l*a),n=Math.random()}n(t,"fire")}},{key:"sorceress_vitalitywater",name:"活力之水",description:e=>`每秒恢复${Math.round(50+1*e)/100}%的生命值和法力值，持续10秒。`,coolDown:(e,t,n)=>15e3*t.runAttrHooks(1,"defring"),castTime:1e3,canUse:(e,t)=>!!t.target,maxExp:e=>e**2*600+1800*e+1200,effect(e,t,n){let r=t.runAttrHooks(1,"sree32");t.addBuff("vitalitywater_buff",10005,(.05+.001*n)/10*r,"vitalitywater_buff")}},{key:"sorceress_fireBall_ex",name:"爆炎术",element:"fire",description:(e,t)=>`对最多八个目标造成${s((40+3*e)*(.01*t.int+1)*(.05*e+1)*1.5,.5)}火焰伤害。`,castTime:2500,coolDown:8e3,cost:{mp:(e,t)=>45+.05*e.maxMp+20*t},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t,s=t.buffs.find((e=>"chord_buff"===e.group));let o=1;s&&(o+=.3,t.removeBuff(s));const l=t.runAttrHooks(1,"sree16"),u=(40+3*r)*(.01*t.int+1)*(.05*r+1)*1.5*o*l,c=a(u,.5);e.sendDamage("fire",t,i,this,c),n(t,"fire"),l<2&&e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,7).forEach((n=>{const r=a(u,.5);e.sendDamage("fire",t,n,this,r)}))}},{key:"sorceress_overdraft",name:"透支",description:e=>`火焰伤害增加${Math.round(250+5*e)/10}%，但法力值恢复减少${Math.round(50+1*e)}，持续25秒。`,coolDown:25e3,cost:{mp:e=>.05*e.maxMp},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.runAttrHooks(!1,"sree15")?t.addBuff("sorceress_overdraft_buff2",25005,n,"sorceress_overdraft_buff2"):t.addBuff("sorceress_overdraft_buff1",25005,n,"sorceress_overdraft_buff1")}},{key:"sorceress_hellfire",name:"地狱之火",coolDown:18e3,cost:{mp:(e,t)=>70+.08*e.maxMp+30*t},description:(e,t)=>`引导6秒，每秒对所有目标造成${s((10+.5*e)*(.01*t.int+1)*(.05*e+1)*1.5,.5)}火焰伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.buffs.find((e=>"chord_buff"===e.group));let i=1;r&&(i+=.3,t.removeBuff(r));const s=t.runAttrHooks(!1,"sree18"),a=(10+.5*n)*(.01*t.int+1)*(.05*n+1)*i;s?t.startRead("sorceress_hellfire_buff2",4005,a,this):t.startRead("sorceress_hellfire_buff",6005,a,this)}},{key:"sorceress_chainingLightning",name:"雷蛇",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(1,"sree50"),r=t.runAttrHooks(1,"sree48");return`对目标造成${s((40+2*e)*(.01*t.int+1)*(.05*e+1)*3*r,n)}闪电伤害，再随机弹射5次，每次弹射伤害衰减25%；只存在一个目标时无法弹射。`},castTime:1e3,coolDown:8e3,cost:{mp:(e,t)=>30+.05*e.maxMp+10*t},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.runAttrHooks(1,"sree50"),s=t.runAttrHooks(1,"sree48"),o=t.buffs.find((e=>"chord_buff"===e.group));let l=1;o&&(.3,t.removeBuff(o));let u=0;const c=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let p=1;c&&(.5+.01*c.arg,u+=1,t.removeBuff(c));let h=t.runAttrHooks(!1,"sree45")?10:5;const f=t.runAttrHooks(.75,"blz_buff");let d=t.target,m=(40+2*n)*(.01*t.int+1)*(.05*n+1)*3*s;e.sendDamage("lightning",t,d,this,a(m,r),u),i(t,d);for(let n=0;n<h;n++){const n=e.units.filter((e=>e!==d&&t.willAttack(e)));if(n.length<1)break;d=n[Math.floor(Math.random()*n.length)],m*=f,e.sendDamage("lightning",t,d,this,a(m,r),u),i(t,d)}}},{key:"sorceress_energy",name:"蓄电",element:"lightning",coolDown:(e,t,n)=>11e3-t.runAttrHooks(0,"sree49"),maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,cost:{mp:(e,t)=>50+.1*e.maxMp+20*t},description:(e,t)=>`下一个闪电类法术必定暴击，且伤害提高${Math.round(50+e)}%，持续8秒。`,effect(e,r,i){r.addBuff("sorceress_energy_buff",9e3,i,"sorceress_energy_buff"),t(r),n(r,"lightning")}},{key:"sorceress_supernova",name:"超级新星",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(1,"sree50"),r=t.runAttrHooks(1,"sree48");return`对所有目标造成${s((5+1*e)*(.01*t.int+1)*(.05*e+1)*3*r,n)}闪电伤害，并使其获得“麻痹”效果。\n\t\t\t麻痹：急速-10%，攻击力-50%，持续5秒。`},castTime:500,coolDown:15e3,cost:{mp:(e,t)=>70+.08*e.maxMp+30*t},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:s}=t,o=t.runAttrHooks(1,"sree50"),l=(t.runAttrHooks(1,"sree48"),t.buffs.find((e=>"chord_buff"===e.group)));let u=1;l&&(u+=.3,t.removeBuff(l));let c=0;const p=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let h=1;p&&(h+=.5+.01*p.arg,c+=1,t.removeBuff(p));const f=(5+1*r)*(.01*t.int+1)*(.05*r+1)*3*u*h;for(const n of e.units.filter((e=>t.willAttack(e))))i(t,n),e.sendDamage("lightning",t,n,this,a(f,o),c),n.addBuff("supernova_buff",5e3,null,"supernova_buff");n(t,"lightning")}},{key:"sorceress_impulse",name:"脉冲",description:(e,t)=>{const n=t.runAttrHooks(1,"sree48"),r=(180+18*e)*(.01*t.int+1)*(.1*e+1)*3*n;return`消耗10格电能，对目标造成${Math.round(r)}点闪电伤害。`},castTime:500,element:"lightning",cost:{comboPoint:10},coolDown(e,t,n){const r=t.buffs.find((e=>"bc_lightning_buff1"===e.group));return 1e4*(t.runAttrHooks(!1,"sree58")&&r?.25:1)},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:s}=t,a=t.buffs.find((e=>"chord_buff"===e.group));let o=1;a&&(o+=.3,t.removeBuff(a));let l=0;const u=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let c=1;u&&(c+=.5+.01*u.arg,l+=1,t.removeBuff(u));const p=t.runAttrHooks(1,"sree48");let h=(180+18*r)*(.01*t.int+1)*(.1*r+1)*o*c*3*p;i(t,s),e.sendDamage("lightning",t,s,this,h,l),n(t,"lightning")}},{key:"sorceress_thunder",name:"雷神降临",coolDown:45e3,castTime:500,notBreakable:!0,element:"lightning",cost:{mp:(e,t)=>900+.1*e.maxMp+100*t},description:(e,t)=>{const n=t.runAttrHooks(1,"sree50"),r=t.runAttrHooks(1,"sree48");return`持续施法5秒，每0.5秒对所有目标造成${s((12+.8*e)*(.01*t.int+1)*(.05*e+1)*3*r,n)}闪电伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=t.buffs.find((e=>"chord_buff"===e.group));let s=1;i&&(s+=.3,t.removeBuff(i));const a=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let o=1;a&&(o+=.5+.01*a.arg,t.removeBuff(a));let l=(12+.8*r)*(.01*t.int+1)*(.05*r+1)*s*o*3;t.startRead("sorceress_thunder_buff",5005,l,this),n(t,"lightning")}},{key:"sorceress_tide",name:"潮汐",element:"cold",description:(e,t)=>`对所有目标造成${s((20+1*e)*(.01*t.int+1)*(.05*e+1)*1.1,.2)}寒冷伤害，依次触发“潮起”、“潮落”效果。\n\t\t\t潮起：目标受到的伤害提高20%，持续3秒。\n\t\t\t潮落：自身受到的伤害减少20%，持续3秒。`,castTime:1e3,coolDown:12e3,cost:{mp:(e,t)=>120+.02*e.maxMp+35*t},maxExp:e=>e**2*700+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t,s=t.buffs.find((e=>"chord_buff"===e.group));let o=1;s&&(o+=.3,t.removeBuff(s));const l=t.runAttrHooks(!1,"sree33")?6e3:3e3,u=t.runAttrHooks(!1,"sree34")?6e3:3e3,c=t.runAttrHooks(!1,"sree35"),p=(20+1*r)*(.01*t.int+1)*(.05*r+1)*o,h=t.buffs.find((e=>"tidebf3"===e.group));let f="潮汐·潮起";if(!h||c){for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("tidebf1",l,.2,"tidebf1");t.addBuff("tidebf3",null,null,"tidebf3")}(h||c)&&(f="潮汐·潮落",t.addBuff("tidebf2",u,.2,"tidebf2"),t.removeBuff(h));for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("cold",t,n,f,a(p,.2)),c&&e.sendDamage("cold",t,n,f,a(p,.2));n(t,"cold")}},{key:"sorceress_lucky",name:"幸运祝福",element:"cold",description:e=>`随机获得以下一种祝福效果，每一种祝福效果不可共存，持续25秒。\n\t\t\t幸运A面：智力+${Math.round(100+8*e)}\n\t\t\t幸运B面：寒冷伤害+${Math.round(250+5*e)/10}%\n\t\t\t幸运C面：生命值恢复+${Math.round(50+3*e)}，法力值恢复+${Math.round(50+3*e)}`,coolDown:25e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,cost:{mp:(e,t)=>50+.1*e.maxMp+20*t},effect(e,t,r){const i=["lucky_buff1","lucky_buff2","lucky_buff3"];for(let e=0;e<i.length;e++){const n=t.buffs.find((t=>t.group===i[e]));t.removeBuff(n)}const s=t.runAttrHooks(!1,"goldapple_buff");let a=Math.random();if(a<.33){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp,s&&(Math.random()<.5?t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2"):t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3"))}else if(a<.66){if(t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2"),s)if(Math.random()<.5){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp}else t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3")}else if(t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3"),s)if(Math.random()<.5){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp}else t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2");n(t,"cold")}},{key:"sorceress_torrent",name:"湍流",element:"cold",description:(e,t)=>`对所有目标造成${s((35+1*e)*(.01*t.int+1)*(.05*e+1)*1.1,.2)}寒冷伤害，并使其获得“冰缓”效果。\n\t\t\t冰缓：急速-20%，持续7秒。`,castTime:1500,coolDown:2e4,cost:{mp:(e,t)=>70+.08*e.maxMp+30*t},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t,s=t.buffs.find((e=>"chord_buff"===e.group));let o=1;s&&(o+=.3,t.removeBuff(s));let l=0;const u=(35+1*r)*(.01*t.int+1)*(.05*r+1)*o;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=a(u,.2);e.sendDamage("cold",t,n,this,r),n.addBuff("soul_ice_cold",7e3,null,"soul_ice_cold"),t.runAttrHooks(!1,"sree37")&&l<3&&(t.useExtraSkill("sorceress_coldBall"),l+=1)}n(t,"cold")}},{key:"sorceress_sea",name:"海啸",coolDown:45e3,notBreakable:!0,element:"cold",cost:{mp:(e,t)=>900+.1*e.maxMp+100*t},description:(e,t)=>`引导5秒，每0.5秒对所有目标造成${s((25+1.5*e)*(.01*t.int+1)*(.05*e+1)*1.1,.2)}寒冷伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=t.buffs.find((e=>"chord_buff"===e.group));let s=1;i&&(s+=.3,t.removeBuff(i));let a=(25+1.5*r)*(.01*t.int+1)*(.05*r+1)*s;t.startRead("sorceress_sea_buff",5005,a,this),n(t,"cold")}},{key:"sorceress_blizzard",name:"暴风雪",coolDown:45e3,notBreakable:!0,element:"cold",cost:{mp:(e,t)=>900+.1*e.maxMp+100*t},description:(e,t)=>`引导5秒，每秒对所有目标造成${s((35+2.8*e)*(.01*t.int+1)*(.05*e+1)*1.1,.2)}寒冷伤害。\n\t\t\t每次造成伤害有50%几率冻结目标1.5秒。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=t.buffs.find((e=>"chord_buff"===e.group));let s=1;i&&(s+=.3,t.removeBuff(i));let a=(35+2.8*r)*(.01*t.int+1)*(.05*r+1)*s;t.startRead("sorceress_blz_buff",5005,a,this),n(t,"cold")}},{key:"sorceress_fire_wind",name:"焚骨",element:"fire",coolDown:45e3,cost:{mp:(e,t)=>900+.1*e.maxMp+100*t},notBreakable:!0,description:(e,t)=>`引导3秒，每秒对目标造成${s((150+8*e)*(.01*t.int+1)*(.08*e+1)*1.5,.5)}火焰伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=t.buffs.find((e=>"chord_buff"===e.group));let s=1;i&&(s+=.3,t.removeBuff(i));const a=(150+8*r)*(.01*t.int+1)*(.08*r+1)*s;t.addBuff("sorceress_firewind_buff2",4005,1,"sorceress_firewind_buff2"),t.startRead("sorceress_firewind_buff1",3005,a,this),n(t,"fire")}},{key:"dianjiliu_skill",name:"电击流",description:"电击流",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{e.sendDamage("lightning",null,n,"电击流",2*t.int)}))}},{key:"sorceress_hellfire_plus",name:"狱炎之门",coolDown:4e4,notBreakable:!0,element:"fire",cost:{mp:(e,t)=>900+.1*e.maxMp+100*t},description:(e,t)=>`引导5秒，每0.25秒对所有目标造成${s((10+.01*e)*(.01*t.int+1)*(.02*e+1)*1.5,.5)}火焰伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=t.buffs.find((e=>"chord_buff"===e.group));let s=1;i&&(s+=.3,t.removeBuff(i));const a=(10+.01*r)*(.01*t.int+1)*(.02*r+1)*s;t.startRead("sorceress_hellfire_plus_buff",5005,a,this),n(t,"fire")}},{key:"sorceress_coldShield",name:"寒冰护盾",MaxLv:100,element:"cold",maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,cost:{mp:e=>.1*e.maxMp},description:(e,t)=>`受到的伤害减少${Math.round(1e3+25*e)/100}%，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=1-(.1+.0025*r);t.addBuff("coldShield",3e4,i,"coldShield"),n(t,"cold")}},{key:"sorceress_fireShield",name:"烈焰护盾",MaxLv:100,element:"fire",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,cost:{mp:e=>.1*e.maxMp},description:(e,t)=>`受到的伤害减少${Math.round(1e3+25*e)/100}%，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=1-(.1+.0025*r);t.addBuff("fireShield",3e4,i,"fireShield"),n(t,"fire")}},{key:"sorceress_lightShield",name:"雷霆护盾",MaxLv:100,element:"lightning",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,cost:{mp:e=>.1*e.maxMp},description:(e,t)=>`受到的伤害减少${Math.round(1e3+25*e)/100}%，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=1-(.1+.0025*r);t.addBuff("lightShield",3e4,i,"lightShield"),n(t,"lightning")}},{key:"sorceress_bc_fire",name:"元素化·烈焰",element:"fire",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_fire_buff2"===e.group));return!!t.target&&t.mp/t.maxMp>.9&&!n&&!r},description:(e,t)=>`化为火焰元素，自身造成的火焰伤害提高${Math.round(30+1*e)}%，受到的物理伤害减少25%。\n\t\t\t元素化状态下，每秒消耗（2.5×持续时长）%的法力。\n\t\t\t当法力值大于90%才可释放，法力值小于50%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:15e3,castTime:1e3,effect(e,t,r){t.addBuff("bc_fire_buff1",null,r,"bc_fire_buff1"),t.addBuff("bc_fire_buff2",null,1,"bc_fire_buff2"),n(t,"fire")}},{key:"sorceress_bc_cold",name:"元素化·寒冰",element:"cold",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_cold_buff2"===e.group));return!!t.target&&t.mp/t.maxMp>.9&&!n&&!r},description:(e,t)=>`化为寒冷元素，自身造成的寒冷伤害提高${Math.round(30+1*e)}%，受到的物理伤害减少25%。\n\t\t\t元素化状态下，每秒消耗（2.5×持续时长）%的法力。\n\t\t\t当法力值大于90%才可释放，法力值小于50%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:15e3,castTime:1e3,effect(e,t,r){t.addBuff("bc_cold_buff1",null,r,"bc_cold_buff1"),t.addBuff("bc_cold_buff2",null,1,"bc_cold_buff2"),n(t,"cold")}},{key:"sorceress_bc_lightning",name:"元素化·雷光",element:"lightning",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_lightning_buff2"===e.group));return!!t.target&&t.mp/t.maxMp>.9&&!n&&!r},description:(e,t)=>`化为闪电元素，自身造成的闪电伤害提高${Math.round(30+1*e)}%，受到的物理伤害减少25%。\n\t\t\t元素化状态下，每秒消耗（2.5×持续时长）%的法力。\n\t\t\t当法力值大于90%才可释放，法力值小于50%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:15e3,castTime:1e3,effect(e,r,i){r.runAttrHooks(!1,"sree55")&&t(r,10),r.addBuff("bc_lightning_buff1",null,i,"bc_lightning_buff1"),r.addBuff("bc_lightning_buff2",null,1,"bc_lightning_buff2"),n(r,"lightning")}}]},7148:e=>{function t(e,t,n){if(t&&e.buffs.find((e=>"soul_darkfire_buff"===e.group))){const r=t.buffs.find((e=>"darkfire_buff"===e.group));r?(r.arg+=n,r.arg=Math.min(r.arg,3*e.atk),r.resetTimer(3e3)):t.addBuff("darkfire_buff",3e3,n,"darkfire_buff")}}e.exports=[{key:"soulbringer_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>`对目标造成${Math.round((40+2*e)/100*t.atk)}-${Math.round((55+3*e)/100*t.atk)}点物理伤害，恢复1点法力。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=n.runAttrHooks(!1,"soulbringer_enhance3"),l=a*(.4+.02*r+Math.random()*(.15+.01*r));let u=0;o?(e.sendDamage("dark",n,i,this,1.5*l),u+=.4,e.units.filter((e=>e!==i&&n.willAttack(e))).slice(0,2).forEach((i=>{const s=a*(.8+.04*r+Math.random()*(.1+.01*r));u+=.4,e.sendDamage("dark",n,i,this,1.52*s),t(n,i,n.atk)}))):(e.sendDamage("melee",n,i,this,l),u+=1),t(n,i,n.atk),s&&(n.hp+=s*u),n.mp+=1}},{key:"onikiri",name:"鬼斩",coolDown:6e3,description:(e,t)=>`对目标造成${Math.round((110+5*e)/100*t.atk)}-${Math.round((135+7*e)/100*t.atk)}点暗属性伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=t.runAttrHooks(1,"soulbringer_enhance2"),o=s*(1.1+.05*n+Math.random()*(.25+.02*n))*a;if(e.sendDamage("dark",t,r,this,o),a>1){const e=t.mp/t.maxMp;t.addBuff("soulbringer_enhance2_buff",4e3,n,"soulbringer_enhance2_buff"),t.mp=t.maxMp*e}i&&(t.hp+=i)}},{key:"soul_power",name:"鬼神·抛瓦",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),Math.round(t.maxHp_self*(10+.5*n)/100),`召唤鬼神·抛瓦的力量，持续25秒。\n\t\t\t鬼神·抛瓦：提高${50+2*e}点力量、智力。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6");const i=t.mp/t.maxMp;t.addBuff("soul_power_buff",25e3,r,"soul_power_buff"),t.mp=t.maxMp*i}},{key:"moonlight_slash",name:"月光连斩",coolDown:4e3,description:(e,t)=>`快速斩击目标两次，每次造成${Math.round((60+4*e)/100*t.atk)}-${Math.round((75+5*e)/100*t.atk)}点暗影伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=s*(.6+.04*n+Math.random()*(.15+.01*n));e.sendDamage("dark",t,r,this,a);const o=s*(.6+.04*n+Math.random()*(.15+.01*n));e.sendDamage("dark",t,r,this,o),i&&(t.hp+=i)}},{key:"ghost_whip",name:"鬼影三击剑",description:(e,t)=>`对三个目标各刺出一剑，分别造成${Math.round((80+4*e)/100*t.atk)}-${Math.round((90+5*e)/100*t.atk)}点暗属性伤害。`,coolDown:8e3,cost:{mp:25},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:s}=t,a=r*(.8+.04*n+Math.random()*(.1+.01*n));e.sendDamage("dark",t,i,this,a);let o=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{const s=r*(.8+.04*n+Math.random()*(.1+.01*n));o+=.4,e.sendDamage("dark",t,i,this,s)})),s&&(t.hp+=s*o)}},{key:"soul_armor",name:"鬼神·铠甲",coolDown:15e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·铠甲的力量，持续20秒。\n\t\t\t鬼神·铠甲：物理防御+${Math.round(t.def_self*(15+n/2)/100)},暗影抗性+${Math.round(t.darkResist*(10+n/2)/100)}。`},castTime:500,cost:{mp:15},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_armor_buff",2e4,r,"soul_armor_buff"),t.runAttrHooks(!1,"soulbringer_enhance5")&&t.addBuff("soul_armor_buff2",2e4,r,"soul_armor_buff2")}},{key:"tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+3*e)/100*t.atk)}点暗属性伤害；自爆后再次对所有目标造成${Math.round((20+1*e)/100*t.atk)}-${Math.round((25+1*e)/100*t.atk)}点暗属性伤害`,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("tombstonesummon_buff",5005,null,this)}},{key:"tombstone_boom",name:"自爆",description:"自爆",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(.2+.01*r+.05*Math.random());e.sendDamage("dark",t,n,this,i)}t.kill()}},{key:"soul_weak",name:"鬼神·虚弱",coolDown:25e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·虚弱的力量，持续30秒。\n\t\t\t鬼神·虚弱：使所有目标受到的伤害提高${Math.round(200+6*n)/10}%。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_weak_buff1",3e4,r,"soul_weak_buff1"),t.runAttrHooks(!1,"soulbringer_enhance4")&&t.addBuff("soul_weak_buff2",3e4,r,"soul_weak_buff2")}},{key:"ghost_fury",name:"鬼斩·裂地",description:(e,t)=>`对四个目标分别造成${Math.round((180+8*e)/100*t.atk)}-${Math.round((220+12*e)/100*t.atk)}点暗属性伤害。`,coolDown:2e4,cost:{mp:65},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:s}=t,a=r*(1.8+.08*n+Math.random()*(.4+.04*n));e.sendDamage("dark",t,i,this,a);let o=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,3).forEach((i=>{const s=r*(1.8+.08*n+Math.random()*(.4+.04*n));o+=.4,e.sendDamage("dark",t,i,this,s)})),s&&(t.hp+=s*o)}},{key:"soul_shadow",name:"鬼影瞬闪",coolDown:2e4,description:(e,t)=>`对目标造成${Math.round((230+10*e)/100*t.atk)}-${Math.round((280+15*e)/100*t.atk)}点暗属性伤害。\n\t\t\t若携带了被动技能“凭依”，则随机使目标停滞1-5秒。`,cost:{mp:70},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=s*(2.3+.1*n+Math.random()*(.5+.05*n));e.sendDamage("dark",t,r,this,a),t.runAttrHooks(0,"soulbringer_enhance3")&&r.addBuff("stop_buff",1e3*(1+4*Math.random()),null,"stop_buff"),i&&(t.hp+=i)}},{key:"soul_ice",name:"鬼神·冰霜",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰霜的力量，持续10秒。\n\t\t\t鬼神·冰霜：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，10%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续2秒。\n\t\t\t冻结：无法行动，持续1.5秒。`},castTime:500,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_ice_buff",10005,r,"soul_ice_buff",maxStack=1,this)}},{key:"soul_poison",name:"鬼神·瘟疫",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·瘟疫的力量，持续10秒。\n\t\t\t鬼神·瘟疫：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点毒素伤害，20%几率使目标获得“中毒”效果。\n\t\t\t中毒：每3秒受到20%攻击力的毒素伤害，持续30秒，可叠加；受“中毒”效果影响的目标每损失1%生命值，“中毒”的伤害提高5%。`},castTime:500,cost:{mp:60},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_poison_buff",10005,r,"soul_poison_buff",maxStack=1,this)}},{key:"ghost_puncture",name:"鬼斩·穿刺",description:(e,t)=>`对五个目标分别造成${Math.round((330+20*e)/100*t.atk)}-${Math.round((420+30*e)/100*t.atk)}点暗属性伤害，并使目标停滞3秒。`,coolDown:35e3,cost:{mp:110},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:s}=t,a=r*(3.3+.2*n+Math.random()*(.9+.1*n));e.sendDamage("dark",t,i,this,a),i.addBuff("stop_buff",3e3,n,"stop_buff");let o=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,4).forEach((i=>{const s=r*(3.3+.2*n+Math.random()*(.9+.1*n));o+=.4,e.sendDamage("dark",t,i,this,s),i.addBuff("stop_buff",3e3,n,"stop_buff")})),s&&(t.hp+=s*o)}},{key:"soul_darkfire",name:"鬼神·冥炎",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冥炎的力量，持续${Math.round(100+2*n)/10}秒。\n\t\t\t鬼神·冥炎：普通攻击命中目标时，为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`},castTime:500,cost:{mp:120},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_darkfire_buff",10005+200*r,null,"soul_darkfire_buff",maxStack=1,this)}},{key:"tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。"),cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("summon_tombstoneplus",null,0,t,this)}},{key:"tombstoneplus_skill1",name:"蹦迪",castTime:1e3,coolDown:100,canUse:(e,t)=>!!t.target,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))t.target.target=t}},{key:"tombstoneplus_skill2",name:"自爆",description:"自爆",castTime:1e4,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(4+.4*r+Math.random()*(1+.5*r));e.sendDamage("dark",t,n,this,i)}t.kill()}},{key:"ghost_pidi",name:"鬼斩·辟地",description:(e,t)=>`对六个目标分别造成${Math.round((200+10*e)/100*t.atk)}-${Math.round((220+20*e)/100*t.atk)}点暗属性伤害，并为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`,coolDown:12e3,cost:{mp:90},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:s,leech:a}=n,o=i*(2+.1*r+Math.random()*(.2+.1*r));e.sendDamage("dark",n,s,this,o),t(n,s,n.atk);let l=.4;e.units.filter((e=>e!==s&&n.willAttack(e))).slice(0,4).forEach((s=>{const a=i*(3.3+.2*r+Math.random()*(.9+.1*r));l+=.4,e.sendDamage("dark",n,s,this,a),t(n,s,n.atk)})),a&&(n.hp+=a*l)}},{key:"dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。"),cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_jige"===e.type)),effect(e,t,n){e.addEnemy("summon_jige",null,0,t,this)}},{key:"jige_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>(Math.round((40+2*e)/100*t.atk),Math.round((55+3*e)/100*t.atk),"吉哥普攻。"),maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:s}=t,a=r*(.4+.02*n+Math.random()*(.15+.01*n));e.sendDamage("dark",t,i,this,a);let o=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{const s=r*(.4+.2*n+Math.random()*(.15+.1*n));o+=.4,e.sendDamage("dark",t,i,this,s)}))}},{key:"soul_iceplus",name:"鬼神·冰晶",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰晶的力量，持续10秒。\n\t\t\t鬼神·冰晶：每0.5秒对所有目标造成${1+Math.round((5+1*e)/100*t.atk)}-${1+Math.round((10+2*e)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，20%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续5秒。\n\t\t\t冻结：无法行动，持续2秒。`},castTime:500,cost:{mp:200},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_iceplus_buff",10005,r,"soul_iceplus_buff",maxStack=1,this)}},{key:"soul_7",name:"鬼神·鱼头",coolDown:35e3,castTime:3e3,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤第八鬼神·鱼头对所有目标发起一次攻击，造成${Math.round((850+90*n)/100*t.atk)}-${Math.round((1150+150*n)/100*t.atk)}点暗属性伤害。\n\t\t\t第八鬼神·鱼头会吞噬在场所有其他鬼神的力量，伤害增加（吞噬数量×100）%。`},cost:{mp:1250},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t;let a=n;a+=t.runAttrHooks(0,"soulbringer_enhance6");let o=0;const l=t.buffs.find((e=>"soul_power_buff"===e.group));l&&(o+=1,t.removeBuff(l));const u=t.buffs.find((e=>"soul_armor_buff"===e.group));u&&(o+=1,t.removeBuff(u));const c=t.buffs.find((e=>"soul_armor_buff2"===e.group));c&&t.removeBuff(c);const p=t.buffs.find((e=>"soul_weak_buff1"===e.group));p&&(o+=1,t.removeBuff(p));const h=t.buffs.find((e=>"soul_weak_buff2"===e.group));h&&t.removeBuff(h);const f=t.buffs.find((e=>"soul_ice_buff"===e.group));f&&(o+=1,t.removeBuff(f));const d=t.buffs.find((e=>"soul_darkfire_buff"===e.group));d&&(o+=1,t.removeBuff(d));const m=t.buffs.find((e=>"soul_poison_buff"===e.group));m&&(o+=1,t.removeBuff(m));const g=t.buffs.find((e=>"soul_iceplus_buff"===e.group));g&&(o+=1,t.removeBuff(g));for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(8.5+.9*a+Math.random()*(11.5+1.5*a))*(1+o);e.sendDamage("dark",t,n,this,r)}}}]},3246:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(5,"maxComboPoint");e.runAttrHooks(t,"fistCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}function n(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e>=1e8||t>=1e8?(e/1e8).toFixed(2)+"-"+(t/1e8).toFixed(2)+"亿":e>=1e4||t>=1e4?(e/1e4).toFixed(2)+"-"+(t/1e4).toFixed(2)+"万":(0|e)+"-"+(0|t)+"点":e>=1e8?(e/1e8).toFixed(2)+"亿":e>=1e4?(e/1e4).toFixed(2)+"万":(0|e)+"点"}e.exports=[{key:"vbsk1",name:"直拳",coolDown:6e3,castTime:1200,description:(e,t)=>`平平无奇的一拳，但有着特殊的效果。\n\t\t\t根据自身攻击力，对目标造成${n((40+4*e)/100*t.atk,(50+5*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：自身攻击力增加${(10+.4*e).toFixed(1)}%，持续1秒。\n\t\t\t行偶：目标攻击力减少${(10+.4*Math.min(e,100)).toFixed(1)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk1bf1",1005,1.1+.004*r,"vbsk1bf1"),o%2==0&&i.addBuff("vbsk1bf1",1005,.9-.004*Math.min(r,100),"vbsk1bf1");const l=a*(.4+.04*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),s&&(n.hp+=s)}},{key:"vbsk2",name:"推掌",coolDown:6e3,castTime:1200,description:(e,t)=>`平平无奇的一掌，但有着特殊的效果。\n\t\t\t根据自身攻击力，对目标造成${n((40+4*e)/100*t.atk,(50+5*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：使自身受到的伤害降低${(5+.2*Math.min(e,100)).toFixed(1)}%，持续1秒。\n\t\t\t行偶：使目标受到的伤害提高${(5+.2*e).toFixed(1)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk2bf1",1005,.95-.002*Math.min(r,100),"vbsk2bf1"),o%2==0&&i.addBuff("vbsk2bf1",1005,1.05+.002*r,"vbsk2bf1");const l=a*(.4+.04*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),s&&(n.hp+=s)}},{key:"vbsk3",name:"童子迎宾",coolDown:6e3,castTime:1200,description:(e,t)=>`以礼迎客，以力送客。\n\t\t\t根据自身攻击力，对目标造成${n((100+10*e)/100*t.atk,(120+12*e)/100*t.atk)}物理伤害。\n\t\t\t末境：消耗所有拳意。每消耗1格拳意，自身将获得${(2+.1*e).toFixed(1)}%生命值上限的护盾，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t;t.comboPoint>=1&&(t.addBuff("shield_buff",1e3,t.maxHp*(.02+.001*n)*t.comboPoint,"shield_buff"),t.comboPoint=0);const a=s*(1+.1*n+Math.random()*(.2+.02*n));e.sendDamage("melee",t,r,this,a),i&&(t.hp+=i)}},{key:"vbsk4",name:"扑面掌",coolDown:6e3,castTime:1200,description:(e,t)=>`瞄准目标鼻梁骨击出，顺势推入脑干的迅猛一掌。\n\t\t\t根据自身攻击力，对目标造成${n((60+6*e)/100*t.atk,(70+7*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：使自身受到的物理伤害降低${(10+.4*Math.min(e,100)).toFixed(1)}%，持续1秒。\n\t\t\t行偶：使目标受到的物理伤害提高${(10+.4*e).toFixed(1)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk4bf1",1005,.9-.004*Math.min(r,100),"vbsk4bf1"),o%2==0&&i.addBuff("vbsk4bf1",1005,1.1+.004*r,"vbsk4bf1");const l=a*(.6+.06*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh6")&&n.useExtraSkill("vbsk2"),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh7")&&n.useExtraSkill("vbsk1"),s&&(n.hp+=s)}},{key:"vbsk5",name:"搬拦捶",coolDown:6e3,castTime:1200,description:(e,t)=>`先化后打，以掌搬移拦截，以拳进击猛砸，柔中寓刚。\n\t\t\t根据自身攻击力，对目标造成${n((60+6*e)/100*t.atk,(70+7*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：自身暴击几率+${(5+.05*Math.min(e,500)).toFixed(2)}%，持续1秒。\n\t\t\t行偶：自身暴击伤害+${(10+.1*e).toFixed(1)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk5bf1",1e3,.05+5e-4*Math.min(r,500),"vbsk5bf1"),o%2==0&&n.addBuff("vbsk5bf2",1e3,.1+.001*r,"vbsk5bf2");const l=a*(.6+.06*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh8")&&n.useExtraSkill("vbsk2"),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh9")&&n.useExtraSkill("vbsk1"),s&&(n.hp+=s)}},{key:"vbsk6",name:"顶心肘",coolDown:6e3,castTime:1200,description:(e,t)=>`急步切入，以肘猛击对方心窝。\n\t\t\t根据自身攻击力，对目标造成${n((60+6*e)/100*t.atk,(70+7*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：自身急速+${(10+Math.min(e,10)).toFixed(0)}%，持续1秒。\n\t\t\t行偶：目标急速-${(10+Math.min(e,10)).toFixed(0)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk6bf1",1e3,(10+Math.min(r,10))/100,"vbsk6bf1"),o%2==0&&i.addBuff("vbsk6bf1",1e3,0-(10+Math.min(r,10))/100,"vbsk6bf1");const l=a*(.6+.06*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh11")&&n.useExtraSkill("vbsk4"),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh12")&&n.useExtraSkill("vbsk5"),s&&(n.hp+=s)}},{key:"vbsk7",name:"黑虎掏心",coolDown:6e3,castTime:1200,description:(e,t)=>`猛虎下山，博兔亦用全力。\n\t\t\t根据自身攻击力，对目标造成${n((140+14*e)/100*t.atk,(160+16*e)/100*t.atk)}物理伤害。\n\t\t\t末境：消耗所有拳意。每消耗1格拳意，造成的伤害提高${(5+.2*e).toFixed(1)}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t;let a=1;t.comboPoint>=1&&(a+=t.comboPoint*(.05+.002*n),t.comboPoint=0);const o=s*(1.4+.14*n+Math.random()*(.2+.02*n))*a;e.sendDamage("melee",t,r,this,o),i&&(t.hp+=i)}},{key:"vbsk8",name:"扫堂腿",coolDown:6e3,castTime:1200,description:(e,t)=>`腿似铁帚，弹膝横扫，同时躲开对方的上段攻击。\n\t\t\t根据自身攻击力，对5个目标分别造成${n((80+8*e)/100*t.atk,(90+9*e)/100*t.atk)}物理伤害。\n\t\t\t明奇：对主目标的伤害提高${(50+e/2).toFixed(1)}%。\n\t\t\t行偶：对额外目标的伤害提高${(50+e/2).toFixed(1)}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;let o=1,l=1;a%2!=0&&(o+=.5+.005*n),a%2==0&&(l+=.5+.005*n);const u=s*(.8+.08*n+Math.random()*(.1+.01*n))*o;e.sendDamage("melee",t,r,this,u),e.units.filter((e=>e!==r&&t.willAttack(e))).slice(0,4).forEach((r=>{const i=s*(.6+.06*n+Math.random()*(.1+.01*n))*l;e.sendDamage("melee",t,r,this,i)})),r&&"ghost"!==r.camp&&t.runAttrHooks(!1,"vbeh13")&&t.useExtraSkill("vbsk6"),i&&(t.hp+=i)}},{key:"vbsk9",name:"双劈手",coolDown:6e3,castTime:1200,description:(e,t)=>`拧腰切胯，随后双臂如抽鞭长击，翻腾不息。\n\t\t\t根据自身攻击力，对目标造成${n((80+8*e)/100*t.atk,(90+9*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：使自身造成的物理伤害提高${(10+e/2.5).toFixed(1)}%，持续1秒。\n\t\t\t行偶：使目标造成的物理伤害减少${(10+Math.min(e,100)/2.5).toFixed(1)}%，持续1秒。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;o%2!=0&&n.addBuff("vbsk9bf1",1005,1.1+.004*r,"vbsk9bf1"),o%2==0&&i.addBuff("vbsk9bf1",1005,.9-.004*Math.min(r,100),"vbsk9bf1");const l=a*(.8+.08*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,l),t(n),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh14")&&n.useExtraSkill("vbsk6"),s&&(n.hp+=s)}},{key:"vbsk10",name:"无影腿",coolDown:6e3,castTime:1200,description:(e,t)=>`手若蝴蝶翩飞，惑敌，脚若鬼蜮射影，夺命。\n\t\t\t根据自身攻击力，对3个目标分别造成${n((80+8*e)/100*t.atk,(90+9*e)/100*t.atk)}物理伤害。\n\t\t\t明奇：对主目标的伤害提高${(100+e).toFixed(0)}%。\n\t\t\t行偶：对额外目标的伤害提高${(100+e).toFixed(0)}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t,a=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;let o=1,l=1;a%2!=0&&(o+=1+.01*n),a%2==0&&(l+=1+.01*n);const u=s*(.8+.08*n+Math.random()*(.1+.01*n))*o;e.sendDamage("melee",t,r,this,u),e.units.filter((e=>e!==r&&t.willAttack(e))).slice(0,2).forEach((r=>{const i=s*(.6+.06*n+Math.random()*(.1+.01*n))*l;e.sendDamage("melee",t,r,this,i)})),r&&"ghost"!==r.camp&&t.runAttrHooks(!1,"vbeh15")&&t.useExtraSkill("vbsk8"),r&&"ghost"!==r.camp&&t.runAttrHooks(!1,"vbeh16")&&t.useExtraSkill("vbsk9"),i&&(t.hp+=i)}},{key:"vbsk11",name:"铁山靠",coolDown:6e3,castTime:1200,description:(e,t)=>`将全身重量运至肩膀，静若岳镇渊渟，动若泰山压顶。\n\t\t\t根据自身攻击力，对目标造成${n((80+8*e)/100*t.atk,(90+9*e)/100*t.atk)}物理伤害，获得1格拳意。\n\t\t\t明奇：“铁山靠”的暴击几率增加${0|Math.min(e,100)}%。\n\t\t\t行偶：“铁山靠”的暴击伤害增加${2*e|0}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:s=0,atk:a}=n,o=e.player.careerInfo.selectedSkills.findIndex((e=>e===this.type))+1;let l=0,u=0;o%2!=0&&(l+=Math.min(r/100,1)),o%2==0&&(u+=.02*r);const c=a*(.6+.06*r+Math.random()*(.1+.01*r));e.sendDamage("melee",n,i,this,c,l,u),t(n),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh17")&&n.useExtraSkill("vbsk8"),i&&"ghost"!==i.camp&&n.runAttrHooks(!1,"vbeh18")&&n.useExtraSkill("vbsk9"),s&&(n.hp+=s)}},{key:"vbsk12",name:"隔山打牛",coolDown:6e3,castTime:1200,description:(e,t)=>`浮屠善幻此技能，乃是深山白猿授。\n\t\t\t根据自身攻击力，对2个目标造成${n((180+18*e)/100*t.atk,(200+20*e)/100*t.atk)}物理伤害。\n\t\t\t末境：消耗所有拳意。每消耗1格拳意，对第2个目标造成的伤害提高${(10+.5*e).toFixed(1)}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t;let a=1;t.comboPoint>=1&&(a+=t.comboPoint*(.1+.005*n),t.comboPoint=0);const o=s*(1.8+.18*n+Math.random()*(.2+.02*n));e.sendDamage("melee",t,r,this,o),e.units.filter((e=>e!==r&&t.willAttack(e))).slice(0,1).forEach((n=>{e.sendDamage("melee",t,n,this,o*a)})),i&&(t.hp+=i)}},{key:"vbsk13",name:"白鹤亮翅",coolDown:6e3,castTime:1200,description:(e,t)=>`沉势蓄劲神机足，亮翅由来见白鹤。\n\t\t\t根据自身攻击力，对目标造成${n((180+18*e)/100*t.atk,(200+20*e)/100*t.atk)}物理伤害。\n\t\t\t末境：消耗所有拳意。每消耗1格拳意，“白鹤亮翅”对该目标造成的伤害永久增加${(1+.1*e).toFixed(1)}%。`,maxExp:e=>e**2*1e3+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:s}=t;let a=0;t.comboPoint>=1&&(a+=t.comboPoint*(.01+.001*n),t.comboPoint=0);const o=r.buffs.find((e=>"vbsk13bf1"===e.group));o?o.arg+=a:r.addBuff("vbsk13bf1",null,1,"vbsk13bf1");const l=r.buffs.find((e=>"vbsk13bf1"===e.group)),u=s*(1.8+.18*n+Math.random()*(.2+.02*n))*l.arg;e.sendDamage("melee",t,r,this,u),i&&(t.hp+=i)}}]},4012:e=>{function t(e,t,n){if(!t)return;n*=e.runAttrHooks(1,"wree30");const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}function n(e,t){const n=e.buffs.find((e=>"shield_buff"===e.group));n&&(n.arg+=t,e.ep+=t)}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.33,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.max(1,Math.round(e*(1-t))),i=Math.max(1,Math.round(e*(1+n)));return r>=1e8||i>=1e8?(r/1e8).toFixed(2)+"-"+(i/1e8).toFixed(2)+"亿":r>=1e4||i>=1e4?(r/1e4).toFixed(2)+"-"+(i/1e4).toFixed(2)+"万":r+"-"+i+"点"}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.33,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;return r+=Math.max(1,Math.round(e*(1-t+Math.random()*(t+n)))),r}e.exports=[{key:"warrior_atk",name:"挥砍",group:"1",coolDown:1500,description:(e,t)=>`对目标造成${r((60+6*e)/100*t.atk)}物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:s=0,atk:a}=t,o=i(a*(.6+.06*n));e.sendDamage("melee",t,r,this,o)&&(s&&(t.hp+=s),t.rp+=5+t.runAttrHooks(0,"wree2"))}},{key:"thump",group:"thump",name:"重击",description:(e,t)=>`对目标造成${r((130+12*e)/100*t.atk)}物理伤害，消耗25点怒气。`,cost:{rp:25},coolDown:1e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:s,leech:a=0}=t,o=i((130+12*n)/100*t.atk);e.sendDamage("melee",t,r,this,o)&&(t.runAttrHooks(!1,"kklf_love")&&Math.random()<=.4&&e.sendDamage("fire",t,r,this,.8*o),a&&(t.hp+=a),t.runAttrHooks(!1,"wree5")&&(t.rp+=5))}},{key:"save_oneself",name:"包扎伤口",description:(e,t)=>`恢复${Math.round(.05*t.maxHp+5*e)}点生命值。`,maxExp:e=>e**2*200+600*e+400,castTime:1e3,coolDown:(e,t,n)=>8e3*t.runAttrHooks(1,"defring"),effect(e,t,n){const r=t.runAttrHooks(1,"wree4"),i=Math.round(.05*t.maxHp+5*n)*r;e.sendHeal(t,t,this,i)}},{key:"fury_cutter",name:"斩击",group:"1",coolDown:(e,t,n)=>1500-t.runAttrHooks(0,"jfxl")-t.runAttrHooks(0,"wree17_buff"),description:(e,t)=>`对目标造成${r((100+8*e)/100*t.atk)}物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:s=0,atk:a,critRate:o,critBonus:l}=t,u=t.runAttrHooks(!1,"wree6")?.1:0,c=t.runAttrHooks(!1,"wree6")?.2:0,p=t.buffs.find((e=>"fury_cutter_time_buff"===e.group)),h=t.runAttrHooks(!1,"wree27");p&&(p.arg+=1,p.arg=Math.min(p.arg,35),h&&function(e,t){if(!t)return;const n=t.buffs.find((e=>"wree27_buff"===e.group));n?n.arg+=.0025:t.addBuff("wree27_buff",null,.0025,"wree27_buff")}(0,r));const f=p?Math.pow(1.1,p.arg):1;let d=i((100+8*n)/100*t.atk)*f;const m=t.buffs.find((e=>"element_fire_buff"===e.group)),g=m?"fire":"melee",y=m?m.arg:1,v=t.runAttrHooks(!1,"wree18"),b=t.runAttrHooks(!1,"wree28"),k=t.runAttrHooks(!1,"wree9"),w=t.runAttrHooks(!1,"wree12"),x=t.runAttrHooks(!1,"wree52");if(w&&Math.random(),e.sendDamage(g,t,r,this,d*y,u,c)){if(m&&b){for(const e of t.skills)"炎龙吐息"==e.name&&e.reduceCoolDown(1e3);t.rp+=2}if(m&&!v&&t.removeBuff(m),k)for(const e of t.skills)"旋风斩"==e.name&&e.reduceCoolDown(1e3);const e=t.buffs.find((e=>"guardian_buff1"===e.group)),n=t.runAttrHooks(0,"guardianodds");Math.random()<n&&e&&t.useExtraSkill("jingji_skill_pro"),t.runAttrHooks(!1,"wree24")&&Math.random()<=.2&&t.useExtraSkill("fury_cutter"),s&&(t.hp+=s),!p&&(t.rp+=5),x&&t.addBuff("shield_buff",3e4,.02*t.maxHp,"shield_buff"),x&&(t.ep+=d)}}},{key:"whirlwind",name:"旋风斩",description:(e,t)=>`对最多五个目标分别造成${r((110+5*e)/100*t.atk)}物理伤害，每命中一个目标将获得3点怒气。`,coolDown:5e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:s,target:a,leech:o}=n;let l=0;const u=n.buffs.find((e=>"element_fire2_buff"===e.group)),c=u?"fire":"melee",p=!!u,h=n.runAttrHooks(!1,"wree18"),f=4+n.runAttrHooks(!1,"wree7")?5:0,d=n.runAttrHooks(!1,"wree54");let m=0;const g=i((110+5*r)/100*n.atk);if(e.sendDamage(c,n,a,this,g)&&(p&&t(n,a,.35*n.atk),l+=.4,m+=1),f<5&&(n.rp+=3),e.units.filter((e=>e!==a&&n.willAttack(e))).slice(0,f).forEach((s=>{const a=i((110+5*r)/100*n.atk);e.sendDamage(c,n,s,this,a)&&(l+=.4,p&&t(n,s,.35*n.atk),f<5&&(n.rp+=3),m+=1)})),d)for(const e of n.skills)"盾冲"==e.name&&e.reduceCoolDown(1e3*m);u&&!h&&n.removeBuff(u),o&&(n.hp+=o*l)}},{key:"warrior_hp",name:"气血激增",coolDown:3e4,description:(e,t)=>`增加${Math.round(t.maxHp_self*(10+.5*e)/100)}点生命值上限，持续30秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.hp/t.maxHp,i=t.maxHp_self*(10+.5*n)/100;t.addBuff("warrior_hp_buff",29999,i,"warrior_hp_buff"),t.hp=t.maxHp*r,t.runAttrHooks(!1,"wree8")&&t.addBuff("heal_buff",1e4,.01*t.maxHp,"heal_buff")}},{key:"warrior_def",name:"钢铁之躯",coolDown:3e4,description:(e,t)=>`增加${Math.round(t.def_self*(15+e/2)/100)}点物理防御，持续30秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.runAttrHooks(1,"wree51"),i=t.def_self*(15+n/2)/100*r;t.addBuff("warrior_def_buff",29999,i,"warrior_def_buff"),t.runAttrHooks(!1,"wree10")&&t.addBuff("warrior_res_buff",29999,i,"warrior_res_buff")}},{key:"hamstring",name:"断筋",description:(e,t)=>`对目标造成${r((35+2*e)/100*t.atk)}物理伤害并使其减速30%，持续4秒。`,coolDown:9e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:s=0,atk:a}=t,o=i((35+2*n)/100*t.atk);e.sendDamage("melee",t,r,this,o)&&(r.addBuff("hamstring_buff",4e3,.7,"hamstring_buff"),t.runAttrHooks(!1,"wree11")&&r.addBuff("kedi_buff",4e3,null,"kedi_buff"),s&&(t.hp+=s))}},{key:"element_fire",name:"元素附魔·Ⅰ",description:e=>`借助火焰的力量，10秒内使下一个“斩击”转变为火焰伤害，且伤害提高${Math.round(250+5*e)/10}%。`,coolDown:6e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(1250+5*n)/1e3;t.addBuff("element_fire_buff",1e4,r,"element_fire_buff"),t.runAttrHooks(!1,"wree13")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"white_heat",name:"疾风",coolDown:2e4,MaxLv:50,description:e=>`急速+${Math.round(10*(10+.2*e))/10}%，持续5秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.1+.002*n+t.runAttrHooks(0,"wree16");t.addBuff("white_heat_buff",5e3,r,"white_heat_buff")}},{key:"fury_cutter_plus",name:"重斩",type:"player",lv:60,description:(e,t)=>`对目标造成${r((350+24*e)/100*t.atk)}物理伤害，消耗40点怒气。`,cost:{rp:40},castTime:1e3,coolDown:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:s,leech:a=0}=t,o=i((350+24*n)/100*t.atk),l=t.runAttrHooks(!1,"wree19"),u=l?"fire":"melee";e.sendDamage(u,t,r,this,o)&&(l&&r.addBuff("lv80_warrior1_enhance1_buff",12e3,null,"lv80_warrior1_enhance1_buff"),t.runAttrHooks(!1,"wree21")&&Math.random()<=.5&&t.useExtraSkill("fury_cutter"),a&&(t.hp+=a))}},{key:"block",name:"格挡姿态",type:"player",lv:70,coolDown:2e4,description:(e,t)=>`根据技能等级，格挡增加${(100+50*e).toFixed(0)}，持续20秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=100+50*n;t.addBuff("block_buff",2e4,r,"block_buff")}},{key:"flame_armor",name:"炎铠",type:"player",lv:80,MaxLv:50,description:e=>`每秒为所有目标添加一层“灼烧”效果，持续${(10+.2*e).toFixed(1)}秒。\n\t\t\t受到伤害时将额外为伤害来源添加一层“灼烧效果。\n\t\t\t灼烧：每3秒受到35%攻击力的火焰伤害，持续15秒，可叠加。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,castTime:1500,coolDown:2e4,effect(e,t,n){t.addBuff("flame_armor_buff",1e4+200*n,.35*t.atk,"flame_armor_buff"),t.addBuff("flame_armor_buff2",1e4+200*n,.35*t.atk,"flame_armor_buff2")}},{key:"dragon_breath",name:"炎龙吐息",type:"player",lv:90,description:(e,t)=>`对所有目标造成${r((1200+120*e)/100*t.atk)}火焰伤害。\n\t\t\t终结技：消耗自身所有怒气，每消耗1点怒气提升0.5%伤害。`,castTime:1e3,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.willAttack(e))),s=t.runAttrHooks(.005,"wree25");let a=1+t.rp*s;t.rp=0,r.forEach((r=>{const s=i((1200+120*n)/100*t.atk)*a;e.sendDamage("fire",t,r,this,s)}))}},{key:"fury_cutter_time",name:"连斩姿态",MaxLv:50,description:e=>`进入“连斩姿态”，期间每释放一次“斩击”，“斩击”所造成的伤害递增10%，最多递增35次，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,castTime:1e3,coolDown:35e3,canUse:(e,t)=>!t.buffs.find((e=>"fury_cutter_time_buff"===e.group))&&!!t.target,effect(e,t,n){const r=5e3+100*n;if(t.addBuff("fury_cutter_time_buff",r,0,"fury_cutter_time_buff"),t.runAttrHooks(!1,"wree29")){t.rp=0;for(const e of t.skills)"无敌斩"==e.name&&e.reduceCoolDown(1e5)}}},{key:"omnislash",name:"无敌斩",coolDown:45e3,notBreakable:!0,MaxLv:50,description:(e,t)=>`精湛的剑技，每0.5秒对目标释放一次“斩击”，持续8秒。\n\t\t\t技能持续期间，自身受到的伤害减少${Math.round(30+e)}%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=1-Math.round(30+n)/100;t.addBuff("omnislash_buff2",8005,r,"omnislash_buff2"),t.startRead("omnislash_buff",8005,null,this)}},{key:"shield_charge",name:"盾冲",description:(e,t)=>`持盾冲击目标，根据攻击力和物理防御，对目标造成${r((130+2*e)/100*t.atk+t.def*(.15+.015*e)*2)}物理伤害。`,coolDown:12e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:s,def:a,leech:o=0}=t;let l=i((130+2*n)/100*s+a*(.15+.015*n)*2);const u=t.runAttrHooks(!1,"wree55"),c=t.runAttrHooks(!1,"wree53");u&&(l*=1+t.rp/100,t.rp=0),e.sendDamage("melee",t,r,this,l)&&(o&&(t.hp+=o),c&&t.addBuff("shield_buff",3e4,.1*t.maxHp,"shield_buff"),c&&(t.ep+=.1*t.maxHp))}},{key:"defensive_stance",name:"防御姿态",type:"player",lv:70,coolDown:2e4,MaxLv:75,description:e=>`受到的伤害减少${(20+e).toFixed(0)}%，持续20秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.2+n/100;t.addBuff("defensive_buff",2e4,1-r,"defensive_buff")}},{key:"first_aid",name:"急救",type:"player",lv:80,MaxLv:50,description:(e,t)=>`恢复${Math.round(t.maxHp*(.5+.01*e))}点生命值，只会生命值小于40%时释放。`,castTime:500,coolDown:(e,t,n)=>4e4*t.runAttrHooks(1,"defring"),maxExp:e=>e**2*100+300*e+200,shouldUse:(e,t)=>t.hp<=t.maxHp/2.5,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.5+.01*n))}},{key:"guardian",name:"守护者之魂",type:"player",lv:40,coolDown:2e4,description:(e,t)=>`召唤守护者之魂，持续30秒。期间每次受到攻击将获得一层“护佑”效果，最多叠加20层。\n\t\t\t叠加至20层后，再次召唤守护者之魂时将消耗所有“护佑”效果，根据物理防御对所有目标造成${r((250+12*(e+t.runAttrHooks(0,"guardianLv")))/100*t.def/3.5)}魔法伤害。\n\t\t\t护佑：受到的伤害减少2.5%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=n+t.runAttrHooks(0,"guardianLv"),s=t.buffs.find((e=>"Blessing_buff"===e.group));s&&20===s.arg&&(e.units.filter((e=>t.willAttack(e))).forEach((n=>{const s=i((250+12*r)/100*t.def/3.5);e.sendDamage("magic",t,n,this,s)})),t.removeBuff(s)),t.addBuff("guardian_buff1",3e4,null,"guardian_buff1"),t.addBuff("guardian_buff2",null,r,"guardian_buff2")}},{key:"jingji_skill_pro",name:"绝对领域",description:"",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i}=t,s=t.runAttrHooks(!1,"wree56"),a=t.buffs.find((e=>"warrior_def_buff"===e.group)),o=s&&a?.15:.1;e.units.filter((e=>t.willAttack(e))).forEach((n=>{const r=t.def*o;e.sendDamage("real",null,n,"绝对领域",r)}))}},{key:"infinite_justice",name:"无限正义之剑",description:(e,t)=>{const n=e+t.runAttrHooks(0,"igsLv");return`根据攻击力和物理防御，对目标造成${r((300+10*n)/100*t.atk+t.def*(.2+.03*n)*1.2)}物理伤害。`},coolDown:2e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:s,atk:a,leech:o=0}=t;let l=1;const u=t.buffs.find((e=>"igs_buff"===e.group));u&&(l+=u.arg,t.removeBuff(u));const c=n+t.runAttrHooks(0,"igsLv"),p=n+t.runAttrHooks(!1,"wree63")?1+2*(1-r.hp/r.maxHp):1,h=i((300+10*c)/100*a+s*(.2+.03*c)*1.2)*p;e.sendDamage("melee",t,r,this,h*l),o&&(t.hp+=o),n+t.runAttrHooks(!1,"wree64")&&e.units.filter((e=>e!==r&&t.willAttack(e))).forEach((n=>{const r=i((300+10*c)/100*a+s*(.2+.03*c)*1.2);e.sendDamage("melee",t,n,this,r*l)}))}},{key:"hacking",name:"劈砍",group:"1",coolDown:(e,t,n)=>1500-t.runAttrHooks(0,"jfxl"),description:(e,t)=>(t.runAttrHooks(0,"whksk"),`对目标造成${r((120+9*e)/100*t.atk)}物理伤害，获得5点怒气。`),maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:s,leech:a=0,atk:o}=t,l=t.runAttrHooks(!1,"wree49")?.1:0,u=t.runAttrHooks(!1,"wree49")?.2:0,c=t.runAttrHooks(1,"wree40"),p=t.runAttrHooks(!1,"wree43"),h=t.runAttrHooks(!1,"wree44"),f=t.runAttrHooks(!1,"wree42"),d=t.runAttrHooks(!1,"wree41"),m=(t.runAttrHooks(0,"whksk"),i((120+9*r)/100*t.atk)*c),g=t.buffs.find((e=>"element_fire_buff"===e.group)),y=t.runAttrHooks(!1,"wree18");if(g){const n=g.arg;let r=1;(p||Math.random()<.5)&&!h?(r+=.2,d&&s.addBuff("yaori_buff",null,null),e.sendDamage("fire",t,s,this,m*n*r,l,u),t.fp+=p?20:10):(r+=.2,f&&s.addBuff("bingning_buff",null,null),e.sendDamage("cold",t,s,this,m*n*r,l,u),t.cp+=h?20:10),y||t.removeBuff(g)}else e.sendDamage("melee",t,s,this,m,l,u);a&&(t.hp+=a),t.rp+=5;const v=t.buffs.find((e=>"shield_buff"===e.group)),b=t.runAttrHooks(!1,"wree33");v&&b&&n(t,.1*t.hp),v&&b&&(t.hp-=.1*t.hp)}},{key:"sunder_armor",name:"破甲击",type:"player",lv:35,description:(e,t)=>{const n=e+t.runAttrHooks(0,"wsask");return`击破目标的护甲，对其造成${r((180+4*e)/100*t.atk)}物理伤害并获得“碎甲”效果，持续5秒。\n\t\t\t碎甲：物理防御减少${15+Math.min(n,50)}%，受到的伤害提高30%。`},coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:s=0,atk:a}=t,o=Math.min(n+t.runAttrHooks(0,"wsask"),50),l=i((180+4*n)/100*t.atk),u=1.3+t.runAttrHooks(0,"wree33");e.sendDamage("melee",t,r,this,l)&&(r.addBuff("sunder_armor_buff",5e3,[u,(o+15)/100],"sunder_armor_buff"),s&&(t.hp+=s))}},{key:"shield_wall",name:"血甲缚",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>{const n=e+t.runAttrHooks(0,"wswsk"),r=t.runAttrHooks(1,"zwww_hjl"),i=n<=50?t.maxHp*(.1+.018*n):t.maxHp+t.sta*(1+.01*(n-50)),s=Math.round(i*r);return`消耗${Math.round(100+1*n)/10}%的当前生命值（至少保留1点生命值），同时获得一定吸收量的护盾，护盾的吸收量受生命值上限和耐力影响。\n\t\t\t释放后会覆盖当前的护盾类效果。\n\t\t\t护盾：吸收${s}点伤害，持续30秒。`},coolDown:(e,t,n)=>15e3-3e3*t.runAttrHooks(0,"zwww_cd"),effect(e,t,n){const r=n+t.runAttrHooks(0,"wswsk");t.runAttrHooks(!1,"wree48")&&(t.rp+=200);const i=t.runAttrHooks(1,"wree46");2===i&&(t.hp=1);const s=(r<=50?t.maxHp*(.1+.018*r):t.maxHp+t.sta*(1+.01*(r-50)))*i,a=1-Math.round(100+1*r)/1e3;t.addBuff("shield_buff",3e4,s,"shield_buff"),t.ep+=s,t.hp=Math.max(t.hp*a,1)}},{key:"element_cold_fire",name:"元素附魔·Ⅱ",description:(e,t)=>{const n=e+t.runAttrHooks(0,"wecfsk");return`借助魔法的力量，使下一个“劈砍”随机附魔寒冷或者火焰效果，且伤害提高${Math.round(250+5*n)/10}%。`},coolDown:6e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=n+t.runAttrHooks(0,"wecfsk"),i=Math.round(1250+5*r)/1e3;t.addBuff("element_fire_buff",1e4,i,"element_fire_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance3_time")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"fanatical",name:"血怒",coolDown:2e4,description:(e,t)=>{const n=e+t.runAttrHooks(0,"wftsk");return`消耗5%的当前生命值，攻击力+${Math.round((.1+.02*n)*t.atk_self+.025*t.hp)}，持续10秒。`},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,r){const i=(.1+.02*(r+t.runAttrHooks(0,"wftsk")))*t.atk_self+.025*t.hp;t.addBuff("fanatical_buff",1e4,i,"fanatical_buff");const s=.05*t.hp;t.hp-=s;const a=t.runAttrHooks(1,"wree36"),o=t.runAttrHooks(1,"wree37"),l=t.buffs.find((e=>"shield_buff"===e.group));a&&t.addBuff("fanatical_buff2",1e4,null,"fanatical_buff2"),l&&o&&n(t,2*s)}},{key:"hacking_plus_double",name:"致命劈砍",coolDown:500,castTime:1e3,cost:{rp:40},description:(e,t)=>(t.runAttrHooks(0,"whkpsk"),`消耗40点怒气，蓄力1秒后对所有目标发起2次大范围的劈砍，每次造成${r((140+10*e)/100*t.atk)}物理伤害。`),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:s}=t,a=(t.runAttrHooks(0,"whkpsk"),t.runAttrHooks(1,"wree40"),e.units.filter((e=>t.willAttack(e))));s&&(t.hp+=s),a.forEach((r=>{const s=i((140+10*n)/100*t.atk),a=i((140+10*n)/100*t.atk);e.sendDamage("melee",t,r,this,s),e.sendDamage("melee",t,r,this,a)}))}},{key:"ghost_shuffle",name:"鬼步",type:"player",lv:80,coolDown:25e3,MaxLv:50,description:(e,t)=>`根据已损失的生命值，自身闪避值提高${Math.round(t.maxHp-t.hp)}点，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=5005+100*n;t.addBuff("ghost_shuffle_buff",r,null,"ghost_shuffle_buff")}},{key:"hacking_time",name:"血魔乱舞",type:"player",lv:90,coolDown:e=>45e3-300*e,MaxLv:50,description:(e,t)=>"精湛的刀法，每秒释放一次“致命劈砍”，持续5秒。",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("hacking_time_buff",5005,null,this)}},{key:"warrior_deadline",name:"末日",coolDown:1e3,castTime:500,description:(e,t)=>`在冰能或者火能达到100点时方可释放，消耗不同的能量将产生不同的效果，优先消耗火能。\n\t\t\t消耗火能：对所有目标造成${r((350+24*e)/100*t.atk)}火焰伤害。\n\t\t\t消耗冰能：对目标攻击三次，每次造成${r((350+24*e)/100*t.atk*1.5)}寒冷伤害。\n\t\t\t不论是否携带本技能，劈砍造成火焰或寒冷伤害时，将获得对应的10点能量。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&(100===t.cp||100===t.fp),effect(e,t,n){const{target:r}=t,s=t.runAttrHooks(!1,"wree47"),a=i((350+24*n)/100*t.atk),o=i((350+24*n)/100*t.atk*1.5),l=i((350+24*n)/100*t.atk*1.5),u=i((350+24*n)/100*t.atk*1.5),c=e.units.filter((e=>t.willAttack(e)));if(100===t.fp){const n=t.buffs.find((e=>"energy_fire_buff"===e.group));let i=1;if(n&&(i+=.3,t.removeBuff(n)),c.forEach((n=>{e.sendDamage("fire",t,n,"末日·炎",a*i)})),s){const n=t.buffs.find((e=>"energy_cold_buff"===e.group));let i=1;n&&(i+=.3,t.removeBuff(n)),e.sendDamage("cold",t,r,"末日·寒",o*i),e.sendDamage("cold",t,r,"末日·寒",l*i),e.sendDamage("cold",t,r,"末日·寒",u*i)}t.fp=0}else if(100===t.cp){const n=t.buffs.find((e=>"energy_cold_buff"===e.group));let i=1;if(n&&(i+=.3,t.removeBuff(n)),e.sendDamage("cold",t,r,"末日·寒",o*i),e.sendDamage("cold",t,r,"末日·寒",l*i),e.sendDamage("cold",t,r,"末日·寒",u*i),s){const n=t.buffs.find((e=>"energy_fire_buff"===e.group));let r=1;n&&(r+=.3,t.removeBuff(n)),c.forEach((n=>{e.sendDamage("fire",t,n,"末日·炎",a*r)}))}t.cp=0}}},{key:"warrior_con_energy",name:"能量守恒",coolDown:1e4,description:(e,t)=>{const n=Math.round(250+5*e)/10;return`随机获得“酷热”或者“极寒”效果，并按照1:0.5的比例将所有怒气转化为对应的能量。\n\t\t\t酷热：使下一个“末日”造成的火焰伤害提高${n}%。\n\t\t\t极寒：使下一个“末日”造成的寒冷伤害提高${n}%。\n\t\t\t自身怒气大于50点时方可释放。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.rp>=50,effect(e,t,n){Math.random()<.5?(t.fp+=.5*t.rp,t.rp=0,t.addBuff("energy_fire_buff",null,.25+.005*n,"energy_fire_buff")):(t.cp+=.5*t.rp,t.rp=0,t.addBuff("energy_cold_buff",null,.25+.005*n,"energy_cold_buff"))}},{key:"mabi_skill",name:"麻痹",description:"",coolDown:1e4,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.addBuff("mabijiezhi_buff",1e3,null,"mabijiezhi_buff")}}]},2657:e=>{e.exports="\nSCENE 自宅\nSAY 艾尔的声音 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔的声音 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔的声音 呜呜呜……村长……布帕阿姨……\nSAY 亚莲娜 ！！\nSAY 亚莲娜 感觉听到了艾尔的声音。\nSAY 亚莲娜 他迷路了吗？\n\nASIDE {\n现在可以选择[亚莲娜]进行战斗了。\n使用神力解锁新的英雄栏位，使用[亚莲娜]进行冒险吧！\n神力将在不同英雄之间共享，请在使用之前务必注意。\n}\nASIDE {\n亚莲娜的任务篇章会解锁新的故事和地图，但不会阻碍艾尔的剧情继续进展，所以你也可以使用艾尔继续游戏，积累够足够的神力再尝试亚莲娜的冒险之旅。\n}\n"},5807:e=>{e.exports="\nSCENE 自宅\nSAY 亚莲娜 好像听到了艾尔的声音，他好像迷路了。我要去救他。\nSAY 亚莲娜 但是外面这么多史莱姆，我一个人会不会……\nSAY 亚莲娜 怎么办呢……怎么办呢……\nSAY ？？？ 亚莲娜，你在呼唤我的帮助吗？\nSAY 亚莲娜 什么？谁在说话？\nSAY ？？？ 亚莲娜，是我，你需要我的帮助吗？\nSAY 亚莲娜 你是谁？\nSAY ？？？ 我是元素精灵，你叫我小亚就行\nSAY 元素精灵 亚莲娜，你需要我的帮助吗？\nSAY 亚莲娜 我需要！艾尔需要我的帮助！我得去救援他！\nSAY 元素精灵 亚莲娜，和我签订契约，成为马猴烧酒吧！\nSAY 亚莲娜 马……马猴？\nSAY 元素精灵 哎，你只要跟我念就可以了。元素的精灵啊，请倾听我的请求……\nASIDE [亚莲娜]学会了[奥术飞弹]。\nSAY 元素精灵 亚莲娜，你只要使用元素的力量消灭敌人，就可以变得更强大啦！\n"},8322:e=>{e.exports="\nSCENE 迷雾森林\nSAY 亚莲娜 艾尔~村长~村长~艾尔~\nSAY 亚莲娜 咦，这是村长，他昏迷了！村长！村长！快醒醒。\nSAY 村长 唔……\nSAY 村长 亚莲娜！你怎么进到林子里来了？\nSAY 亚莲娜 村长，刚才我在路上遇到了艾尔，后来他到森林里来找你了。\nSAY 村长 哎……胡闹！小孩子怎么可以一个人到森林里来。\nSAY 亚莲娜 后来艾尔一直没回来，他可能迷路了！\nSAY 村长 ……\nSAY 村长 诺大的森林找人也太困难。走！我们先去邻村找到布帕！\nSAY 亚莲娜 对！有布帕阿姨的二哈在，就不怕找不到人了！\n"},6209:e=>{e.exports="\nSCENE 邻村\nSAY 亚莲娜 咦，上午闪银村还很热闹的，怎么现在一点声音都没有。\nSAY 村长 当心，亚莲娜，可能有蹊跷。\nSAY 发狂的村民甲 呼哧……\nSAY 发狂的村民乙 吼！\nSAY 村长 二位小哥，你们……\nSAY 亚莲娜 村长当心！他们不对劲！\nSAY 发狂的村民甲 啊呜！\nSAY 村长 哎哟，你怎么咬人。\nSAY 亚莲娜 快放开村长！\n"},6084:e=>{e.exports="\nSCENE 邻村\nSAY 村长 布帕，布帕，你在吗\nSAY 亚莲娜 布帕阿姨~布帕阿姨~\nSAY 亚莲娜 咦，这是……\nASIDE {\n亚莲娜感觉到附近传来了一股强大的黑暗气息。经过一番查探后，发现了一个地窖。\n}\nWAIT 1000\n\nSCENE 幽暗的地窖\nSAY 死灵法师奈布 哈撸所卡卡嘛细塔……(咒语)\nSAY 亚莲娜 (悄声)这是……\nSAY 村长 (悄声)这是召灵阵啊。。这是个亡灵术士！\nSAY 亚莲娜 (悄声)天啊，太可怕了。\nSAY 村长 (悄声)我们快离开这里。\nSAY 奈布的僵尸 吼！\nSAY 亚莲娜 糟了，我们被发现了！\n"},1755:e=>{e.exports="\nSCENE 幽暗的地窖\nSAY 亚莲娜 受死吧！\nSAY 死灵法师奈布 呼……\nSAY 死灵法师奈布 对于死亡，我早有准备。年轻的法师，我们还会再见面的。\nSAY 亚莲娜 恶魔，我不会原谅你，就算追杀到天涯海角，我也会消灭你！\nSAY 死灵法师奈布 哼哼……\nASIDE 这时，地窖外面传来了一阵嘈杂的声音\nWAIT 1000\n\nSCENE 邻村村口\nSAY 圣殿骑士 报告！队长，这里有大量低等亡灵活动的迹象！可能有过天灾瘟疫的传播，建议进行全面的净化！\nSAY 骑士队长卡罗 所有队员听令！对整个村庄进行净化！\nSAY 圣殿骑士们 是！\nSAY 亚莲娜 圣殿骑士团……他们，这是在把村民当做亡灵净化吗……\nSAY 意识清醒的村民 啊！不要杀我\nSAY 圣殿骑士 (砍)\nSAY 意识清醒的村民 啊！……(死亡)\nSAY 亚莲娜 可恶，这帮狂热的骑士，简直就是凶手！明明村民们意识都很清醒了！\nSAY 亚莲娜 我一定要阻止他们！\n"},4654:e=>{e.exports='\nSCENE 邻村村口\nSAY 亚莲娜 虽然击败了圣殿骑士们，但是……\nSAY 亚莲娜 闪银村……已经彻底毁了……\nSAY 布帕阿姨 亚莲娜！村长！你们都没事！\nSAY 布帕阿姨家的二哈 汪！\nSAY 亚莲娜 二哈！布帕阿姨！\nSAY 村长 布帕，其它村民们怎么样了？\nSAY 布帕阿姨 你们离开后不久，在我们临时驻扎的区域就发生了混乱，貌似是西德家的小子疯了一样，见谁都咬。\nSAY 布帕阿姨 后来这个状况一下子就传染到了很多村民，我推断可能是疾病或诅咒，就去圣光教会求援了。\nSAY 布帕阿姨 没想到他们居然进行了屠杀……刚才看到，西德家的小子，还有夏洛特家的，都已经……\nSAY 村长 哎……事到如今，也没有什么办法了。布帕，你快在附近搜寻一下，看看还有没有幸存者，然后，我们还要赶去森林里，艾尔在森林里走丢了，我们得尽快找回他，否则太危险了……\nSAY 布帕阿姨 好的\nSAY 亚莲娜 艾尔……坚持一下，我们就来救你了。\n\nSAY 系统 这里已经是当前版本亚莲娜剧情线的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},4987:(e,t,n)=>{e.exports=[{key:"aleanor-startup",group:"亚莲娜的故事",name:"艾尔的呼唤",script:n(2657),requirement:{stories:["eyer-stories-10"]}},{key:"aleanor-stories-1",group:"亚莲娜的故事",name:"亚莲娜的故事 - 1",script:n(5807),requirement:{role:"Aleanor",stories:["aleanor-startup"]}},{key:"aleanor-stories-2",group:"亚莲娜的故事",name:"亚莲娜的故事 - 2",script:n(8322),requirement:{role:"Aleanor",map:"town.woods",stories:["aleanor-stories-1"]}},{key:"aleanor-stories-3",group:"亚莲娜的故事",name:"亚莲娜的故事 - 3",script:n(6209),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-2"]}},{key:"aleanor-stories-4",group:"亚莲娜的故事",name:"亚莲娜的故事 - 4",script:n(6084),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-3"]},taskType:"kill",enemy:"zombies.farmer",killCount:10},{key:"aleanor-stories-5",group:"亚莲娜的故事",name:"亚莲娜的故事 - 5",script:n(1755),requirement:{role:"Aleanor",map:"town.neighbourTown.2",stories:["aleanor-stories-4"]},taskType:"kill",enemy:"zombie.necromancer",killCount:1},{key:"aleanor-stories-6",group:"亚莲娜的故事",name:"亚莲娜的故事 - 6",script:n(4654),requirement:{role:"Aleanor",map:"town.neighbourTown.3",stories:["aleanor-stories-5"]},taskType:"kill",enemy:"knight.leader",killCount:1}]},1831:e=>{e.exports="\nASIDE {\n　自从第二灵灾过去，兽人大战结束，麦德尼大陆已经和平许久了。\n　在拜尔帝国北郡的一个小村庄，所有人过着安静祥和的日子。白天劳作收获，夜晚则聚在酒吧闲谈……\n}\n\nSCENE 自宅\n\nSAY 艾尔 呼~睡的真舒服呀！\nSAY 艾尔 昨晚通宵读这本《圣光英雄传》，然后一觉睡到了……咦？\nSAY 艾尔 为什么天还没有亮？\nWAIT 500\nASIDE 远方传来了一声尖叫：啊！……\nSAY 艾尔 ！！！\nSAY 艾尔 发生什么事了？\nASIDE 艾尔走出家门\n\nSCENE 村间小路\nSAY 艾尔 我^&$%，哪来这么多史莱姆！\nSAY 艾尔 唔……\nSAY 艾尔 没错！这个邪恶值得一战！\nSAY 艾尔 不过首先……\nWAIT 500\n\nSCENE 自宅\nASIDE (艾尔拿出一把自制的细木剑)\nSAY 艾尔 珍藏多年的宝剑啊，终于到了你有用武之地的时候了！\nASIDE 细木剑发出一声低鸣（艾尔的妄想）\nSAY 艾尔 邪恶的爪牙们啊，等待勇者艾尔的制裁吧！\n\nSCENE\n\nSAY 系统 {\n这是一个放置类RPG游戏，您不需要亲自操作英雄们进行战斗，只需要为他们准备好武器和防具，设定好冒险的地图，英雄们就会自动奋战。\n}\nSAY 系统 {\n击败魔物然后获得材料和装备，使用材料改造更强大的武器和防具，让英雄逐步成长，最后挑战各种邪恶的魔王。\n}\nSAY 系统 {\n即使您离开游戏，只要在72个小时之内回来，英雄们就不会停止奋战。随时回到游戏整理战利品吧！\n}\nSAY 系统 {\n除了金币外，神力(也有人把它叫做命运点数)也是重要的资源点数。它可以开启新的英雄栏位，解锁新的背包空间，生产高品质的装备。更重要的是，收集情报和开启新的冒险之旅也可能会需要它，因此在冒险的过程请务必注意收集神力点数。\n}\nSAY 系统 {\n神力的来源除了向创世神祈(kè)祷(jīn)外，还可以通过击败魔王获得。另外，拆解史诗及更高品质的装备也可以得到神力。\n}\nSAY 系统 {\n现在，为艾尔装备上武器，开始您的冒险之旅吧！\n}\n"},831:e=>{e.exports="\nSCENE 迷雾森林\nSAY 艾尔 终于击败了狼王。\nSAY 艾尔 可是，村长在哪里呢……\nSAY 艾尔 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔 呜呜呜……村长……布帕阿姨……\nWAIT 500\n\nSCENE 拜尔王都\nASIDE 这时候，数十里外的拜尔王都\nSAY ？？？ 终于！我酝酿十年的计划！\nSAY ？？？ 神明啊，圣光啊，既然你们都遗弃了我，就让死亡和黑暗，洗刷这片土地的邪恶吧！\n"},1274:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 来吧！邪恶的爪牙！战个痛快吧！\nSAY 艾尔 ……\nSAY 艾尔 不过话说为什么会有这么多史莱姆出现呢？亚莲娜他们没事吧？\nSAY 小史莱姆 {\n呼…… 呼…… （扑上）\n}\nSAY 艾尔 哎哟！居然咬我，吃我一记破鞋斩！\nSAY 艾尔 咦，这史莱姆肚子里好像有什么东西\nSAY 系统 杀死魔物可以掉落材料，材料可以用于制造更好的装备。\nSAY 系统 如果受伤比较严重，也可以先回到自宅休整一番。在自宅体力和魔力等都会加速恢复。\nSAY 系统 多杀死几只史莱姆收集更进一步的情报吧。\n"},4057:e=>{e.exports='\nSCENE 村间小路\nSAY 艾尔 呼……\nSAY 艾尔 区区史莱姆，居然也如此难缠！\nSAY 艾尔 但是在本勇者的宝剑下，不过是一群乌合之众！\nSAY 艾尔 啊啊啊啊！冲锋！\nSAY 大史莱姆 ……\nSAY 艾尔 哎哟，非洲老头子跳高，黑（吓）老子一跳啊，这是什么鬼？\nSAY 艾尔 看样子不会咬人哦，戳一下看看。\nSAY 大史莱姆 呜！呼呼呼呼！\nSAY 艾尔 哎哟，怎么突然疯了一样\nSAY 系统 黄色名字的魔物不会主动攻击英雄们，英雄们的溅射和群体伤害技能也不会攻击他们。但如果英雄主动攻击他们，他们就会加入战斗。\nSAY 系统 要想指明英雄的攻击目标，在"单位"面板里点击敌人面板就可以了哦~\nSAY 系统 因为大史莱姆的战斗力比小史莱姆强很多，请务必挑选好防具再行挑战！\n'},6860:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 啊……多凶狠的怪物啊……我曾数过我杀死了多少怪物，然而已经多到数不清了。\nSAY 女孩的声音 啊……救命……不要过来……！\nSAY 艾尔 是亚莲娜吗？\nSAY 艾尔 但是话说史莱姆的危险度……应该不会致命吧……？就算被咬了也只是痒痒的……\nSAY 艾尔 （摇头）不对，这可是英雄救美的重要时刻，我怎么可以在这里胡思乱想呢……快跟上去！\n\nSCENE 洞窟入口\nSAY 艾尔 听声音就在这个洞窟里面了。\nSAY 艾尔 洞里面阴森森的，真是恐怖！\nSAY 大史莱姆 呼！！呼！！\nSAY 艾尔 啊！洞穴里的史莱姆体型更大，而且更加凶猛了！怎么办？\nSAY 女孩的声音 哈……嘿嘿……哈哈……好痒……不要过来！\nSAY 艾尔 ……\nSAY 艾尔 看起来亚莲娜没有生命危险，我还是做好准备再来吧。\n"},4963:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜应该在这个方向。\nSAY 艾尔 来吧，史莱姆们！最大不过蒲团大小的怪物，正是我练剑的好对象！\nSAY 艾尔 就算洞穴里的个头比外面的大，也不过就是稍微大一点的蒲团嘛！总不会出现比人还大的吧。\nSAY 母体史莱姆 ……\nSAY 艾尔 ……\nSAY 艾尔 （悄声）我的天哪~居然有这么大个的史莱姆，别说见了，听都没听说过。\nSAY 母体史莱姆 咕嘟（一口吞下一只旁边的大史莱姆）\nSAY 艾尔 （咽了一口口水）……我觉得它一口吞了我问题也不大。我还是绕过他去寻找亚莲娜吧。。不然她被这怪物发现了就完了。\nSAY 母体史莱姆 ！\nSAY 艾尔 ！\nSAY 亚莲娜 ！\nSAY 亚莲娜 啊啊啊啊啊……救命啊！\nSAY 母体史莱姆 咕嘟（一口吞下亚莲娜）\nSAY 艾尔 ……\nSAY 艾尔 没办法了，只能硬上了！\nWAIT 500\nSAY 系统 母体史莱姆的战斗极其困难，建议务必准备好武器和防具，并且认真观察它的行动。\nSAY 系统 你也可以在情报界面使用神力点数兑换相应的情报，了解敌人的弱点就可以更好的消灭它！\n"},5318:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜，你还好吗？\nSAY 亚莲娜 呜呜呜……你快转过去……（衣服都破破烂烂的了，羞死了）\nSAY 艾尔 哦哦……好的……我这边还有我自己缝的布裙，你赶紧换上，我到那边去等你……\nSAY 亚莲娜 ……\nSAY 艾尔 ……\nSAY 亚莲娜 好了，艾尔，谢谢你救了我。\nSAY 艾尔 没事！谁叫我是命中注定的勇者呢！对了，其他人呢？\nSAY 亚莲娜 今天上午的时候突然爆发了兽潮，村长和布帕阿姨带着大家一起去邻村避难了。\nSAY 艾尔 呵……（看来我睡的真是沉啊，兽潮这么大事都没有吵醒我）\nSAY 亚莲娜 大家慌乱中到了邻村才发现找不见你，于是我和村长就冒险回来寻你。\nSAY 亚莲娜 可是在前面的山路上，突然一堆史莱姆涌了出来，直接将村长冲到山脚下了，我拼命跑拼命跑才跑到这里，然后就遇到你了。\nSAY 艾尔 这样……兽潮应该已经过去了。我先送你回家，关好门窗就可以，史莱姆不敢靠近木头。\nSAY 艾尔 然后我赶紧去山谷看看能不能找到村长。\nSAY 亚莲娜 好的……\nSAY 亚莲娜 （要是我能帮助到艾尔哥哥就好了……）\nSAY 艾尔 那我们就赶紧离开这里吧！\n"},9909:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 从小就听大人们说山里有狼，这还是我第一次独自到山里呢。\nSAY 艾尔 不过一路走来，鹿儿见到好几只，却没见着狼呢。\nSAY 狼幼崽 呼……\nSAY 艾尔 咦，哪里来的小狗狗，好可爱❤\nSAY 母狼 呼……\nSAY 艾尔 啊，好大的……狼！\n"},7624:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 原来这就是狼，远看着跟布帕阿姨家的二哈一模一样。。\nSAY 艾尔 这样看来，原来大人们真的没有骗人。山里真的有很多狼。\nSAY 艾尔 可是村长……还在更深的地方吗？前面的森林全都是雾，进去不会迷路吧……\n"},2239:e=>{e.exports="\nSCENE 迷雾森林\nSAY 狼王 ……(冷冷的)\nSAY 狼王 啊呜呜呜呜……(嗥叫)\nSAY 狼群们 啊呜呜呜呜……(嗥叫)\n"},3150:(e,t,n)=>{e.exports=[{key:"eyer-stories-1",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 1",script:n(1831),requirement:{role:"Eyer",map:"home"}},{key:"eyer-stories-2",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 2",script:n(1274),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-1"]}},{key:"eyer-stories-3",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 3",script:n(4057),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-2"]},taskType:"kill",enemy:"slime.minimal",killCount:10},{key:"eyer-stories-4",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 4",script:n(6860),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-3"]},taskType:"kill",enemy:"slime.giant",killCount:1},{key:"eyer-stories-5",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 5",script:n(4963),requirement:{role:"Eyer",map:"town.cave2",stories:["eyer-stories-4"]}},{key:"eyer-stories-6",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 6",script:n(5318),requirement:{role:"Eyer",stories:["eyer-stories-5"]},taskType:"kill",enemy:"slime.queen",killCount:1},{key:"eyer-stories-7",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 7",script:n(9909),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-6"]}},{key:"eyer-stories-8",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 8",script:n(7624),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-7"]},taskType:"kill",enemy:"wolf.giant",killCount:10},{key:"eyer-stories-9",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 9",script:n(2239),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-8"]}},{key:"eyer-stories-10",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 完结",script:n(831),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-9"]},taskType:"kill",enemy:"wolf.king",killCount:1}]},506:e=>{e.exports="\nASIDE 艾尔迷路后，一路狂奔，结果掉进了一个坍塌的矿洞中。\nSCENE 矿洞\nSAY 艾尔 {\n村长~ 村长~\n}\nSAY 艾尔 一路走过来都没有看到村长的痕迹，村长去哪儿了呢？\nSAY 艾尔 要是这时候布帕阿姨家的二哈在就好了……\nSAY ？？？ 汪汪！\nSAY 艾尔 咦？那是什么声音？\nSAY ？？？ 汪！你休想抢走我的蜡烛！\nSAY 艾尔 ？？？我要蜡烛干嘛？前面到底是谁？\n"},4231:e=>{e.exports="\nSCENE 矿洞\nSAY 艾尔 哎哟，狗头人不是一向很和善的么，为什么这些狗头人看到我就打呢？ \nSAY 狗头人甲 汪！人类太凶恶了！\nSAY 狗头人乙 汪！快去叫大王！\nSAY 狗头人甲 对！汪！人类你等着，让大王来消灭你！\nSAY 艾尔 什么鬼，狗头人也有大王了？这不魔法呀，狗头人明明是平等聚居的种族啊……\nSAY 艾尔 这里面一定有蹊跷。\nSAY 狗头人乙 汪！刚才进来的人类我一铲子就打晕了，为什么这个人类这么凶？快跑！\nSAY 艾尔 刚才的人类？难道是村长？\n"},3728:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！这个矿洞已经是我的领地了！你快点离开。\nSAY 艾尔 你就是狗头人的大王吗？我问你，刚才你有见到另一个人类吗？\nSAY 金牙大王 汪！人类！你快走开！快走开！你不属于这里！\nSAY 艾尔 我是想问你……\nSAY 金牙大王 汪！你不走开我就要咬你了，啊呜呜！！\n"},2293:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！你不要打金牙了！狗头人是人类最好的朋友！\nSAY 艾尔 噗……你现在能不能好好说话了？\nSAY 金牙大王 汪！人类！我再也不把项链咬坏了！\nSAY 艾尔 我不是问你这个，我问你，刚才你们有没有看到过另一个人类？\nSAY 金牙大王 汪！金牙有见过！一个白胡子的人类！\nSAY 艾尔 对！他在哪儿呢？\nSAY 金牙大王 汪！他被卡卡列夫大王的使者带走了！\nSAY 艾尔 卡卡列夫大王？那是啥？\nSAY 金牙大王 汪！卡卡列夫大王很厉害！他教会了金牙魔法！他的使者也很厉害！会丢盘子！金牙喜欢盘子！\nSAY 艾尔 别说这些乱七八糟的了……快告诉我，他们往哪儿走了？\nSAY 金牙大王 汪！他们往洞里面！洞里面有好多蜡烛！然后出现了一个大洞！然后他们就走了！\nSAY 艾尔 洞……？蜡烛？\n\nSCENE 召唤法阵\nSAY 金牙大王 汪！就是这里！\nSAY 艾尔 天啊……这里是……\nSAY 艾尔 召唤法阵！为什么这里会有这种东西……\nSAY 金牙大王 汪！这里是金牙画的！金牙是不是很厉害！\nSAY 艾尔 金牙。。你为什么会画召唤法阵的？\nSAY 金牙大王 汪！金牙喜欢蜡烛，喜欢火焰！火焰保护狗头人！这个法阵让金牙感到很温暖！\nSAY 艾尔 确实，这里非常温暖……是元素召唤法阵吗？\nSAY 艾尔 金牙，你还能联系上卡卡列夫他们吗？\nSAY 金牙大王 汪！没问题！卡夫萨尼亚卡阿纳列西夫卡……（咒语）\nSAY 艾尔 天啊。。狗头人居然能念出这么长的咒语……\nSAY 金牙大王 卡卡列夫大人来了！\nASIDE {\n随着金牙大王的念诵，阵法最中间的蜡烛的火焰，骤然幻化成一个火元素的形状。\n在金牙的带领下，艾尔靠近着团火焰。\n}\nSAY 艾尔 噗……这指尖大的火元素……看起来好萌！\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 金牙大王 卡卡列夫大人！这个人类很厉害，金牙打不过他！\nSAY 卡卡列夫的幻象 人类！感受本大君的怒火吧！\nSAY 金牙大王 受死吧人类！\nSAY 艾尔 （对着蜡烛一吹）\nASIDE 蜡烛应声而灭\nSAY 金牙大王 ……\nSAY 艾尔 ……\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 艾尔 卡卡列夫，你把村长带到哪儿去了？\nSAY 卡卡列夫的幻象 可恶的人类，本大君不会回答你的问题！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！无耻的人类！快停止你对本大君的不敬！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！人类！快停下你的作为！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 人类！别玩了！本大君同意回答你的问题！\nSAY 艾尔 快说，为什么带走村长，你把他带到哪儿去了？\nSAY 卡卡列夫的幻象 你是说那个老年人类吗？他的灵魂已经属于本大君了！\nSAY 艾尔 什么！\nSAY 卡卡列夫的幻象 因为他违背了和本大君的契约！他拒绝实施本大君的降临计划！\nSAY 艾尔 你这个恶魔！(吹)\nSAY 卡卡列夫的幻象 呵哈哈哈，你以为同样的办法还能对本君继续使用吗？本君已经链接好了两个位面，感受本君的愤怒吧！\nASIDE 卡卡列夫的体型瞬间膨胀，一下扩大了几十倍\nSAY 卡卡列夫的幻象 金牙，你这个背叛本君的狗杂种，灼热之箭！\nSAY 金牙大王 啊啊啊啊啊（死了）\nSAY 艾尔 ！！\n"},4550:e=>{e.exports="\nSCENE 召唤法阵\nSAY 卡卡列夫的幻象 人类，你等着，我卡卡列夫终将有一天降临你们的世界！到时候，感受我的怒火吧！\nSAY 艾尔 你别走！你把村长还给我！\nSAY 卡卡列夫的幻象 （消散）\nSAY 艾尔 呜呜……村长……\nSAY 布帕阿姨 艾尔……艾尔……你在哪里？\nSAY 亚莲娜 艾尔……艾尔……\nSAY 艾尔 呜呜……大家……\nSAY 村长 艾尔……艾尔……\nSAY 艾尔 ？？村长？喂~我在这里！\nSAY 布帕阿姨 艾尔！你没事吧！\nSAY 艾尔 布帕阿姨！村长！你没事！\nSAY 布帕阿姨家的狗 汪汪！\nSAY 艾尔 村长，我刚听说你被火元素大君抓走了……你没事吗？\nSAY 村长爷爷 什么？我只是被史莱姆冲下了山，因为有软软的史莱姆做缓冲，所以什么伤也没有受。\nSAY 艾尔 啊！那被火元素抓走的是谁呢……\nSAY 艾尔 （一五一十的跟大家说了发生的事）\nSAY 村长爷爷 唔……听起来，被抓走的可能是一名魔法师。\nSAY 村长爷爷 不过这不是眼下最需要担心的事情了。艾尔，我们快回村子，天就快黑了。\nSAY 艾尔 好的。\n"},7811:(e,t,n)=>{e.exports=[{key:"eyer-grow-1",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 1",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-stories-10"]},script:n(506)},{key:"eyer-grow-2",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 2",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-grow-1"]},script:n(4231),taskType:"kill",enemy:"kobold.miner",killCount:10},{key:"eyer-grow-3",group:"艾尔的启程",name:"金牙是人类最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-2"]},script:n(3728)},{key:"eyer-grow-4",group:"艾尔的启程",name:"金牙召唤了金牙最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-3"]},script:n(2293),taskType:"kill",enemy:"kobold.goldteeth",killCount:1},{key:"eyer-grow-5",group:"艾尔的启程",name:"艾尔最好的朋友找回了艾尔",requirement:{role:"Eyer",map:"town.mine.3",stories:["eyer-grow-4"]},script:n(4550),taskType:"kill",enemy:"kakarif.illusion",killCount:1}]},5910:e=>{e.exports="\nSCENE 村长家\nASIDE （夜晚，大家聚集在村长家）\nSAY 村长 孩子们，今天发生的事情太多了，而且都非常的蹊跷。\nSAY 村长 先是反季节的兽潮，明明已经快到夏天了，天气非常的炎热，照理不是兽群迁徙的时候。\nSAY 村长 然后是史莱姆大爆发，如果是自然树木分泌的史莱姆，不会有这么多。\nSAY 村长 接着是艾尔发现的火元素祭坛，狗头人本来是温顺勤劳的种族，现在却变得十分攻击性，背后又出现了火元素大君的力量。\nSAY 村长 然后是邻村，很多村民突然发疯，互相撕咬，亚莲娜还发现了是死灵法师在作怪。\nSAY 村长 最后是圣殿骑士。。不由分说的屠杀村民，连没有被感染的村民也不放过。\nSAY 村长 现在兽潮过去了，史莱姆也已经被清理干净，火元素祭坛也被摧毁了，死灵法师也被消灭了。但是我担心的是……\nSAY 村长 圣殿骑士团会不会再次前来袭击村民……他们的一个小队在闪银村覆灭，我想他们一定会派出更多的队伍进行调查。\nSAY 亚莲娜 村长……都是我的错，我太冲动了。\nSAY 村长 好了，现在不是说这些的时候。\nSAY 村长 我想，我们最好赶紧收拾一下，远离这片地方。\nSAY 艾尔 ！！\nSAY 亚莲娜 村长，突然间说迁徙也……\nSAY 村长 这是最安全的办法了。今天咱们就已经损失了一半多的村民。不能再冒险留下了！布帕，你经常出门冒险，关于迁徙的方向，由你来决定吧。\nSAY 布帕阿姨 好的。我们朝西和朝北分别是迷雾森林和山脉地带，已经接近奥兰的地界，也没有什么适宜定居的地方，朝东南是帕拉玛大平原，太容易被教会的军队追击。我想，我们还是朝西南走，向拜尔王都的方向前进最为安全！\nSAY 亚莲娜 村长，但是我很担心……村民们的发狂，像是一种传染病，贸然前往王都，拜尔的军队会对我们什么态度？\nSAY 村长 恩，这也是需要考虑的问题。但是迁徙也必须尽快开始，这……\nSAY 艾尔 村长，交给我和亚莲娜吧，我们俩都是孤儿，没有什么行李需要收拾，我们可以先前往王都，寻求官员的帮助。您和布帕阿姨带着村民们一起迁徙，如果等几天还没有我们的消息，你们就尽快转向北，去奥兰吧！\nSAY 村长 可是，对你们来说这也太冒险了……\nSAY 亚莲娜 村长，没问题的，现在消息应该还没传过去，如果有危险，我会带着艾尔传送离开的。\nSAY 村长 好吧……那就这么定了，尽快行动吧，我们时间不多了。\n"},3027:e=>{e.exports="\nSCENE 大路上\nSAY 艾尔 亚莲娜\nSAY 亚莲娜 恩？\nSAY 艾尔 我听说，咱们拜尔的王都，在海边？\nSAY 亚莲娜 是呀，和法师之国艾因罗丹特隔海相望。\nSAY 艾尔 亚莲娜，你很想去艾因罗丹特吗。\nSAY 亚莲娜 嗯，很想去。听说那里有很多书可以看。\nSAY 艾尔 哈哈哈，亚莲娜真的很爱读书啊。\nSAY 艾尔 好！我想这次的事情处理完，我就进城去工作，一定要挣够多多的钱，带你出海去艾因罗丹特！\nSAY 亚莲娜 艾尔。。\nSAY 艾尔 嗯……？怎么了？你不用太感动，哈哈哈~\nSAY 亚莲娜 不。。我是觉得，我们是不是走错路了……我们好像在往东南方向走……\nSAY 艾尔 啊……有吗？哈哈哈，不好意思，聊的太兴起，没注意方向，那我们就朝这边！\nSAY 亚莲娜 不……艾尔，那是东北面。。往那边就是帕拉玛大草原了……你想被安东尼奥的圣骑士追赶吗……\nSAY 艾尔 哈哈哈……还是亚莲娜你带路吧……\n"},7564:e=>{e.exports="\nSCENE 大路上\n\nSAY 亚莲娜 艾尔\nSAY 艾尔 恩？\nSAY 亚莲娜 我们走多久了？\nSAY 艾尔 不知道哎，但咱们肚子饿吃干粮应该已经……三次了吧？\nSAY 亚莲娜 那应该是十几个小时过去了。那也应该天亮了……可是为什么天上还是这么黑呢？\nSAY 艾尔 耶？有吗？说不定只是咱们赶路，饿的比较快呢？\nSAY 亚莲娜 这天上……既没有月亮，也没有星星……\nSAY 亚莲娜 而且我们走了十几个小时了，这么宽的路，没有遇到一个行人，没有遇到一辆车马。。\nSAY 艾尔 亚莲娜。。你说的我心里开始发毛了。。\nSAY 亚莲娜 而且，你有没有觉得，似乎越来越冷了……\nSAY 艾尔 亚莲娜，我觉得你想多了，你看看，前面不就有一个人拖着一辆车？\nSAY 亚莲娜 行人……吗？这么黑的夜里，不带火把……？\nSAY 艾尔 哈哈，不要想太多，也许是离他家很近了呢，你等等，我上去打个招呼。\nWAIT 1000\n\nSAY 艾尔 嗨，哥们~\nSAY 行人？ （一言不发的拖着车）\nSAY 艾尔 哥们，想问下，附近有啥村子啥的吗？咱们是打东北面来的，要上王都去，问下还有多远哈~\nSAY 行人？ 吼~\nSAY 艾尔 哎哟我去，哥们你这脸也忒吓人了。\nSAY 亚莲娜 艾尔小心，他不是人类！\nSAY 艾尔 哈？\nSAY ？？？ （刺！）\nSAY 行人？ 吼！（倒下）\nSAY ？？？ 喂，你们俩，是活人？\nSAY 艾尔 哥们你好厉害！一刀一个啊！\nSAY ？？？ 这附近都被污染了，呆在外面久了也会被感染的，你们是从哪来的？\nSAY 艾尔 大哥我们是从东北来的，要去王都。\nSAY ？？？ 王都？别开玩笑了，那地方现在谁敢去。就这一个小僵尸都能吓你们一跳的，去王都不是给僵尸投食么。\nSAY 亚莲娜 请问大哥附近发生了什么事呢？\nSAY ？？？ 拜尔已经不是活人的世界了，你们快逃去奥兰吧，别去安东尼奥，那群疯子骑士知道你们是拜尔来的，会直接灭口的。\nSAY ？？？ 别耽误时间了，我要赶去前面的一个避难所，通知他们尽快迁徙。你们也快往回走吧。\nSAY 艾尔 大哥等等……\nASIDE 那人已经瞬间没了踪影\nWAIT 1000\nSAY 艾尔 那我们接下来怎么办呢？掉头回去吗？\nSAY 亚莲娜 那个人未必可信，我们先跟上去看看吧。 \n"},8041:e=>{e.exports="\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY ？？？ 你是什么人？怎么会有我们的联络名单的？\nSAY 死灵法师奈布 哼哼，避难所773号，四十八个灵魂，一个白银三个青铜，我就收下了。这一片还有十七个避难所吧，真是甜美的晚餐啊。\nSAY ？？？ 可恶……\nSAY 亚莲娜 这是……\nSAY 死灵法师奈布 呵呵，小法师，我们又见面了。\nSAY 亚莲娜 又是你？\nSAY 艾尔 这里发生了什么事？\nSAY 亚莲娜 是那个死灵法师！我们在闪银村的时候，就是他的阵法让大家都发疯了！\nSAY 死灵法师奈布 哎哟不不不，小法师，可不要冤枉我，我的阵法只是普通的聚魂阵，至于发疯嘛，那可是另有原因的。\nSAY 艾尔 你这个邪恶的法师，拿命来！\n"},5514:e=>{e.exports='\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY 艾尔 大哥你没事吧，我们来晚一步……\nSAY ？？？ 避难所也不安全了。。我得去通知附近的其它避难所！\nSAY 艾尔 大哥你受伤这么重，还是别乱动了，那个死灵法师已经被我们打死啦。\nSAY 亚莲娜 艾尔，那个死灵法师可能会有复活的手段。之前，我在闪银村已经和他交战过了。\nASIDE 亚莲娜讲述了在邻村发生的事情。\nSAY ？？？ 你们不知道，这场瘟疫，覆盖的不只是你们村子，是整个，整个拜尔王国呀！\nSAY ？？？ 王都因为人口众多，现在已经是一片人间炼狱了！\nSAY 艾尔 圣光啊……那教会那边呢？\nSAY ？？？ 圣光……哼哼，那帮脑子里进了圣光的榆木脑袋除了净化就是净化，拜尔本土的教会除了硬刚就是硬上，一点战术都没有，现在已经全都挂成亡灵战士了。\nSAY ？？？ 安东尼奥的教会总部倒是反应快，直接宣布整个拜尔帝国都是异端之国，现在派了一大堆圣殿骑士围在拜尔边境上，见人就砍。\nSAY 艾尔 那我们……怎么办？\nSAY ？？？ 怎么办？小兄弟，不怎么办。现如今这情况，能多活一秒就是一秒。躲吧，藏吧。想尽办法吧。\nSAY 艾尔 ……\nSAY 亚莲娜 好了，大哥，我们还是先通知其他的避难所吧。赶紧通知大家要紧。\nSAY ？？？ ……\nSAY ？？？ 小兄弟，附近的避难所还是由我来通知吧。你们还是先去总部躲一躲。从这里往南十里，有一个隐秘的矿洞，从外面看只有几米深，其实里面四通八达。\nSAY ？？？ 但是你们不要乱闯，那里也设置了非常多的机关和暗哨。你们到矿洞门口大喊三声"主神大人最美丽"，会有人来引你们进去。\nSAY 艾尔 主……主什么？\nSAY ？？？ 这是暗语，你照着念就可以了。快别耽误时间了，到了你就知道了。我们快点集合所有人，准备一起迁徙到奥兰了！\nSAY 艾尔 好的……那大哥你保重，我们出发了。\nWAIT 1000\n\nSCENE 大路上\nSAY 亚莲娜 艾尔，我们先给村长飞鸽传书，让他们还是改道奥兰吧。\nSAY 艾尔 好的。\nASIDE 艾尔放飞了信鸽\nSAY 亚莲娜 然后……我们要去他说的地方吗？\nSAY 亚莲娜 认识这么久，我们都还不知道他的名字，还有什么暗语，搞的神神秘秘，我们能信任他吗？\nSAY 艾尔 我也不知道耶……我倒是觉得大哥人还是蛮好的。\nSAY 亚莲娜 我还是不放心，我想去艾因罗丹特求援。\nSAY 艾尔 去向法师求援吗？哎哎我不行，那些法师一个个躲在塔里，搞的神神秘秘的，我才不想和他们打交道呢。\nSAY 艾尔 我倒是觉得对付亡灵瘟疫，还是应该向圣光教会求助。\nSAY 亚莲娜 什么？那可是一帮是非不分的杀人凶手啊！\nSAY 艾尔 哎，可是要说到对付骷髅和僵尸，还是……而且我小时候，一直是被附近的教会照顾着，我想教会里还是好人多的。\nSAY 亚莲娜 艾尔，那我们分手吧。\nSAY 艾尔 咦咦咦咦？\nSAY 亚莲娜 我是说我们分头出发吧，我向北前往艾因罗丹特，你向东去安东尼奥找圣光教会。然后，我们去奥兰会合吧。\nSAY 艾尔 我……我考虑一下。\n\nSAY 系统 接下来，是艾尔和亚莲娜一起前往避难所总部呢，还是让艾尔去安东尼奥教会，或者是让亚莲娜前往艾因罗丹特呢？\nSAY 系统 不用担心因此错过支线剧情，没选中的支线剧情将来还可以在"故事-情报兑换"中兑换哦~\n'},9239:e=>{e.exports="\nSCENE 边界森林\nSAY 娜娜 辛巴，辛巴，森林里来了一群陌生的动物，你的子民们都被他们击败了！\nSAY 辛巴 什么？我将在前面的道路上挑战他们，看看谁才是森林的王者！\n"},5088:e=>{e.exports='\nSCENE 森林深处\nSAY 辛巴 人类，我承认你的实力，但请速速离去吧，你不属于这篇森林！\nSAY 艾尔 尊敬的狮子王大人，我无意冒犯您的权威，只要您允许我通行，让您的子民不要打扰我，我将从前方径直离开这篇森林！\nSAY 辛巴 如你所愿，人类。\n\nSAY 系统 这里已经是当前版本的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},8700:(e,t,n)=>{e.exports=[{key:"chapter3-1",group:"无人之境",name:"无人之境 - 1",requirement:{$or:[{stories:["eyer-grow-5"]},{stories:["aleanor-stories-6"]}]},script:n(5910)},{key:"chapter3-2",group:"无人之境",name:"无人之境 - 2",requirement:{stories:["chapter3-1"],map:"chapter3.road"},script:n(3027)},{key:"chapter3-3",group:"无人之境",name:"无人之境 - 3",requirement:{stories:["chapter3-2"],map:"chapter3.road"},script:n(7564),taskType:"kill",enemy:"chapter3.undead.zombie",killCount:10},{key:"chapter3-4",group:"无人之境",name:"无人之境 - 4",requirement:{stories:["chapter3-3"],map:"chapter3.shelter773"},script:n(8041)},{key:"chapter3-5",group:"无人之境",name:"无人之境 - 5",requirement:{stories:["chapter3-4"],map:"chapter3.shelter773"},script:n(5514),taskType:"kill",enemy:"chapter3.necromancer",killCount:1},{key:"chapter3-6",group:"前往奥兰",name:"前往奥兰 - 1",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(9239),taskType:"kill",enemy:"chapter3.beast.lion",killCount:10},{key:"chapter3-7",group:"前往奥兰",name:"前往奥兰 - 2",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(5088),taskType:"kill",enemy:"chapter3.beast.simba",killCount:1},{key:"career-lv80",group:"三转",name:"三转",requirement:{map:"chapter4.sanAnthony2"},taskType:"kill",enemy:"chapter4.humans.boss.evil",killCount:1}]},4589:(e,t,n)=>{e.exports=[...n(3150),...n(7811),...n(8700),...n(4987),...n(1507),...n(3220),...n(8995)]},8995:(e,t,n)=>{e.exports=[{key:"pal-1",group:"偶遇-1",name:"偶遇-1",requirement:{stories:["aleanor-stories-6"]},script:n(368),taskType:"kill",enemy:"knight.leader",killCount:15},{key:"pal-2",group:"圣骑士-2",name:"圣骑士-2",requirement:{stories:["pal-1"]},script:n(729),taskType:"kill",enemy:"paladin_ariel",killCount:1},{key:"pal-3",group:"圣骑士-3",name:"圣骑士-3",requirement:{role:"Ariel",map:"home"}}]},368:e=>{e.exports="\nSCENE 邻村村口-2\n\nSAY 系统 当你清点完卡罗给你的战利品之后\nSAY 系统 非常凑巧地遇上了赶来救援闪银村的伊瑞尔\nSAY 系统 根据传统剧情的发展，你已经被当做是这一切惨状的罪魁祸首\nWAIT 1000\n\nSAY 系统 尝试击败伊瑞尔并向他说明这一切，他会相信你的。\nASIDE 伊瑞尔是一名出身于庇护之地的杰出圣骑士，在他们看来圣殿骑士们才是真正的异端，同时这也是他此次救援闪银村的原因，只是因为剧情的原因而没有赶上。\n \n"},729:e=>{e.exports="\nSCENE 邻村村口-2\n\nSAY 系统 击败伊瑞尔之后，你向他解释了发生的一切。\nSAY 系统 现在，你现在可以创建角色“伊瑞尔”来体验新职业“圣骑士”了。\nWAIT 1000\n\nSAY 系统 同样作为隐藏职业，“圣骑士”也仅有一次创建角色的机会，误删之后无法恢复或者再次创建。\n"},1507:e=>{e.exports=[{key:"purchase-rates-lvl-60",script:"\nSAY 系统 恭喜您达到60级。从现在开始，所有的神力购买和兑换都将提升50%收益。\nSAY 系统 现在您可以继续挑战副本，提升装备，然后进行试炼挑战，就可以继续提升到70级了。\n",requirement:{level:600},awards:{purchaseRate:.5}},{key:"purchase-rates-lvl-70",script:"\nSAY 系统 恭喜您达到70级。从现在开始，所有的神力购买和兑换都将提升100%收益。\nSAY 系统 现在您可以继续挑战副本，在亚莲娜的噩梦中挽救木灵一族！\n",requirement:{level:700},awards:{purchaseRate:.5}}]},3220:(e,t,n)=>{e.exports=[{key:"soulbringer-1",group:"？？-1",name:"？？-1",requirement:{},script:n(1688),taskType:"kill",enemy:"chapter3.necromancer",killCount:100},{key:"soulbringer-2",group:"黑暗君主-2",name:"黑暗君主-2",requirement:{},script:n(961),taskType:"kill",enemy:"soul_karon",killCount:1},{key:"soulbringer-3",group:"黑暗君主-3",name:"黑暗君主-3",requirement:{role:"iPhone14promax",map:"home"}}]},1688:e=>{e.exports="\nSCENE 庇护所深处\n\nSAY 系统 这是你第101次来到庇护所\nSAY 系统 不同的是，这一次你在庇护所的深处遇到了一个奇怪的男人\nSAY 系统 男人的头顶上漂浮着“百鬼之王·卡隆”几个大字\nSAY 系统 虽然现在的你还不够强大，但他已经等你很久了\nWAIT 1500\n\nSAY 系统 尝试向他发起挑战并击败他！\nASIDE 百鬼之王·卡隆是非常强大的敌人，建议在满级且具备一定的装备基础后再发起挑战。\n \n"},961:e=>{e.exports="\nSCENE \n\nSAY 系统 你竟然轻而易举地击败了百鬼之王·卡隆\nSAY 系统 不愧是创世神艾尔所挑选的种子\nSAY 系统 作为奖励，你现在可以创建角色“恶魔五月哭”来体验新职业“黑暗君主”了\nWAIT 1500\n\nSAY 系统 忘记提醒你了，“黑暗君主”作为强大的隐藏职业，仅有一次创建角色的机会\nSAY 系统 所以，假如你误删了角色，既无法恢复，也不能再次创建\n"},9818:e=>{e.exports={bankByDiamonds:[10,10,20,30,40,60,90,130,190,280,410,600,880,1290,1890,2770,4060,5950,8720,12780,18730,27450,40230,58960,86410,126640,185600,272010],inventoryByDiamonds:[1,1,2,3,4,6,9,13,19,28,41,60,88,129,189,277,406,595,872,1278,1873,2745,4023,5896,8641,12664,18560,27201,39865,58425,85626,125491],inventory:[{},{},{},{},{},{},{},{},{},{},{},{},{gold:10},{gold:20},{gold:30},{gold:50},{gold:80,wuxingshi:1},{gold:130,wuxingshi:1},{gold:210,wuxingshi:2},{gold:340,wuxingshi:3},{gold:550,wuxingshi:4},{gold:890,wuxingshi:6},{gold:1440,wuxingshi:9},{gold:2330,wuxingshi:13},{gold:3770,wuxingshi:19},{gold:6100,wuxingshi:28},{gold:9870,wuxingshi:41},{gold:15970,wuxingshi:60},{gold:25840,wuxingshi:88},{gold:41810,wuxingshi:129},{gold:67650,wuxingshi:189},{gold:109460,wuxingshi:277},{gold:177110,wuxingshi:406},{gold:286570,wuxingshi:595},{gold:463680,wuxingshi:872},{gold:750250,wuxingshi:1278},{gold:1213930,wuxingshi:1873},{gold:1964180,wuxingshi:2745},{gold:3178110,wuxingshi:4023},{gold:5142290,wuxingshi:5896}]}},4526:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},3358:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},3527:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},7942:e=>{"use strict";e.exports=function(e){return e[1]}},5516:(e,t,n)=>{var r={EventEmitter:n(2985),EmitterSubscription:n(5435)};e.exports=r},2985:(e,t,n)=>{"use strict";var r=n(5435),i=n(9143),s=n(2205),a=n(4936),o=function(){function e(){this._subscriber=new i,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r(this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||s(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(a.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]];i&&(this._currentSubscription=i,this.__emitToSubscription.apply(this,[i].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=o},5435:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).listener=n,i.context=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(n(7565));e.exports=r},7565:e=>{"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},9143:(e,t,n)=>{"use strict";var r=n(2205),i=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&r(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},4936:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},2205:e=>{"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(t.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},8135:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2782:(e,t)=>{var n,r,i,s,a,o,l,u,c,p,h,f={userAgent:!1},d={},m=m||(n=Math,i=(r={}).lib={},s=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var a=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=a<<24-(r+s)%4*8}else for(s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new a.init(t,e)}}),o=r.enc={},l=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,s=this.blockSize,o=i/(4*s),l=(o=e?n.ceil(o):n.max((0|o)-this._minBufferSize,0))*s,u=n.min(4*l,i);if(l){for(var c=0;c<l;c+=s)this._doProcessBlock(r,c);var p=r.splice(0,l);t.sigBytes-=u}return new a.init(p,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),h=r.algo={},r);!function(e){var t,n=(t=m).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var s=e[r];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),m.lib.Cipher||function(e){var t=(f=m).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,s=f.enc.Base64,a=f.algo.EvpKDF,o=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?d:h).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?d:h).decrypt(e,t,n,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=f.mode={},u=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;u.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),u.call(this,e,t,r),this._prevBlock=i}}),l=l.CBC=c,c=(f.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);n=r.create(s,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:l,padding:c}),reset:function(){o.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var p=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(l=(f.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){var t=(e=s.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,p.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),f=(f.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=a.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,p.create({key:e,iv:n,salt:i})}},d=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:f}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=h.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,h.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],s=[],a=[],o=[],l=[],u=[],c=[],p=[],h=[],f=[],d=0;256>d;d++)f[d]=128>d?d<<1:d<<1^283;var g=0,y=0;for(d=0;256>d;d++){var v=(v=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&v^99;r[g]=v,i[v]=g;var b=f[g],k=f[b],w=f[k],x=257*f[v]^16843008*v;s[g]=x<<24|x>>>8,a[g]=x<<16|x>>>16,o[g]=x<<8|x>>>24,l[g]=x,x=16843009*w^65537*k^257*b^16843008*g,u[v]=x<<24|x>>>8,c[v]=x<<16|x>>>16,p[v]=x<<8|x>>>24,h[v]=x,g?(g=b^f[f[f[w^b]]],y^=f[f[y]]):g=y=1}var _=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],s=0;s<n;s++)if(s<t)i[s]=e[s];else{var a=i[s-1];s%t?6<t&&4==s%t&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=_[s/t|0]<<24),i[s]=i[s-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)s=n-t,a=t%4?i[s]:i[s-4],e[t]=4>t||4>=s?a:u[r[a>>>24]]^c[r[a>>>16&255]]^p[r[a>>>8&255]]^h[r[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,o,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,p,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,a,o){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],p=e[t+2]^n[2],h=e[t+3]^n[3],f=4,d=1;d<l;d++){var m=r[u>>>24]^i[c>>>16&255]^s[p>>>8&255]^a[255&h]^n[f++],g=r[c>>>24]^i[p>>>16&255]^s[h>>>8&255]^a[255&u]^n[f++],y=r[p>>>24]^i[h>>>16&255]^s[u>>>8&255]^a[255&c]^n[f++];h=r[h>>>24]^i[u>>>16&255]^s[c>>>8&255]^a[255&p]^n[f++],u=m,c=g,p=y}m=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[p>>>8&255]<<8|o[255&h])^n[f++],g=(o[c>>>24]<<24|o[p>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^n[f++],y=(o[p>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[f++],h=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&p])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=h},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=m,r=(i=n.lib).WordArray,i=i.BlockCipher,s=n.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],s=l[r];for(n=0;24>n;n++)i[n/6|0]|=t[(o[n]-1+s)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(o[n+24]-1+s)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var s=0;16>s;s++){for(var a=i[s],o=this._lBlock,l=this._rBlock,p=0,h=0;8>h;h++)p|=u[h][((l^a[h])&c[h])>>>0];this._lBlock=l,this._rBlock=o^p}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(p),s=s.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=p.createEncryptor(r.create(e.slice(0,2))),this._des2=p.createEncryptor(r.create(e.slice(2,4))),this._des3=p.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(s)}(),function(){var e=m,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(s>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r.indexOf(e.charAt(a-1))<<a%4*2,l=r.indexOf(e.charAt(a))>>>6-a%4*2;i[s>>>2]|=(o|l)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,s,a){return((e=e+(t&n|~t&r)+i+a)<<s|e>>>32-s)+t}function n(e,t,n,r,i,s,a){return((e=e+(t&r|n&~r)+i+a)<<s|e>>>32-s)+t}function r(e,t,n,r,i,s,a){return((e=e+(t^n^r)+i+a)<<s|e>>>32-s)+t}function i(e,t,n,r,i,s,a){return((e=e+(n^(t|~r))+i+a)<<s|e>>>32-s)+t}for(var s=m,a=(l=s.lib).WordArray,o=l.Hasher,l=s.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;l=l.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var a=0;16>a;a++){var o=e[l=s+a];e[l]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}a=this._hash.words;var l=e[s+0],c=(o=e[s+1],e[s+2]),p=e[s+3],h=e[s+4],f=e[s+5],d=e[s+6],m=e[s+7],g=e[s+8],y=e[s+9],v=e[s+10],b=e[s+11],k=e[s+12],w=e[s+13],x=e[s+14],_=e[s+15],E=t(E=a[0],D=a[1],A=a[2],S=a[3],l,7,u[0]),S=t(S,E,D,A,o,12,u[1]),A=t(A,S,E,D,c,17,u[2]),D=t(D,A,S,E,p,22,u[3]);E=t(E,D,A,S,h,7,u[4]),S=t(S,E,D,A,f,12,u[5]),A=t(A,S,E,D,d,17,u[6]),D=t(D,A,S,E,m,22,u[7]),E=t(E,D,A,S,g,7,u[8]),S=t(S,E,D,A,y,12,u[9]),A=t(A,S,E,D,v,17,u[10]),D=t(D,A,S,E,b,22,u[11]),E=t(E,D,A,S,k,7,u[12]),S=t(S,E,D,A,w,12,u[13]),A=t(A,S,E,D,x,17,u[14]),E=n(E,D=t(D,A,S,E,_,22,u[15]),A,S,o,5,u[16]),S=n(S,E,D,A,d,9,u[17]),A=n(A,S,E,D,b,14,u[18]),D=n(D,A,S,E,l,20,u[19]),E=n(E,D,A,S,f,5,u[20]),S=n(S,E,D,A,v,9,u[21]),A=n(A,S,E,D,_,14,u[22]),D=n(D,A,S,E,h,20,u[23]),E=n(E,D,A,S,y,5,u[24]),S=n(S,E,D,A,x,9,u[25]),A=n(A,S,E,D,p,14,u[26]),D=n(D,A,S,E,g,20,u[27]),E=n(E,D,A,S,w,5,u[28]),S=n(S,E,D,A,c,9,u[29]),A=n(A,S,E,D,m,14,u[30]),E=r(E,D=n(D,A,S,E,k,20,u[31]),A,S,f,4,u[32]),S=r(S,E,D,A,g,11,u[33]),A=r(A,S,E,D,b,16,u[34]),D=r(D,A,S,E,x,23,u[35]),E=r(E,D,A,S,o,4,u[36]),S=r(S,E,D,A,h,11,u[37]),A=r(A,S,E,D,m,16,u[38]),D=r(D,A,S,E,v,23,u[39]),E=r(E,D,A,S,w,4,u[40]),S=r(S,E,D,A,l,11,u[41]),A=r(A,S,E,D,p,16,u[42]),D=r(D,A,S,E,d,23,u[43]),E=r(E,D,A,S,y,4,u[44]),S=r(S,E,D,A,k,11,u[45]),A=r(A,S,E,D,_,16,u[46]),E=i(E,D=r(D,A,S,E,c,23,u[47]),A,S,l,6,u[48]),S=i(S,E,D,A,m,10,u[49]),A=i(A,S,E,D,x,15,u[50]),D=i(D,A,S,E,f,21,u[51]),E=i(E,D,A,S,k,6,u[52]),S=i(S,E,D,A,p,10,u[53]),A=i(A,S,E,D,v,15,u[54]),D=i(D,A,S,E,o,21,u[55]),E=i(E,D,A,S,g,6,u[56]),S=i(S,E,D,A,_,10,u[57]),A=i(A,S,E,D,d,15,u[58]),D=i(D,A,S,E,w,21,u[59]),E=i(E,D,A,S,h,6,u[60]),S=i(S,E,D,A,b,10,u[61]),A=i(A,S,E,D,c,15,u[62]),D=i(D,A,S,E,y,21,u[63]),a[0]=a[0]+E|0,a[1]=a[1]+D|0,a[2]=a[2]+A|0,a[3]=a[3]+S|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var s=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=o._createHelper(l),s.HmacMD5=o._createHmacHelper(l)}(Math),function(){var e=m,t=(i=e.lib).WordArray,n=i.Hasher,r=[],i=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],u=0;80>u;u++){if(16>u)r[u]=0|e[t+u];else{var c=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=c<<1|c>>>31}c=(i<<5|i>>>27)+l+r[u],c=20>u?c+(1518500249+(s&a|~s&o)):40>u?c+(1859775393+(s^a^o)):60>u?c+((s&a|s&o|a&o)-1894007588):c+((s^a^o)-899497514),l=o,o=a,a=s<<30|s>>>2,s=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(i),e.HmacSHA1=n._createHmacHelper(i)}(),function(e){for(var t=m,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,s=[],a=[],o=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var p=e.sqrt(c),h=2;h<=p;h++)if(!(c%h)){c=!1;break e}c=!0}c&&(8>u&&(s[u]=o(e.pow(l,.5))),a[u]=o(e.pow(l,1/3)),u++),l++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],l=n[4],u=n[5],c=n[6],p=n[7],h=0;64>h;h++){if(16>h)f[h]=0|e[t+h];else{var d=f[h-15],m=f[h-2];f[h]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+f[h-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[h-16]}d=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+a[h]+f[h],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),p=c,c=u,u=l,l=o+d|0,o=s,s=i,i=r,r=d+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var e=m,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=m,n=t.lib.Hasher,r=(s=t.x64).Word,i=s.WordArray,s=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],o=[],l=0;80>l;l++)o[l]=e();s=s.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(p=this._hash.words)[0],r=p[1],i=p[2],s=p[3],l=p[4],u=p[5],c=p[6],p=p[7],h=n.high,f=n.low,d=r.high,m=r.low,g=i.high,y=i.low,v=s.high,b=s.low,k=l.high,w=l.low,x=u.high,_=u.low,E=c.high,S=c.low,A=p.high,D=p.low,P=h,R=f,O=d,C=m,T=g,F=y,M=v,N=b,j=k,I=w,B=x,H=_,L=E,q=S,z=A,U=D,V=0;80>V;V++){var K=o[V];if(16>V)var Y=K.high=0|e[t+2*V],$=K.low=0|e[t+2*V+1];else{Y=(($=(Y=o[V-15]).high)>>>1|(W=Y.low)<<31)^($>>>8|W<<24)^$>>>7;var W=(W>>>1|$<<31)^(W>>>8|$<<24)^(W>>>7|$<<25),G=(($=(G=o[V-2]).high)>>>19|(J=G.low)<<13)^($<<3|J>>>29)^$>>>6,J=(J>>>19|$<<13)^(J<<3|$>>>29)^(J>>>6|$<<26),Q=($=o[V-7]).high,X=(Z=o[V-16]).high,Z=Z.low;Y=(Y=(Y=Y+Q+(($=W+$.low)>>>0<W>>>0?1:0))+G+(($+=J)>>>0<J>>>0?1:0))+X+(($+=Z)>>>0<Z>>>0?1:0),K.high=Y,K.low=$}Q=j&B^~j&L,Z=I&H^~I&q,K=P&O^P&T^O&T;var ee=R&C^R&F^C&F,te=(W=(P>>>28|R<<4)^(P<<30|R>>>2)^(P<<25|R>>>7),G=(R>>>28|P<<4)^(R<<30|P>>>2)^(R<<25|P>>>7),(J=a[V]).high),ne=J.low;X=z+((j>>>14|I<<18)^(j>>>18|I<<14)^(j<<23|I>>>9))+((J=U+((I>>>14|j<<18)^(I>>>18|j<<14)^(I<<23|j>>>9)))>>>0<U>>>0?1:0),z=L,U=q,L=B,q=H,B=j,H=I,j=M+(X=(X=(X=X+Q+((J+=Z)>>>0<Z>>>0?1:0))+te+((J+=ne)>>>0<ne>>>0?1:0))+Y+((J+=$)>>>0<$>>>0?1:0))+((I=N+J|0)>>>0<N>>>0?1:0)|0,M=T,N=F,T=O,F=C,O=P,C=R,P=X+(K=W+K+(($=G+ee)>>>0<G>>>0?1:0))+((R=J+$|0)>>>0<J>>>0?1:0)|0}f=n.low=f+R,n.high=h+P+(f>>>0<R>>>0?1:0),m=r.low=m+C,r.high=d+O+(m>>>0<C>>>0?1:0),y=i.low=y+F,i.high=g+T+(y>>>0<F>>>0?1:0),b=s.low=b+N,s.high=v+M+(b>>>0<N>>>0?1:0),w=l.low=w+I,l.high=k+j+(w>>>0<I>>>0?1:0),_=u.low=_+H,u.high=x+B+(_>>>0<H>>>0?1:0),S=c.low=S+q,c.high=E+L+(S>>>0<q>>>0?1:0),D=p.low=D+U,p.high=A+z+(D>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(s),t.HmacSHA512=n._createHmacHelper(s)}(),function(){var e=m,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}(),function(){var e=m,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[w=t+n];e[w]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var c,p,h,f,d,m,g,y,v,b,k,w=this._hash.words,x=(r=l.words,u.words),_=i.words,E=s.words,S=a.words,A=o.words;for(m=c=w[0],g=p=w[1],y=h=w[2],v=f=w[3],b=d=w[4],n=0;80>n;n+=1)k=c+e[t+_[n]]|0,k=16>n?k+((p^h^f)+r[0]):32>n?k+((p&h|~p&f)+r[1]):48>n?k+(((p|~h)^f)+r[2]):64>n?k+((p&f|h&~f)+r[3]):k+((p^(h|~f))+r[4]),k=(k=(k|=0)<<S[n]|k>>>32-S[n])+d|0,c=d,d=f,f=h<<10|h>>>22,h=p,p=k,k=m+e[t+E[n]]|0,k=16>n?k+((g^(y|~v))+x[0]):32>n?k+((g&v|y&~v)+x[1]):48>n?k+(((g|~y)^v)+x[2]):64>n?k+((g&y|~g&v)+x[3]):k+((g^y^v)+x[4]),k=(k=(k|=0)<<A[n]|k>>>32-A[n])+b|0,m=b,b=v,v=y<<10|y>>>22,y=g,g=k;k=w[1]+h+v|0,w[1]=w[2]+f+b|0,w[2]=w[3]+d+m|0,w[3]=w[4]+c+g|0,w[4]=w[0]+p+y|0,w[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=m,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),a=this._iKey=n.clone(),o=s.words,l=a.words,u=0;u<r;u++)o[u]^=1549556828,l[u]^=909522486;s.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).HMAC,s=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,s=i.create(n.hasher,e),a=r.create(),o=r.create([1]),l=a.words,u=o.words,c=n.keySize;for(n=n.iterations;l.length<c;){var p=s.update(t).finalize(o);s.reset();for(var h=p.words,f=h.length,d=p,m=1;m<n;m++){d=s.finalize(d),s.reset();for(var g=d.words,y=0;y<f;y++)h[y]^=g[y]}a.concat(p),u[0]++}return a.sigBytes=4*c,a}});t.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}();var g,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="=";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=y.charAt(n>>6)+y.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=y.charAt(n>>2)+y.charAt((3&n)<<4)),v)for(;(3&r.length)>0;)r+=v;return r}function k(e){var t,n,r,i="",s=0;for(t=0;t<e.length&&e.charAt(t)!=v;++t)(r=y.indexOf(e.charAt(t)))<0||(0==s?(i+=D(r>>2),n=3&r,s=1):1==s?(i+=D(n<<2|r>>4),n=15&r,s=2):2==s?(i+=D(n),i+=D(r>>2),n=3&r,s=3):(i+=D(n<<2|r>>4),i+=D(15&r),s=0));return 1==s&&(i+=D(n<<2)),i}function w(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function x(){return new w(null)}"Microsoft Internet Explorer"==f.appName?(w.prototype.am=function(e,t,n,r,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var l=32767&this[e],u=this[e++]>>15,c=o*l+u*a;i=((l=a*l+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+o*u+(i>>>30),n[r++]=1073741823&l}return i},g=30):"Netscape"!=f.appName?(w.prototype.am=function(e,t,n,r,i,s){for(;--s>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},g=26):(w.prototype.am=function(e,t,n,r,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var l=16383&this[e],u=this[e++]>>14,c=o*l+u*a;i=((l=a*l+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+o*u,n[r++]=268435455&l}return i},g=28),w.prototype.DB=g,w.prototype.DM=(1<<g)-1,w.prototype.DV=1<<g,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-g,w.prototype.F2=2*g-52;var _,E,S="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array;for(_="0".charCodeAt(0),E=0;E<=9;++E)A[_++]=E;for(_="a".charCodeAt(0),E=10;E<36;++E)A[_++]=E;for(_="A".charCodeAt(0),E=10;E<36;++E)A[_++]=E;function D(e){return S.charAt(e)}function P(e,t){var n=A[e.charCodeAt(t)];return null==n?-1:n}function R(e){var t=x();return t.fromInt(e),t}function O(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function C(e){this.m=e}function T(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e,t){return e&t}function M(e,t){return e|t}function N(e,t){return e^t}function j(e,t){return e&~t}function I(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function B(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function L(e){return e}function q(e){this.r2=x(),this.q3=x(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}C.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},C.prototype.revert=function(e){return e},C.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},C.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},T.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},T.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},T.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,s=0;--r>=0;){var a=8==n?255&e[r]:P(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&128&e[0]&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|o,o=(this[n]&s)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&s)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}},w.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},w.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var s=x(),a=this.s,o=e.s,l=this.DB-O(r[r.t-1]);l>0?(r.lShiftTo(l,s),i.lShiftTo(l,n)):(r.copyTo(s),i.copyTo(n));var u=s.t,c=s[u-1];if(0!=c){var p=c*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),h=this.FV/p,f=(1<<this.F1)/p,d=1<<this.F2,m=n.t,g=m-u,y=null==t?x():t;for(s.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),w.ONE.dlShiftTo(u,y),y.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--g>=0;){var v=n[--m]==c?this.DM:Math.floor(n[m]*h+(n[m-1]+d)*f);if((n[m]+=s.am(0,v,n,g,0,u))<v)for(s.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(u,t),a!=o&&w.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var n=x(),r=x(),i=t.convert(this),s=O(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,r),(e&1<<s)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(n=this[a]>>o)>0&&(i=!0,s=D(n));a>=0;)o<t?(n=(this[a]&(1<<o)-1)<<t-o,n|=this[--a]>>(o+=this.DB-t)):(n=this[a]>>(o-=t)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=D(n));return i?s:"0"},w.prototype.negate=function(){var e=x();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new C(t):new T(t),this.exp(e,n)},w.ZERO=R(0),w.ONE=R(1),H.prototype.convert=L,H.prototype.revert=L,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},q.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},q.prototype.revert=function(e){return e},q.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},q.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},q.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/z[z.length-1];function V(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=R(n),i=x(),s=x(),a="";for(this.divRemTo(r,i,s);i.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,s);return s.intValue().toString(e)+a},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,a=0,o=0;o<e.length;++o){var l=P(e,o);l<0?"-"==e.charAt(o)&&0==this.signum()&&(i=!0):(a=t*a+l,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),M,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},w.prototype.bitwiseTo=function(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},w.prototype.changeBit=function(e,t){var n=w.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},w.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},w.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>z.length&&(e=z.length);for(var i=x(),s=0;s<e;++s){i.fromInt(z[Math.floor(Math.random()*z.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(w.ONE)&&0!=a.compareTo(t)){for(var o=1;o++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=x();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=x();return this.bitwiseTo(e,F,t),t},w.prototype.or=function(e){var t=x();return this.bitwiseTo(e,M,t),t},w.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,N,t),t},w.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,j,t),t},w.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+I(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=B(this[n]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,M)},w.prototype.clearBit=function(e){return this.changeBit(e,j)},w.prototype.flipBit=function(e){return this.changeBit(e,N)},w.prototype.add=function(e){var t=x();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},w.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),s=R(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new C(t):t.isEven()?new q(t):new T(t);var a=new Array,o=3,l=n-1,u=(1<<n)-1;if(a[1]=r.convert(this),n>1){var c=x();for(r.sqrTo(a[1],c);o<=u;)a[o]=x(),r.mulTo(c,a[o-2],a[o]),o+=2}var p,h,f=e.t-1,d=!0,m=x();for(i=O(e[f])-1;f>=0;){for(i>=l?p=e[f]>>i-l&u:(p=(e[f]&(1<<i+1)-1)<<l-i,f>0&&(p|=e[f-1]>>this.DB+i-l)),o=n;!(1&p);)p>>=1,--o;if((i-=o)<0&&(i+=this.DB,--f),d)a[p].copyTo(s),d=!1;else{for(;o>1;)r.sqrTo(s,m),r.sqrTo(m,s),o-=2;o>0?r.sqrTo(s,m):(h=s,s=m,m=h),r.mulTo(m,a[p],s)}for(;f>=0&&!(e[f]&1<<i);)r.sqrTo(s,m),h=s,s=m,m=h,--i<0&&(i=this.DB-1,--f)}return r.revert(s)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var n=e.clone(),r=this.clone(),i=R(1),s=R(0),a=R(0),o=R(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(e,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),s.subTo(o,s)):(r.subTo(n,r),t&&a.subTo(i,a),o.subTo(s,o))}return 0!=r.compareTo(w.ONE)?w.ZERO:o.compareTo(e)>=0?o.subtract(e):o.signum()<0?(o.addTo(e,o),o.signum()<0?o.add(e):o):o},w.prototype.pow=function(e){return this.exp(e,new H)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},w.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=z[z.length-1]){for(t=0;t<z.length;++t)if(n[0]==z[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<z.length;){for(var r=z[t],i=t+1;i<z.length&&r<U;)r*=z[i++];for(r=n.modInt(r);t<i;)if(r%z[t++]==0)return!1}return n.millerRabin(e)},w.prototype.square=function(){var e=x();return this.squareTo(e),e},V.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},V.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var K,Y,$,W=256;function G(){!function(e){Y[$++]^=255&e,Y[$++]^=e>>8&255,Y[$++]^=e>>16&255,Y[$++]^=e>>24&255,$>=W&&($-=W)}((new Date).getTime())}if(null==Y){var J;if(Y=new Array,$=0,void 0!==d&&(void 0!==d.crypto||void 0!==d.msCrypto)){var Q=d.crypto||d.msCrypto;if(Q.getRandomValues){var X=new Uint8Array(32);for(Q.getRandomValues(X),J=0;J<32;++J)Y[$++]=X[J]}else if("Netscape"==f.appName&&f.appVersion<"5"){var Z=d.crypto.random(32);for(J=0;J<Z.length;++J)Y[$++]=255&Z.charCodeAt(J)}}for(;$<W;)J=Math.floor(65536*Math.random()),Y[$++]=J>>>8,Y[$++]=255&J;$=0,G()}function ee(){if(null==K){for(G(),(K=new V).init(Y),$=0;$<Y.length;++$)Y[$]=0;$=0}return K.next()}function te(){}function ne(e,t){return new w(e,t)}function re(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function ae(e,t){this.x=t,this.q=e}function oe(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?w.ONE:r,this.zinv=null}function le(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new oe(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ne(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var s=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new w(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 1&r.length?"0"+r:r},ie.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return _e(s.hashHex(Ee(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var o,l="";for(o=0;o<t-e.length-2*r-2;o+=1)l+="\0";var u=n("")+l+""+e,c=new Array(r);(new te).nextBytes(c);var p=re(c,u.length,n),h=[];for(o=0;o<u.length;o+=1)h[o]=u.charCodeAt(o)^p.charCodeAt(o);var f=re(h,c.length,n),d=[0];for(o=0;o<c.length;o+=1)d[o+1]=c[o]^f.charCodeAt(o);return new w(d.concat(h))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var s=i.toString(16);return 1&s.length?"0"+s:s},ie.prototype.type="RSA",ie.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},ie.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16)}},ie.prototype.setPrivateEx=function(e,t,n,r,i,s,a,o){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16),this.p=ne(r,16),this.q=ne(i,16),this.dmp1=ne(s,16),this.dmq1=ne(a,16),this.coeff=ne(o,16)},ie.prototype.generate=function(e,t){var n=new te,r=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16),s=e/2-100,a=w.ONE.shiftLeft(s);;){for(;this.p=new w(e-r,1,n),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(r,1,n),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var l=this.q.subtract(this.p).abs();if(!(l.bitLength()<s||l.compareTo(a)<=0)){var u=this.p.subtract(w.ONE),c=this.q.subtract(w.ONE),p=u.multiply(c);if(0==p.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(p),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},ie.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=ne(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var s=255&n[r];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&s)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},ie.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=ne(e,16),i=this.doPrivate(r);return null==i?null:function(e,t,n,r){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,a=null;for(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return _e(s.hashHex(Ee(e),a))}),e=e.toByteArray(),o=0;o<e.length;o+=1)e[o]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*r+2)throw"Cipher too short";var o,l=e.substr(1,r),u=e.substr(r+1),c=se(u,r,n),p=[];for(o=0;o<l.length;o+=1)p[o]=l.charCodeAt(o)^c.charCodeAt(o);var h=se(String.fromCharCode.apply(String,p),e.length-r,n),f=[];for(o=0;o<u.length;o+=1)f[o]=u.charCodeAt(o)^h.charCodeAt(o);if((f=String.fromCharCode.apply(String,f)).substr(0,r)!==n(""))throw"Hash mismatch";var d=(f=f.substr(r)).indexOf("");if((-1!=d?f.substr(0,d).lastIndexOf("\0"):-1)+1!=d)throw"Malformed data";return f.substr(d+1)}(i,this.n.bitLength()+7>>3,t,n)},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ae.prototype.toBigInteger=function(){return this.x},ae.prototype.negate=function(){return new ae(this.q,this.x.negate().mod(this.q))},ae.prototype.add=function(e){return new ae(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ae.prototype.subtract=function(e){return new ae(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ae.prototype.multiply=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ae.prototype.square=function(){return new ae(this.q,this.x.square().mod(this.q))},ae.prototype.divide=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.sqrt=function(){return new ae(this.q,this.x.sqrt().mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new w("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),o=a.multiply(n),l=i.multiply(a),u=t.square().multiply(this.z),c=u.subtract(l.shiftLeft(1)).multiply(e.z).subtract(o).multiply(n).mod(this.curve.q),p=l.multiply(r).multiply(t).subtract(s.multiply(o)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(o)).mod(this.curve.q),h=o.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(p),h)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);w.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s)));var o=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(l),u)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),s=this,a=this.curve.q.subtract(e),o=a.multiply(new w("3")),l=new oe(this.curve,this.x,this.y),u=l.negate();for(t=r.bitLength()-2;t>0;--t){s=s.twice();var c=r.testBit(t);c!=n.testBit(t)&&(s=s.add(c?this:i))}for(t=o.bitLength()-2;t>0;--t){l=l.twice();var p=o.testBit(t);p!=a.testBit(t)&&(l=l.add(p?l:u))}return s},oe.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(s):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},le.prototype.getQ=function(){return this.q},le.prototype.getA=function(){return this.a},le.prototype.getB=function(){return this.b},le.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},le.prototype.getInfinity=function(){return this.infinity},le.prototype.fromBigInteger=function(e){return new ae(this.q,e)},le.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new w(o,16))),r=this.getA(),i=this.getB(),s=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(s=s.negate()),new oe(this,n,s);case 4:case 6:case 7:var a=(e.length-2)/2,o=e.substr(2,a),l=e.substr(a+2,a);return new oe(this,this.fromBigInteger(new w(o,16)),this.fromBigInteger(new w(l,16)));default:return null}},ae.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},oe.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var s=new w(r),a=new w(i);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(a))},oe.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),s=new w(r,16),a=new w(i,16);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(a))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add2D(a?this:i))}return s},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return s.equals(a)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),s=Object.hasOwnProperty;return function(n,a){var o,l,u=n.match(e),c=u[0],p=!1;"{"===c?o={}:"["===c?o=[]:(o=[],p=!0);for(var h=[o],f=1-p,d=u.length;f<d;++f){var m;switch((c=u[f]).charCodeAt(0)){default:(m=h[0])[l||m.length]=+c,l=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(t,r)),m=h[0],!l){if(!(m instanceof Array)){l=c||i;break}l=m.length}m[l]=c,l=void 0;break;case 91:m=h[0],h.unshift(m[l||m.length]=[]),l=void 0;break;case 93:case 125:h.shift();break;case 102:(m=h[0])[l||m.length]=!1,l=void 0;break;case 110:(m=h[0])[l||m.length]=null,l=void 0;break;case 116:(m=h[0])[l||m.length]=!0,l=void 0;break;case 123:m=h[0],h.unshift(m[l||m.length]={}),l=void 0}}if(p){if(1!==h.length)throw new Error;o=o[0]}else if(h.length)throw new Error;if(a){var g=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(s.call(n,i)&&n!==e){var o=g(n,i);void 0!==o?n[i]=o:(r||(r=[]),r.push(i))}if(r)for(var l=r.length;--l>=0;)delete n[r[l]]}return a.call(e,t,n)};o=g({"":o},"")}return o}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new w(r,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Ae(e,t)},this.newObject=function(e){var t=ce.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,s=t.DERBitString,a=t.DEROctetString,o=t.DERNull,l=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,p=t.DERNumericString,h=t.DERPrintableString,f=t.DERTeletexString,d=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,y=t.DERVisibleString,v=t.DERBMPString,b=t.DERSequence,k=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _=Object.keys(e);if(1!=_.length)throw new Error("key of param shall be only one.");var E=_[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new s(e[E]);if("octstr"==E)return new a(e[E]);if("null"==E)return new o(e[E]);if("oid"==E)return new l(e[E]);if("enum"==E)return new u(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new p(e[E]);if("prnstr"==E)return new h(e[E]);if("telstr"==E)return new f(e[E]);if("ia5str"==E)return new d(e[E]);if("utctime"==E)return new m(e[E]);if("gentime"==E)return new g(e[E]);if("visstr"==E)return new y(e[E]);if("bmpstr"==E)return new v(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var S=e[E],A=[],D=0;D<S.length;D++){var P=x(S[D]);A.push(P)}return new b({array:A})}if("set"==E){for(S=e[E],A=[],D=0;D<S.length;D++)P=x(S[D]),A.push(P);return new k({array:A})}if("tag"==E){var R=e[E];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var O=x(R[2]);return new w({tag:R[0],explicit:R[1],obj:O})}return new w(R)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var s=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=s.substr(1,7),"0"==s.substr(0,1)&&(t=t+"."+new w(r,2).toString(10),r="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new w(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",a=0;a<i;a++)s+="0";for(r=s+r,a=0;a<r.length-1;a+=7){var o=r.substr(a,7);a!=r.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ke(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Ke(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),s=String(i.getFullYear());"utc"==t&&(s=s.substr(2,2));var a=s+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var o=i.getMilliseconds();if(0!=o){var l=r(String(o),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,s){var a=new Date(Date.UTC(e,t-1,n,r,i,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Ke(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Ke(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},Ke(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Ke(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Ke(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ke(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",a=0;a<i;a++)s+="0";for(r=s+r,a=0;a<r.length-1;a+=7){var o=r.substr(a,7);a!=r.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),s=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(s),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Ke(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Ke(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Ke(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Ke(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Ke(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},Ke(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},Ke(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"utc",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"gen",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].tohex();return this.hV=e,this.hV}},Ke(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Ke(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1,n=fe,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(null==e.explicit&&(e.explicit=!0),null!=e.tage&&(e.tag=e.tage,e.explicit=!0),null!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),null!=e.str)this.hV=ke(e.str);else if(null!=e.hex)this.hV=e.hex;else{if(null==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return null==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,pe,he,fe=new function(){};function de(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function me(e){return de(function(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ve(e){return e.length%2==1&&(e="0"+e),ge(b(e))}function be(e){return k(ye(e))}function ke(e){return Re(Be(e)).toLowerCase()}function we(e){try{return decodeURIComponent(Oe(e))}catch(e){return null}}function xe(e){return we(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function _e(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Ee(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Se(e){var t=function(e){return b(e)}(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ae(e,t){return"-----BEGIN "+t+"-----\r\n"+Se(e)+"\r\n-----END "+t+"-----\r\n"}function De(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return function(e){return k(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){return Math.round(function(e){var t,n,r,i,s,a,o,l,u,c,p;if(p=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=p[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(p[2])-1,r=parseInt(p[3]),i=parseInt(p[4]),s=parseInt(p[5]),a=parseInt(p[6]),o=0,""!==(u=p[7])&&(c=(u.substr(1)+"00").substr(0,3),o=parseInt(c)),Date.UTC(t,n,r,i,s,a,o);throw new Error("unsupported zulu format: "+e)}(e)/1e3)}function Re(e){return e.replace(/%/g,"")}function Oe(e){return e.replace(/(..)/g,"%$1")}function Ce(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Te(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g);t=t.map((function(e){return e.replace(/^0+/,"")})),t=t.map((function(e){return""==e?"0":e}));var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function Fe(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length)try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}else{if(16!=e.length){if(32==e.length)return Te(e);if(64==e.length){try{return Te(e.substr(0,32))+"/"+Me(e.substr(32))}catch(e){throw t}return}return e}try{return Fe(e.substr(0,8))+"/"+Me(e.substr(8))}catch(e){throw t}}}function Me(e){var t,n=new Error("malformed mask");try{t=new w(e,16).toString(2)}catch(e){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function Ne(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return Ne((n=e.split("/"))[0])+je(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ce(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Ce((n=e.split("/"))[0])+je(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var s=0;s<4;s++)i+=("0"+parseInt(r[s]).toString(16)).slice(-2);return i}catch(e){throw t}}function je(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new w(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function Ie(e){var t=e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return we((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return we((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))}));return t.join("")}function Be(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+me(t[r]);return n}function He(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Le(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function qe(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function ze(e){if(!He(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),s=[],a=0;a<i.length/2;a++)s.push(parseInt(i.substr(2*a,2),16));var o=[],l="";for(a=0;a<s.length;a++)128&s[a]?l+=Ue((127&s[a]).toString(2),7):(l+=Ue((127&s[a]).toString(2),7),o.push(new String(parseInt(l,2))),l="");var u=t.join(".");return o.length>0&&(u=u+"."+o.join(".")),u}catch(e){return null}}fe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},fe.getL=function(e,t){var n=fe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},fe.getVblen=function(e,t){var n;return""==(n=fe.getL(e,t))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},fe.getVidx=function(e,t){var n=fe.getLblen(e,t);return n<0?n:t+2*(n+1)},fe.getV=function(e,t){var n=fe.getVidx(e,t),r=fe.getVblen(e,t);return e.substr(n,2*r)},fe.getTLV=function(e,t){return e.substr(t,2)+fe.getL(e,t)+fe.getV(e,t)},fe.getTLVblen=function(e,t){return 2+2*fe.getLblen(e,t)+2*fe.getVblen(e,t)},fe.getNextSiblingIdx=function(e,t){return fe.getVidx(e,t)+2*fe.getVblen(e,t)},fe.getChildIdx=function(e,t){var n,r,i,s=fe,a=[];n=s.getVidx(e,t),r=2*s.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var o=n;i<=r;){var l=s.getTLVblen(e,o);if((i+=l)<=r&&a.push(o),o+=l,i>=r)break}return a},fe.getNthChildIdx=function(e,t,n){return fe.getChildIdx(e,t)[n]},fe.getIdxbyList=function(e,t,n,r){var i,s,a=fe;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(s=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,s[i],n,r)},fe.getIdxbyListEx=function(e,t,n,r){var i,s,a=fe;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),s=a.getChildIdx(e,t);for(var o=0,l=0;l<s.length;l++){var u=e.substr(s[l],2);if("number"==typeof i&&!a.isContextTag(u)&&o==i||"string"==typeof i&&a.isContextTag(u,i))return a.getIdxbyListEx(e,s[l],n,r);a.isContextTag(u)||o++}return-1},fe.getTLVbyList=function(e,t,n,r){var i=fe,s=i.getIdxbyList(e,t,n,r);return-1==s||s>=e.length?null:i.getTLV(e,s)},fe.getTLVbyListEx=function(e,t,n,r){var i=fe,s=i.getIdxbyListEx(e,t,n,r);return-1==s?null:i.getTLV(e,s)},fe.getVbyList=function(e,t,n,r,i){var s,a,o=fe;return-1==(s=o.getIdxbyList(e,t,n,r))||s>=e.length?null:(a=o.getV(e,s),!0===i&&(a=a.substr(2)),a)},fe.getVbyListEx=function(e,t,n,r,i){var s,a,o=fe;return-1==(s=o.getIdxbyListEx(e,t,n,r))?null:(a=o.getV(e,s),"03"==e.substr(s,2)&&!1!==i&&(a=a.substr(2)),a)},fe.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=fe.getV(e,t);return"02"==r?parseInt(i,16):function(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var s=parseInt(i,2);return NaN==s?-1:s}catch(e){return-1}}(i)}catch(e){return n}},fe.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:ze(fe.getV(e,t))}catch(e){return n}},fe.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=fe.getOID(e,t,n);if(r==n)return n;var i=ce.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},fe.getString=function(e,t,n){null==n&&(n=null);try{return _e(fe.getV(e,t))}catch(e){return n}},fe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var s=e.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(2*o,2),16));var l=[],u="";for(o=0;o<a.length;o++)128&a[o]?u+=t((127&a[o]).toString(2),7):(u+=t((127&a[o]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},fe.dump=function(e,t,n,r){var i=fe,s=i.getV,a=i.dump,o=i.getChildIdx,l=e;e instanceof ce.asn1.ASN1Object&&(l=e.tohex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c,p=t.ommit_long_octet;if("01"==(c=l.substr(n,2)))return"00"==(h=s(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==c)return r+"INTEGER "+u(h=s(l,n),p)+"\n";if("03"==c){var h=s(l,n);return i.isASN1HEX(h.substr(2))?(w=r+"BITSTRING, encapsulates\n")+a(h.substr(2),t,0,r+"  "):r+"BITSTRING "+u(h,p)+"\n"}if("04"==c)return h=s(l,n),i.isASN1HEX(h)?(w=r+"OCTETSTRING, encapsulates\n")+a(h,t,0,r+"  "):r+"OCTETSTRING "+u(h,p)+"\n";if("05"==c)return r+"NULL\n";if("06"==c){var f=s(l,n),d=ce.asn1.ASN1Util.oidHexToInt(f),m=ce.asn1.x509.OID.oid2name(d),g=d.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==c)return r+"ENUMERATED "+parseInt(s(l,n))+"\n";if("0c"==c)return r+"UTF8String '"+we(s(l,n))+"'\n";if("13"==c)return r+"PrintableString '"+we(s(l,n))+"'\n";if("14"==c)return r+"TeletexString '"+we(s(l,n))+"'\n";if("16"==c)return r+"IA5String '"+we(s(l,n))+"'\n";if("17"==c)return r+"UTCTime "+we(s(l,n))+"\n";if("18"==c)return r+"GeneralizedTime "+we(s(l,n))+"\n";if("1a"==c)return r+"VisualString '"+we(s(l,n))+"'\n";if("1e"==c)return r+"BMPString '"+Ie(s(l,n))+"'\n";if("30"==c){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";w=r+"SEQUENCE\n";var y=t;if((2==(k=o(l,n)).length||3==k.length)&&"06"==l.substr(k[0],2)&&"04"==l.substr(k[k.length-1],2)){m=i.oidname(s(l,k[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=m,y=v}for(var b=0;b<k.length;b++)w+=a(l,y,k[b],r+"  ");return w}if("31"==c){w=r+"SET\n";var k=o(l,n);for(b=0;b<k.length;b++)w+=a(l,t,k[b],r+"  ");return w}if(128&(c=parseInt(c,16))){var w,x=31&c;if(32&c){for(w=r+"["+x+"]\n",k=o(l,n),b=0;b<k.length;b++)w+=a(l,t,k[b],r+"  ");return w}return h=s(l,n),fe.isASN1HEX(h)?(w=r+"["+x+"]\n")+a(h,t,0,r+"  "):(("68747470"==h.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(h=we(h)),r+"["+x+"] "+h+"\n")}return r+"UNKNOWN("+c+") "+s(l,n)+"\n"},fe.parse=function(e){var t=fe,n=t.parse,r=t.isASN1HEX,i=t.getV,s=t.getTLV,a=t.getChildIdx,o=ce.asn1,l=o.ASN1Util.oidHexToInt,u=o.x509.OID.oid2name,c=we,p=Ie,h=xe,f={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},d=e.substr(0,2),m={},g=i(e,0);if("01"==d)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==d)return{int:{hex:g}};if("03"==d)try{if("00"!=g.substr(0,2))throw"not encap";var y=g.substr(2);if(!r(y))throw"not encap";return{bitstr:{obj:n(y)}}}catch(e){var v=null;return g.length<=10&&(v=function(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var s=n.substr(i,2),a=parseInt(s,16).toString(2);r+=a=("0000000"+a).slice(-8)}return r.substr(0,r.length-t)}catch(e){return null}}(g)),null==v?{bitstr:{hex:g}}:{bitstr:{bin:v}}}else if("04"==d)try{if(!r(g))throw"not encap";return{octstr:{obj:n(g)}}}catch(e){return{octstr:{hex:g}}}else{if("05"==d)return{null:""};if("06"==d){var b=l(g),k=u(b);return""==k?{oid:b}:{oid:k}}if("0a"==d)return g.length>4?{enum:{hex:g}}:{enum:parseInt(g,16)};if("30"==d||"31"==d)return m[f[d]]=function(e){for(var t=[],r=a(e,0),i=0;i<r.length;i++){var o=r[i],l=s(e,o),u=n(l);t.push(u)}return t}(e),m;if("14"==d){var w=h(g);return m[f[d]]={str:w},m}if("1e"==d)return w=p(g),m[f[d]]={str:w},m;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(d))return w=c(g),m[f[d]]={str:w},m;if(d.match(/^8[0-9]$/))return null==(w=c(g))|""==w||null!=w.match(/[\x00-\x1F\x7F-\x9F]/)||null!=w.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:d,explicit:!1,hex:g}}:{tag:{tag:d,explicit:!1,str:w}};if(!d.match(/^a[0-9]$/)){var x=new ce.asn1.ASN1Object;return x.hV=g,{asn1:{tlv:d+x.getLengthHexFromValue()+g}}}try{if(!r(g))throw new Error("not encap");return{tag:{tag:d,explicit:!0,obj:n(g)}}}catch(e){return{tag:{tag:d,explicit:!0,hex:g}}}}},fe.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},fe.isASN1HEX=function(e){var t=fe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},fe.checkStrictDER=function(e,t,n,r,i){var s=fe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(s.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=s.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var o=s.getTLV(e,t),l=o.length-2-s.getL(e,t).length;if(l!==2*a)throw new Error("V string length and L's value not the same:"+l+"/"+2*a);if(0===t&&e.length!=o.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+o.length);var u=e.substr(t,2);if("02"===u){var c=s.getVidx(e,t);if("00"==e.substr(c,2)&&e.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var p=s.getVblen(e,t),h=0,f=s.getChildIdx(e,t),d=0;d<f.length;d++)h+=s.getTLV(e,f[d]).length,s.checkStrictDER(e,f[d],n,r,i);if(2*p!=h)throw new Error("sum of children's TLV length and L unmatch: "+2*p+"!="+h)}},fe.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,s=i.TBSCertificate,a=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new ce.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return Ae(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new s(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new a({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,s=t.DERSequence,a=n.AlgorithmIdentifier,o=n.Time,l=n.X500Name,u=n.Extensions,c=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var n=2;null!=t.version&&(n=t.version-1);var p=new r({obj:new i({int:n})});e.push(p)}return e.push(new i(t.serial)),e.push(new a({name:t.sigalg})),e.push(new l(t.issuer)),e.push(new s({array:[new o(t.notbefore),new o(t.notafter)]})),e.push(new l(t.subject)),e.push(new c(Ye.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new u(t.ext)})),new ce.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extensions=function(e){ce.asn1.x509.Extensions.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],s=i.extname,a=null;if(null!=i.extn)a=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==s)a=new r.SubjectKeyIdentifier(i);else if("keyUsage"==s)a=new r.KeyUsage(i);else if("subjectAltName"==s)a=new r.SubjectAltName(i);else if("issuerAltName"==s)a=new r.IssuerAltName(i);else if("basicConstraints"==s)a=new r.BasicConstraints(i);else if("nameConstraints"==s)a=new r.NameConstraints(i);else if("cRLDistributionPoints"==s)a=new r.CRLDistributionPoints(i);else if("certificatePolicies"==s)a=new r.CertificatePolicies(i);else if("policyMappings"==s)a=new r.PolicyMappings(i);else if("policyConstraints"==s)a=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==s)a=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==s)a=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==s)a=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==s)a=new r.AuthorityInfoAccess(i);else if("cRLNumber"==s)a=new r.CRLNumber(i);else if("cRLReason"==s)a=new r.CRLReason(i);else if("ocspNonce"==s)a=new r.OCSPNonce(i);else if("ocspNoCheck"==s)a=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==s)a=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=s)throw new Error("extension not supported:"+JSON.stringify(i));a=new r.SubjectDirectoryAttributes(i)}null!=a&&e.push(a)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.x509.Extensions,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),s=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),a=new Array;return a.push(e),this.critical&&a.push(new i),a.push(t),new s({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},Ke(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new ce.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(null!=e.names)return Ve(e.names,n);if(null!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},Ke(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof ce.asn1.ASN1Object)r.push(e[i]);else{var s=new n.DistributionPoint(e[i]);r.push(s)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},Ke(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},Ke(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},Ke(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],s=0;s<this.params.array.length;s++)t.push(new i(this.params.array[s]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=(ce.asn1.DERInteger,ce.asn1.x509.DisplayText),r=ce.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=ce.asn1.DERInteger,r=ce.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],s=this.params.noticenum,a=0;a<s.length;a++)i.push(new n(s[a]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},Ke(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.PolicyMappings=function(e){ce.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyMappings,ce.asn1.x509.Extension),ce.asn1.x509.PolicyConstraints=function(e){ce.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return null!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),null!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyConstraints,ce.asn1.x509.Extension),ce.asn1.x509.InhibitAnyPolicy=function(e){ce.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.InhibitAnyPolicy,ce.asn1.x509.Extension),ce.asn1.x509.NameConstraints=function(e){ce.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(null!=e.permit&&null!=e.permit.length){for(var n=[],s=0;s<e.permit.length;s++)n.push(new i(e.permit[s]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=e.exclude&&null!=e.exclude.length){var a=[];for(s=0;s<e.exclude.length;s++)a.push(new i(e.exclude[s]));t.push({tag:{tagi:"a1",obj:{seq:a}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.NameConstraints,ce.asn1.x509.Extension),ce.asn1.x509.GeneralSubtree=function(e){ce.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=ce.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return null!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),null!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.GeneralSubtree,ce.asn1.ASN1Object),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},Ke(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Ye.getKey(e));var n=Ye.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new Je;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},Ke(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=Ye.getKey(e));var r=Ye.getKeyID(n);this.asn1KID=new ce.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},Ke(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=ce.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,s=n.x509.GeneralName,a=0;a<e.length;a++){var o,l=e[a];if(void 0!==l.ocsp)o=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new s({uri:l.ocsp})]});else{if(void 0===l.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(l));o=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new s({uri:l.caissuer})]})}t.push(o)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},Ke(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.SubjectDirectoryAttributes=function(e){ce.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var s=this.params.array[t],a={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==s.attr)a.seq[0].oid=i(s.attr),a.seq[1].set[0]={gentime:s.str};else if("placeOfBirth"==s.attr)a.seq[0].oid=i(s.attr),a.seq[1].set[0]={utf8str:s.str};else if("gender"==s.attr)a.seq[0].oid=i(s.attr),a.seq[1].set[0]={prnstr:s.str};else if("countryOfCitizenship"==s.attr)a.seq[0].oid=i(s.attr),a.seq[1].set[0]={prnstr:s.str};else{if("countryOfResidence"!=s.attr)throw new Error("unsupported attribute: "+s.attr);a.seq[0].oid=i(s.attr),a.seq[1].set[0]={prnstr:s.str}}e.push(new r(a))}var o=new n({array:e});return this.asn1ExtnValue=o,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.SubjectDirectoryAttributes,ce.asn1.x509.Extension),ce.asn1.x509.PrivateExtension=function(e){ce.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=ce,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,s=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return s(e).tohex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},Ke(ce.asn1.x509.PrivateExtension,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,s=i.AlgorithmIdentifier,a=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new a(this.params).tohex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ae(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new a(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new s({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,s=(t.DERObjectIdentifier,t.x509),a=s.AlgorithmIdentifier,o=s.Time,l=s.Extensions,u=s.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var s=[new n(t[i].sn),new o(t[i].date)];null!=t[i].ext&&s.push(new l(t[i].ext)),e.push(new r({array:s}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(null!=t.version){var s=t.version-1,c=new n({int:s});e.push(c)}if(e.push(new a({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new o(t.thisupdate)),null!=t.nextupdate&&e.push(new o(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var p=new l(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:p}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},Ke(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.CRLNumber=function(e){ce.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRLNumber,ce.asn1.x509.Extension),ce.asn1.x509.CRLReason=function(e){ce.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRLReason,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNonce=function(e){ce.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},Ke(ce.asn1.x509.OCSPNonce,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNoCheck=function(e){ce.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},Ke(ce.asn1.x509.OCSPNoCheck,ce.asn1.x509.Extension),ce.asn1.x509.AdobeTimeStamp=function(e){ce.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,s=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new s({uri:e.uri})),null!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.AdobeTimeStamp,ce.asn1.x509.Extension),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],s=0;s<n.length;s++)if(n[s].match(/^[^=]+=.+$/))i.push(n[s]);else{var a=i.length-1;i[a]=i[a]+"/"+n[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new r({str:i[s],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new Je).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new Je).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var s=new t.DERSequence({array:this.asn1Array});return this.hTLV=s.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),t=t.map((function(e){return e.replace(/,/,"\\,")})),t.join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var s=t.shift();if(!0===n){var a=(r.pop()+","+s).replace(/\\,/g,",");r.push(a),n=!1}else r.push(s);"\\"===s.substr(-1,1)&&(n=!0)}return r=r.map((function(e){return e.replace("/","\\/")})),r.reverse(),"/"+r.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var s=t.shift();if(!0===n){var a=(r.pop()+"+"+s).replace(/\\\+/g,"+");r.push(a),n=!1}else r.push(s);"\\"===s.substr(-1,1)&&(n=!0)}var o=!1,l=[];for(i=0;r.length>0;i++){if(s=r.shift(),!0===o){var u=l.pop();s.match(/"$/)?(a=(u+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(a),o=!1):l.push(u+"+"+s)}else l.push(s);s.match(/^[^=]+="/)&&(o=!0)}return l},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=ce,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,s=n.DERPrintableString,a=n.DERTeletexString,o=n.DERIA5String,l=n.DERVisibleString,u=n.DERBMPString,c=t.lang.String.isMail,p=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&c(t)?"ia5":p(t)?"prn":"utf8":"utf8"===n?"CN"==e&&c(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new s({str:t});if("tel"==e)return new a({str:t});if("ia5"==e)return new o({str:t});if("vis"==e)return new l({str:t});if("bmp"==e)return new u({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=ce.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce,n=t.asn1,r=n.DERInteger,i=n.DERBitString,s=n.DERObjectIdentifier,a=n.DERSequence,o=n.ASN1Util.newObject,l=n.x509.AlgorithmIdentifier,u=t.crypto;u.ECDSA,u.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new a({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof ie){var t=o({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new l({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof ce.crypto.ECDSA){var n=new s({name:e.curveName});this.asn1AlgId=new l({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof ce.crypto.DSA){n=new o({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new l({name:"dsa",asn1params:n});var a=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+a.tohex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},Ke(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&null!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},ce.asn1.x509.Time_bak=function(e){ce.asn1.x509.Time_bak.superclass.constructor.call(this);var t=ce.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},Ke(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var s=new t.DERSequence({array:i});return this.hTLV=s.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},Ke(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t=ce.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,s=t.DERIA5String,a=(t.DERPrintableString,t.DEROctetString),o=t.DERTaggedObject,l=t.ASN1Object,u=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,c=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new s({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new s({str:n.dns});else if(void 0!==n.dn)e="a4",c=!0,t="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof ce.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",c=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var p,h;e="a4",c=!0;var f=null;if(void 0!==n.certsubj?(p=!1,h=n.certsubj):(p=!0,h=n.certissuer),h.match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(f=De(h)),null==f)throw new Error("certsubj/certissuer not cert");var d,m=new Je;m.hex=f,d=p?m.getIssuerHex():m.getSubjectHex(),(t=new l).hTLV=d}else if(void 0!==n.uri)e="86",t=new s({str:n.uri});else{if(void 0===n.ip)throw new u("improper params");var g;e="87";var y=n.ip;try{if(y.match(/^[0-9a-f]+$/)){var v=y.length;if(8!=v&&16!=v&&32!=v&&64!=v)throw"err";g=y}else g=Ne(y)}catch(e){throw new u("malformed IP address: "+n.ip+":"+e.message)}t=new a({hex:g})}return new o({tag:e,explicit:c,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},Ke(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.OtherName=function(e){ce.asn1.x509.OtherName.superclass.constructor.call(this);var t=ce.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null==e.oid||null==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),s=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.OtherName,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(){var e=ce.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(e){return!1}}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},ce.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERSet,s=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new s({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Ke(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t=ce.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,s=r.cms,a=s.ESSCertID;n.crypto,s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],s=0;s<n.length;s++){var o=n[s];0!=e.hasis||"string"!=typeof o||-1==o.indexOf("-----BEGIN")&&!fe.isASN1HEX(o)||(o={cert:o}),0!=o.hasis&&0==e.hasis&&(o.hasis=!1),r.push(new a(o))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertID=function(e){ce.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=ce,r=n.asn1,i=r.DEROctetString,s=r.DERSequence,a=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!fe.isASN1HEX(e))return e;var i,s,a;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(s=-1!=i.indexOf("-----BEGIN")?De(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?s=De(e):fe.isASN1HEX(e)&&(s=e)),null!=e.alg)a=e.alg;else{if(null==r)throw new t("hash alg unspecified");a=r}return n.crypto.Util.hashHex(s,a)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&n.push(new a(e)),new s({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ESSCertID,ce.asn1.ASN1Object),ce.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,s=(r.x509,r.cms),a=s.ESSCertIDv2;n.crypto,s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],s=0;s<n.length;s++){var o=n[s];null==e.alg&&0!=e.hasis||"string"!=typeof o||-1==o.indexOf("-----BEGIN")&&!fe.isASN1HEX(o)||(o={cert:o}),null==o.alg&&null!=e.alg&&(o.alg=e.alg),0!=o.hasis&&0==e.hasis&&(o.hasis=!1),r.push(new a(o))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertIDv2=function(e){ce.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=ce.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,s=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),a=[];return null!=e.alg&&"sha256"!=e.alg&&a.push(new s({name:e.alg})),a.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&a.push(new i(e)),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ESSCertIDv2,ce.asn1.cms.ESSCertID),ce.asn1.cms.IssuerSerial=function(e){var t=Error,n=ce.asn1,r=n.DERInteger,i=n.DERSequence,s=n.cms,a=n.x509.GeneralNames,o=Je;s.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,s=this.params;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN")||null!=s.cert){var l;l=null!=s.cert?s.cert:s;var u=new o;u.readCertPEM(l),e=u.getIssuer(),n={hex:u.getSerialNumberHex()}}else{if(null==s.issuer||!s.serial)throw new t("cert or issuer and serial parameter not specified");e=s.issuer,n=s.serial}var c=new a([{dn:e}]),p=new r(n);return new i({array:[c,p]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.SignerIdentifier=function(e){var t=ce.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error,n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignerIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,s=t.x509.X500Name,a=Je,o=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var l;l=null!=i.cert?i.cert:i;var u=new a;u.readCertPEM(l),e=u.getIssuer(),t={hex:u.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new o("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var c=new s(e),p=new n(t);return new r({array:[c,p]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.SubjectKeyIdentifier=function(e){var t=ce.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,Je),s=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new s("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SubjectKeyIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=Error,n=ce.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=e.sortflag&&(n=e.sortflag);for(var s=e.array,a=[],o=0;o<s.length;o++){var l=s[o],u=l.attr;if("contentType"==u)a.push(new i.ContentType(l));else if("messageDigest"==u)a.push(new i.MessageDigest(l));else if("signingTime"==u)a.push(new i.SigningTime(l));else if("signingCertificate"==u)a.push(new i.SigningCertificate(l));else if("signingCertificateV2"==u)a.push(new i.SigningCertificateV2(l));else if("signaturePolicyIdentifier"==u)a.push(new ce.asn1.cades.SignaturePolicyIdentifier(l));else{if("signatureTimeStamp"!=u&&"timeStampToken"!=u)throw new t("unknown attr: "+u);a.push(new ce.asn1.cades.SignatureTimeStamp(l))}}var c=new r({array:a,sortflag:n});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERInteger,s=r.DEROctetString,a=r.DERSequence,o=r.DERTaggedObject,l=r.cms,u=l.SignerIdentifier,c=l.AttributeList,p=(l.ContentType,l.EncapsulatedContentInfo,l.MessageDigest,l.SignedData,r.x509.AlgorithmIdentifier),h=n.crypto,f=Ye;l.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new c(e.sattrs).tohex(),r=f.getKey(e.signkey),i=new h.Signature({alg:t});i.init(r),i.updateHex(n);var s=i.sign();e.sighex=s},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new u(e.id)),n.push(new p({name:e.hashalg})),null!=e.sattrs){var r=new c(e.sattrs);try{n.push(new o({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?n.push(new p({name:e.sigalgfield})):n.push(new p({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),n.push(new s({hex:e.sighex})),null!=e.uattrs){r=new c(e.uattrs);try{n.push(new o({tag:"a1",explicit:!1,obj:r}))}catch(e){throw new t("si uattr error: "+e)}}return new a({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,s=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var a=new s(e.content),o=new n({tag:"a0",explicit:!0,obj:a});t.push(o)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var s=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(s),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){Error;var t=ce.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,s=(t.DERTaggedObject,t.cms),a=s.EncapsulatedContentInfo,o=s.SignerInfo,l=s.ContentInfo,u=s.CertificateSet,c=s.RevocationInfoChoices,p=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++)t[n[r].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);null==n&&"data"==t.type&&null!=t.content.str&&(n=Ee(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var s=r[i],a=s.hashalg,o=this._getAttrParamByName(s,"messageDigest"),l=ce.crypto.Util.hashHex(n,a);o.hex=l}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++)if(null!=t[n].ocsp)return 5;var r=e.sinfos;for(n=0;n<r.length;n++)if(3==e.sinfos[n].version)return 3;return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var s=[],l=0;l<e.hashalgs.length;l++){var h=e.hashalgs[l];s.push(new p({name:h}))}t.push(new r({array:s})),t.push(new a(e.econtent)),null!=e.certs&&t.push(new u(e.certs)),null!=e.revinfos&&t.push(new c(e.revinfos));var f=[];for(l=0;l<e.sinfos.length;l++){var d=e.sinfos[l];f.push(new o(d))}return t.push(new r({array:f})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new l({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CertificateSet=function(e){ce.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.DERTaggedObject,i=n.DERSet,s=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,a=[];if(n instanceof Array)e=n;else{if(null==n.array)throw new t("cert array not specified");e=n.array}for(var o=0;o<e.length;o++){var l=De(e[o]),u=new s;u.hTLV=l,a.push(u)}var c={array:a};0==n.sortflag&&(c.sortflag=!1);var p=new i(c);return new r({tag:"a0",explicit:!1,obj:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.CertificateSet,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoices=function(e){ce.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new ce.asn1.cms.RevocationInfoChoice(e[n]));return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.RevocationInfoChoices,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoice=function(e){ce.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=De(e.crl)),t}if(null!=e.ocsp)return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ce.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.RevocationInfoChoice,ce.asn1.ASN1Object),ce.asn1.cms.OtherRevocationFormat=function(e){ce.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=ce,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!fe.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.OtherRevocationFormat,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){return new ce.asn1.cms.SignedData(e)},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=ce,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),s=fe,a=s.getVbyList,o=s.getTLVbyList,l=s.getIdxbyList,u=s.getChildIdx,c=s.getTLV,p=s.oidname,h=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var f=e.cms,d=function(e,t){var n=t.idx;t.signerid_issuer1=o(e,n,[1,0],"30"),t.signerid_serial1=a(e,n,[1,1],"02"),t.hashalg=p(a(e,n,[2,0],"06"));var r=l(e,n,[3],"a0");t.idxSignedAttrs=r,m(e,t,r);var i=u(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=p(a(e,n,[i-2,0],"06")),t.sigval=a(e,n,[i-1],"04")},m=function(e,t,n){var r=u(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var s,o=r[i],l=a(e,o,[0],"06");"2a864886f70d010905"===l?(s=we(a(e,o,[1,0])),t.saSigningTime=s):"2a864886f70d010904"===l&&(s=a(e,o,[1,0],"04"),t.saMessageDigest=s)}},g=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,s=t.parse.econtent,a=n.hashalg,o=n.saMessageDigest;i.validMessageDigest=!1,h(s,a)===o&&(i.validMessageDigest=!0),function(e,t,n,r){var i,s=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var a=u(e,s),o=0;o<a.length;o++){var l=c(e,a[o]),p=new Je;p.readCertHex(l),i[o]=p,t.certkeys[o]=p.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=a.length,o=0;o<i.length;o++){var h=p.getIssuerHex(),f=p.getSerialNumberHex();n.signerid_issuer1===h&&n.signerid_serial1===f&&(n.certkey_idx=o)}}(e,t,n),i.validSignatureValue=!1;var l=n.sigalg,p="31"+c(e,n.idxSignedAttrs).substr(2);n.signedattrshex=p;var f=t.certs[n.certkey_idx].getPublicKey(),d=new ce.crypto.Signature({alg:l});d.init(f),d.updateHex(p);var m=d.verify(n.sigval);i.validSignatureValue_isValid=m,!0===m&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},y={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==a(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=a(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=l(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=u(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var s={idx:r[i]};d(e,s),t.signerInfos.push(s)}}}(e,t)}(f,y.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,s=0;s<r;s++){var a=n[s];g(e,t,a),a.isValid||(i=!1)}t.isValid=i}(f,y),y},ce.asn1.cms.CMSParser=function(){var e=Error,t=Je,n=new t,r=fe,i=r.getV,s=r.getTLV,a=(r.getIdxbyList,r.getTLVbyList),o=r.getTLVbyListEx,l=r.getVbyList,u=r.getVbyListEx,c=r.getChildIdx;this.getCMSSignedData=function(e){var t=a(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=c(e,0),n={},r=i(e,t[0]),a=parseInt(r,16);n.version=a;var l=s(e,t[1]);n.hashalgs=this.getHashAlgArray(l);var u=s(e,t[2]);n.econtent=this.getEContent(u);var p=o(e,0,["[0]"]);null!=p&&(n.certs=this.getCertificateSet(p)),o(e,0,["[1]"]);var h=o(e,0,[3]);return n.sinfos=this.getSignerInfos(h),n},this.getHashAlgArray=function(e){for(var n=c(e,0),r=new t,i=[],a=0;a<n.length;a++){var o=s(e,n[a]),l=r.getAlgorithmIdentifierName(o);i.push(l)}return i},this.getEContent=function(e){var t={},n=l(e,0,[0]),r=l(e,0,[1,0]);return t.type=ce.asn1.x509.OID.oid2name(fe.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=s(e,n[r]),a=this.getSignerInfo(i);t.push(a)}return t},this.getSignerInfo=function(e){var t={},i=c(e,0),a=r.getInt(e,i[0],-1);-1!=a&&(t.version=a);var l=s(e,i[1]),p=this.getIssuerAndSerialNumber(l);t.id=p;var h=s(e,i[2]),f=n.getAlgorithmIdentifierName(h);t.hashalg=f;var d=o(e,0,["[0]"]);if(null!=d){var m=this.getAttributeList(d);t.sattrs=m}var g=o(e,0,[3]),y=n.getAlgorithmIdentifierName(g);t.sigalg=y;var v=u(e,0,[4]);t.sighex=v;var b=o(e,0,["[1]"]);if(null!=b){var k=this.getAttributeList(b);t.uattrs=k}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=c(e,0),a=s(e,r[0]);t.issuer=n.getX500Name(a);var o=i(e,r[1]);return t.serial={hex:o},t},this.getAttributeList=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=s(e,n[r]),a=this.getAttribute(i);t.push(a)}return{array:t}},this.getAttribute=function(e){var t={},n=c(e,0),i=r.getOID(e,n[0]),a=ce.asn1.x509.OID.oid2name(i);t.attr=a;var o=s(e,n[1]),l=c(o,0);if(1==l.length)t.valhex=s(o,l[0]);else{for(var u=[],p=0;p<l.length;p++)u.push(s(o,l[p]));t.valhex=u}return"contentType"==a?this.setContentType(t):"messageDigest"==a?this.setMessageDigest(t):"signingTime"==a?this.setSigningTime(t):"signingCertificate"==a?this.setSigningCertificate(t):"signingCertificateV2"==a?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==a&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=we(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=s(e.valhex,t[0]),r=c(n,0),i=[],a=0;a<r.length;a++){var o=s(n,r[a]),l=this.getESSCertID(o);i.push(l)}e.array=i}if(t.length>1){var u=s(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=c(e.valhex,0);if(n.length>0){var a=r.getOID(e.valhex,n[0]);e.oid=a}if(n.length>1){var o=new t,l=c(e.valhex,n[1]),u=s(e.valhex,l[0]),p=o.getAlgorithmIdentifierName(u);e.alg=p;var h=i(e.valhex,l[1]);e.hash=h}delete e.valhex},this.setSigningCertificateV2=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=s(e.valhex,t[0]),r=c(n,0),i=[],a=0;a<r.length;a++){var o=s(n,r[a]),l=this.getESSCertIDv2(o);i.push(l)}e.array=i}if(t.length>1){var u=s(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.getESSCertID=function(e){var t={},n=c(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var a=s(e,n[1]),o=this.getIssuerSerial(a);null!=o.serial&&(t.serial=o.serial),null!=o.issuer&&(t.issuer=o.issuer)}return t},this.getESSCertIDv2=function(t){var r={},a=c(t,0);if(a.length<1||3<a.length)throw new e("wrong number of elements");var o=0;if("30"==t.substr(a[0],2)){var l=s(t,a[0]);r.alg=n.getAlgorithmIdentifierName(l),o++}else r.alg="sha256";var u=i(t,a[o]);if(r.hash=u,a.length>o+1){var p=s(t,a[o+1]),h=this.getIssuerSerial(p);r.issuer=h.issuer,r.serial=h.serial}return r},this.getIssuerSerial=function(e){var t={},r=c(e,0),a=s(e,r[0]),o=n.getGeneralNames(a)[0].dn;t.issuer=o;var l=i(e,r[1]);return t.serial={hex:l},t},this.getCertificateSet=function(e){for(var t=c(e,0),n=[],r=0;r<t.length;r++){var i=s(e,t[r]);if("30"==i.substr(0,2)){var a=Ae(i,"CERTIFICATE");n.push(a)}}return{array:n,sortflag:!1}}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.TimeStampToken=function(e){var t=ce.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampToken,ce.asn1.cms.SignedData),ce.asn1.tsp.TSTInfo=function(e){Error;var t=ce.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,s=t.DERGeneralizedTime,a=t.DERObjectIdentifier,o=t.DERTaggedObject,l=t.tsp,u=l.MessageImprint,c=l.Accuracy,p=(t.x509.X500Name,t.x509.GeneralName);if(l.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new u(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new s(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new o({tag:"a0",explicit:!0,obj:new p({dn:e.tsa})}))}},Ke(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),s=new r({hex:e.hash});return new n({array:[t,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,s=(t.ASN1Object,t.DERObjectIdentifier),a=t.tsp,o=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof ce.asn1.ASN1Object?t.push(e.messageImprint):t.push(new o(e.messageImprint)),null!=e.policy&&t.push(new s(e.policy)),null!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,s=[];if(null!=e.econtent||null!=e.tst)if(null!=e.statusinfo?s.push(new i(e.statusinfo)):s.push(new i("granted")),null!=e.econtent)s.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");s.push(e.tst)}else{if(null==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");s.push(new i(e.statusinfo))}return new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.tsp,s=i.PKIStatus,a=i.PKIFreeText,o=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new s(e));else{if(null==e.status)throw new t("property 'status' unspecified");n.push(new s(e.status)),null!=e.statusstr&&n.push(new a(e.statusstr)),null!=e.failinfo&&n.push(new o(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=Error,n=ce.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(e){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFreeText=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],s=0;s<e.length;s++)n.push(new i({str:e[s]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=ce.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,s={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",a=r.length-1;a>=0;a--)i+=r[a];return i}if("string"==typeof e&&null!=s[e])return Ve([e],s);if("object"==typeof e&&null!=e.length)return Ve(e,s);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:s},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new ce.asn1.tsp.TimeStampToken(e)},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new ce.asn1.tsp.TSPParser).getTimeStampReq(e)},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new ce.asn1.tsp.TSPParser).getMessageImprint(e)},ce.asn1.tsp.TSPParser=function(){Error;var e=new Je,t=fe,n=t.getV,r=t.getTLV,i=t.getIdxbyList,s=(t.getTLVbyListEx,t.getChildIdx),a=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],o={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=s(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),a=this.getToken(i);return a.statusinfo=n,a}},this.getToken=function(e){var t=(new ce.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},a=s(t,0),o=n(t,a[1]);i.policy=ze(o);var l=r(t,a[2]);i.messageImprint=this.getMessageImprint(l);var u=n(t,a[3]);i.serial={hex:u};var c=n(t,a[4]);i.genTime={str:we(c)};var p=0;if(a.length>5&&"30"==t.substr(a[5],2)){var h=r(t,a[5]);i.accuracy=this.getAccuracy(h),p++}if(a.length>5+p&&"01"==t.substr(a[5+p],2)&&("ff"==n(t,a[5+p])&&(i.ordering=!0),p++),a.length>5+p&&"02"==t.substr(a[5+p],2)){var f=n(t,a[5+p]);i.nonce={hex:f},p++}if(a.length>5+p&&"a0"==t.substr(a[5+p],2)){var d=r(t,a[5+p]);d="30"+d.substr(2),pGeneralNames=e.getGeneralNames(d);var m=pGeneralNames[0].dn;i.tsa=m,p++}if(a.length>5+p&&"a1"==t.substr(a[5+p],2)){var g=r(t,a[5+p]);g="30"+g.substr(2);var y=e.getExtParamArray(g);i.ext=y,p++}return i},this.getAccuracy=function(e){for(var t={},r=s(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),o=n(e,r[i]),l=parseInt(o,16);"02"==a?t.seconds=l:"80"==a?t.millis=l:"81"==a&&(t.micros=l)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},a=(s(e,0),i(e,0,[0,0])),o=n(e,a),l=t.hextooidstr(o),u=ce.asn1.x509.OID.oid2name(l);if(""==u)throw new Error("hashAlg name undefined: "+l);var c=u,p=i(e,0,[1]);return r.alg=c,r.hash=n(e,p),r},this.getPKIStatusInfo=function(e){var t={},i=s(e,0),o=0;try{var l=n(e,i[0]),u=parseInt(l,16);t.status=a[u]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var c=r(e,i[1]);t.statusstr=this.getPKIFreeText(c),o++}if(i.length>o&&"03"==e.substr(i[1+o],2)){var p=r(e,i[1+o]);t.failinfo=this.getPKIFailureInfo(p)}return t},this.getPKIFreeText=function(e){for(var n=[],r=s(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return null!=o[n]?o[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},a=s(e,0);if(a.length<2)throw new Error("TimeStampReq must have at least 2 items");var o=r(e,a[1]);i.messageImprint=ce.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var l=2;l<a.length;l++){var u=a[l],c=e.substr(u,2);if("06"==c){var p=n(e,u);i.policy=t.hextooidstr(p)}"02"==c&&(i.nonce=n(e,u)),"01"==c&&(i.certreq=!0)}return i}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.SignaturePolicyId=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),s=i.SignaturePolicyId,a=i.OtherHashAlgAndValue;s.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new a(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignaturePolicyId,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DEROctetString,s=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var a=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(a=De(e.cert)),n=ce.crypto.Util.hashHex(a,e.alg)}var o=[];return o.push(new s({name:e.alg})),o.push(new i({hex:n})),new r({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashValue=function(e){ce.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=ce,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex,this.params=null,this.tohex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=De(e.cert)),n=ce.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHashValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=ce,r=n.lang.String.isHex,i=n.asn1,s=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(r(e.tst))return(n=new s).hTLV=e.tst,[n];if(e.tst instanceof s)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var n,i=e.res;if(i instanceof s&&(i=i.tohex()),"string"!=typeof i||!r(i))throw new t("params.res has wrong value");return fe.getTLVbyList(i,0,[1]),(n=new s).hTLV=e.tst,[n]}},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,s=r.cades,a=s.OtherCertID,o=n.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var s=e.array[r];if("string"==typeof s)if(-1!=s.indexOf("-----BEGIN"))s={cert:s};else{if(!o(s))throw new t("unsupported value: "+s);s={hash:s}}null!=e.alg&&null==s.alg&&(s.alg=e.alg),null!=e.hasis&&null==s.hasis&&(s.hasis=e.hasis);var l=new a(s);n.push(l)}return[new i({array:n})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,s=i.OtherHashValue,a=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new a(e):new s(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var o=new r(e);i.push(o)}return new n({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){Error;var t=ce,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,s=r.OtherHashValue,a=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:a(e)&&(e={hash:e})),(null!=e.alg?new i(e):new s(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new ce.asn1.cms.CMSParser).getCMSSignedData(e)},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=fe,i=r.getChildIdx,s=r.getTLV,a=r.getV,o=ce.asn1,l=o.ASN1Object,u=o.cms,c=u.AttributeList,p=u.SignerInfo,h={},f=i(e,t);if(6!=f.length)throw"not supported items for SignerInfo (!=6)";var d=f.shift();h.version=s(e,d);var m=f.shift();h.si=s(e,m);var g=f.shift();h.digalg=s(e,g);var y=f.shift();h.sattrs=s(e,y);var v=f.shift();h.sigalg=s(e,v);var b=f.shift();h.sig=s(e,b),h.sigval=a(e,b);var k=null;return h.obj=new p,(k=new l).hTLV=h.version,h.obj.dCMSVersion=k,(k=new l).hTLV=h.si,h.obj.dSignerIdentifier=k,(k=new l).hTLV=h.digalg,h.obj.dDigestAlgorithm=k,(k=new l).hTLV=h.sattrs,h.obj.dSignedAttrs=k,(k=new l).hTLV=h.sigalg,h.obj.dSigAlg=k,(k=new l).hTLV=h.sig,h.obj.dSig=k,h.obj.dUnsignedAttrs=new c,h},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,s=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new s(this.params).tohex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ae(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new ce.asn1.csr.CertificationRequestInfo(this.params),i=new ce.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var s=new n({hex:"00"+e.sighex});return new r({array:[t,i,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,s=t.DERTaggedObject,a=t.ASN1Util.newObject,o=t.csr,l=t.x509,u=l.X500Name,c=l.Extensions,p=l.SubjectPublicKeyInfo;o.AttributeList,o.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new u(e.subject)),t.push(new p(Ye.getKey(e.sbjpubkey))),null!=e.attrs){var o=function(e){for(var t=Error,n=ce.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var s=e[i],a=s.attr;if("extensionRequest"==a){var o={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(s.ext)]}]};r.push(o)}else if("unstructuredName"==a)o={seq:[{oid:"1.2.840.113549.1.9.2"},{set:s.names}]},r.push(o);else{if("challengePassword"!=a)throw new t("unknown CSR attribute");o={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:s.password}]}]},r.push(o)}}return{set:r}}(e.attrs),l=a({tag:{tage:"a0",obj:o}});t.push(l)}else if(null!=e.extreq){var h=new c(e.extreq);l=a({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[h]}]}}}),t.push(l)}else t.push(new s({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.AttributeList=function(e){},Ke(ce.asn1.csr.AttributeList,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){return new ce.asn1.csr.CertificationRequest(e).getPEM()},ce.asn1.csr.CSRUtil.getParam=function(e,t){var n=fe,r=n.getV,i=n.getIdxbyList,s=n.getTLVbyList,a=n.getTLVbyListEx,o=n.getVbyListEx,l={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var u=De(e,"CERTIFICATE REQUEST");t&&(l.tbs=s(u,0,[0]));try{var c=a(u,0,[0,1]);if("3000"==c)l.subject={};else{var p=new Je;l.subject=p.getX500Name(c)}}catch(e){}var h=a(u,0,[0,2]),f=Ye.getKey(h,null,"pkcs8pub");l.sbjpubkey=Ye.getPEM(f,"PKCS8PUB");var d=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:s(e,0,[0,3,0,1,0],"30")}(u);p=new Je,null!=d&&(l.extreq=p.getExtParamArray(d));try{var m=a(u,0,[1],"30");p=new Je,l.sigalg=p.getAlgorithmIdentifierName(m)}catch(e){}try{var g=o(u,0,[2]);l.sighex=g}catch(e){}return l},ce.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=ce.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&null!=e.sbjpubkey&&null!=e.sigalg&&null!=e.sighex&&null!=e.tbs&&(t=e),null==t)return!1;var n=new ce.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(e){return alert(e),!1}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.OCSPResponse=function(e){ce.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),ce.asn1.DEREnumerated;var t=ce.asn1.ASN1Util.newObject,n=ce.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.OCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseBytes=function(e){ce.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,s=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new s(e),a=[];return a.push(new r({name:"ocspBasic"})),a.push(new i({hex:t.tohex()})),new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponseBytes,ce.asn1.ASN1Object),ce.asn1.ocsp.BasicOCSPResponse=function(e){ce.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.ASN1Object,i=n.DERSequence,s=(n.DERGeneralizedTime,n.DERTaggedObject),a=n.DERBitString,o=(n.x509.Extensions,n.x509.AlgorithmIdentifier),l=n.ocsp;l.ResponderID,_SingleResponseList=l.SingleResponseList,_ResponseData=l.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new ce.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new o({name:e.sigalg})),n.push(new a({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var l=[],u=0;u<e.certs.length;u++){var c=e.certs[u],p=null;if(fe.isASN1HEX(c))p=c;else{if(!c.match(/-----BEGIN/))throw new t("certs["+u+"] not hex or PEM");p=De(c)}l.push(new r({tlv:p}))}var h=new i({array:l});n.push(new s({tag:"a0",explicit:!0,obj:h}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.BasicOCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseData=function(e){ce.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,s=n.DERTaggedObject,a=n.x509.Extensions,o=n.ocsp,l=o.ResponderID;_SingleResponseList=o.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var n=[];if(n.push(new l(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),null!=e.ext){var o=new a(e.ext);n.push(new s({tag:"a1",explicit:!0,obj:o}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponseData,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponderID=function(e){ce.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=ce,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,s=t.lang.String.isHex,a=Error;this.params=null,this.tohex=function(){var e=this.params;if(null!=e.key){var t,n=null;if("string"==typeof e.key?(s(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/)&&null!=(t=new Je(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)):e.key instanceof Je&&null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex),null==n)throw new a("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=e.name){var o=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/)?o=new Je(e.name).getSubject():e.name instanceof Je?o=e.name.getSubject():"object"!=typeof e.name||null==e.name.array&&null==e.name.str||(o=e.name),null==o)throw new a("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(o)}}).tohex()}throw new a("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponderID,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponseList=function(e){ce.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.SingleResponseList,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponse=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,s=n.DERTaggedObject,a=n.ocsp,o=a.CertID,l=a.CertStatus,u=n.x509.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new o(e.certid)),n.push(new l(e.status)),n.push(new i(e.thisupdate)),null!=e.nextupdate){var a=new i(e.nextupdate);n.push(new s({tag:"a0",explicit:!0,obj:a}))}if(null!=e.ext){var c=new u(e.ext);n.push(new s({tag:"a1",explicit:!0,obj:c}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.SingleResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.CertID=function(e){var t=ce,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,s=n.DERSequence,a=n.x509.AlgorithmIdentifier,o=n.ocsp,l=(o.DEFAULT_HASH,t.crypto.Util.hashHex),u=Je,c=fe.getVbyList;o.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){null==n&&(n=this.DEFAULT_HASH);var r=new u(e),i=new u(t),s=l(r.getSubjectHex(),n),a=r.getPublicKeyHex();return{alg:n,issname:s,isskey:l(c(a,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,o,l=this.params;if(o=null==l.alg?this.DEFAULT_HASH:l.alg,null!=l.issuerCert&&null!=l.subjectCert){var u=this.getParamByCerts(l.issuerCert,l.subjectCert,o);e=u.issname,t=u.isskey,n=u.sbjsn}else{if(null==l.issname||null==l.isskey||null==l.sbjsn)throw new Error("required param members not defined");e=l.issname,t=l.isskey,n=l.sbjsn}var c=new a({name:o}),p=new r({hex:e}),h=new r({hex:t}),f=new i({hex:n}),d=new s({array:[c,p,h,f]});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.CertStatus=function(e){ce.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return ce.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.CertStatus,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){var i=new r.CertID(e);this.dReqCert=i}},Ke(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},Ke(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},Ke(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=ce.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=fe,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,s=(t.getIdxbyListEx,t.getV),a={};try{var o=r(e,0,[0],"0a");a.responseStatus=parseInt(o,16)}catch(e){}if(0!==a.responseStatus)return a;try{var l=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(l,2)?a.certStatus="good":"a1"===e.substr(l,2)?(a.certStatus="revoked",a.revocationTime=we(n(e,l,[0]))):"82"===e.substr(l,2)&&(a.certStatus="unknown")}catch(e){}try{var u=i(e,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=we(s(e,u))}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(a.nextUpdate=we(n(e,c,[0])))}catch(e){}return a},ce.asn1.ocsp.OCSPParser=function(){var e=Error,t=Je,n=new t,r=fe,i=r.getV,s=r.getTLV,a=r.getIdxbyList,o=r.getVbyList,l=r.getTLVbyList,u=r.getVbyListEx,c=r.getTLVbyListEx,p=r.getChildIdx;this.getOCSPRequest=function(t){var n=p(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(s(t,n[0]))},this.getTBSRequest=function(e){var t={},r=c(e,0,[0],"30");t.array=this.getRequestList(r);var i=c(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=p(e,0),r=0;r<n.length;r++)e=s(e,n[r]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var r=p(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(s(t,r[0]));if(2==r.length){var o=a(t,0,[1,0]);i.ext=n.getExtParamArray(s(t,o))}return i},this.getCertID=function(n){var r=p(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var a=new t,o={};return o.alg=a.getAlgorithmIdentifierName(s(n,r[0])),o.issname=i(n,r[1]),o.isskey=i(n,r[2]),o.sbjsn=i(n,r[3]),o},this.getOCSPResponse=function(e){var t,n=p(e,0),r=i(e,n[0]),s=parseInt(r);if(1==n.length)return{resstatus:s};var a=l(e,0,[1,0]);return(t=this.getResponseBytes(a)).resstatus=s,t},this.getResponseBytes=function(e){var t,n=p(e,0),r=l(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var s=i(e,n[0]);return t.restype=ce.asn1.x509.OID.oid2name(ze(s)),t},this.getBasicOCSPResponse=function(e){var t,n=p(e,0);t=this.getResponseData(s(e,n[0]));var r=new Je;t.alg=r.getAlgorithmIdentifierName(s(e,n[1]));var a=i(e,n[2]);t.sighex=a.substr(2);var o=u(e,0,["[0]"]);if(null!=o){for(var l=p(o,0),c=[],h=0;h<l.length;h++){var f=s(o,l[h]);c.push(f)}t.certs=c}return t},this.getResponseData=function(e){var t=p(e,0),n=t.length,r={},a=0;"a0"==e.substr(t[0],2)&&a++,r.respid=this.getResponderID(s(e,t[a++]));var o=i(e,t[a++]);if(r.prodat=we(o),r.array=this.getSingleResponseList(s(e,t[a++])),"a1"==e.substr(t[n-1],2)){var u=l(e,t[n-1],[0]),c=new Je;r.ext=c.getExtParamArray(u)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=o(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=l(e,0,[0]),i=new Je;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=p(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(s(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=p(e,0),n={},r=this.getCertID(s(e,t[0]));n.certid=r;var a=this.getCertStatus(s(e,t[1]));if(n.status=a,"18"==e.substr(t[2],2)){var u=i(e,t[2]);n.thisupdate=we(u)}for(var c=3;c<t.length;c++){if("a0"==e.substr(t[c],2)){var h=o(e,t[c],[0],"18");n.nextupdate=we(h)}if("a1"==e.substr(t[c],2)){var f=new Je,d=l(e,0,[c,0]);n.ext=f.getExtParamArray(d)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=we(o(e,0,[0]));t.time=n}return t}},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(pe=function(e){return ge(Buffer.from(e,"utf8").toString("base64"))},he=function(e){return Buffer.from(ye(e),"base64").toString("utf8")}):(pe=function(e){return ve(Re(Be(e)))},he=function(e){return decodeURIComponent(Oe(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return He(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ue=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Ve(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),s="";for(r=i.length-1;r>=0;r--)s+=i[r];return s}function Ke(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var s="00"+r,a="",o=i-4-s.length,l=0;l<o;l+=2)a+="ff";return"0001"+a+s},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),de(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],de(n)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=m.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ee(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ke(e.utf8)),void 0!==e.rstr&&(t=Ee(e.rstr)),void 0!==e.b64&&(t=k(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?Ye.getKey(e):Ye.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ye.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,n=w,r=oe,i=ce.crypto.ECDSA,s=ce.crypto.ECParameterDB,a=i.getName,o=fe,l=o.getVbyListEx,u=o.isASN1HEX,c=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),c).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=s.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),s=this.ecparams.keycharlen,a="04"+("0000000000"+r.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPublicKeyHex(a),a},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),s=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keycharlen),16);do{var o=this.getBigRandom(s),l=this.ecparams.G.multiply(o).getX().toBigInteger().mod(s)}while(l.compareTo(n.ZERO)<=0);var u=o.modInverse(s).multiply(a.add(r.multiply(l))).mod(s);return i.biRSSigToASN1Sig(l,u)},this.sign=function(e,t){var r=t,i=this.ecparams.n,s=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),o=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(o.compareTo(w.ZERO)<=0);var l=a.modInverse(i).multiply(s.add(r.multiply(o))).mod(i);return this.serializeSig(o,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,s){try{var a,o,l=i.parseSigHex(t);a=l.r,o=l.s;var u=r.decodeFromHex(this.ecparams.curve,s),c=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(c,a,o,u)}catch(e){return!1}},this.verify=function(e,t,i){var s,a,o;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);s=l.r,a=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";s=t.r,a=t.s}if(i instanceof oe)o=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";o=r.decodeFrom(this.ecparams.curve,i)}var u=n.fromByteArrayUnsigned(e);return this.verifyRaw(u,s,a,o)},this.verifyRaw=function(e,t,r,i){var s=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(s)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(s)>=0)return!1;var o=r.modInverse(s),l=e.multiply(o).mod(s),u=t.multiply(o).mod(s);return a.multiply(l).add(i.multiply(u)).getX().toBigInteger().mod(s).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===u(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=l(e,0,["[0]",0],"06"),n=l(e,0,[1],"04");try{r=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r,i;try{l(e,0,[1,0],"06"),n=l(e,0,[1,1],"06"),r=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r;try{l(e,0,[0,0],"06"),n=l(e,0,[0,1],"06"),r=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===u(e))throw new t("not ASN.1 hex string");var r,i;try{r=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=fe,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],a=i[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,s),s:r(e,a)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+("000000"+r).slice(-i)}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new w(e,16),r=new w(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ce.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new w(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,s,a,o,l,u,c,p,h,f,d){e[r]={};var m=n(s),g=n(a),y=n(o),v=n(l),b=n(u),k=new le(m,g,y),w=k.decodePointHex("04"+c+p);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=k,e[r].G=w,e[r].n=v,e[r].h=b,e[r].oid=f,e[r].info=d;for(var x=0;x<h.length;x++)t[h[x]]=r}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=fe,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var s,a,o,l,u;s=new w(e,16),a=new w(t,16),o=new w(n,16),l="string"==typeof r&&r.length>1?new w(r,16):null,u=new w(i,16),this.setPrivate(s,a,o,l,u)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,s,a,o;i=new w(e,16),s=new w(t,16),a=new w(n,16),o=new w(r,16),this.setPublic(i,s,a,o)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),s=ce.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),a=new w(e.substr(0,n.bitLength()/4),16),o=r.modPow(s,t).mod(n),l=s.modInverse(n).multiply(a.add(i.multiply(o))).mod(n);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:o}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,s=this.y,a=this.parseASN1Signature(t),o=a[0],l=a[1],u=new w(e.substr(0,r.bitLength()/4),16);if(w.ZERO.compareTo(o)>0||o.compareTo(r)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(l)>=0||l.compareTo(r)>0)throw"invalid DSA signature";var c=l.modInverse(r),p=u.multiply(c).mod(r),h=o.multiply(c).mod(r);return 0==i.modPow(p,n).multiply(s.modPow(h,n)).mod(n).mod(r).compareTo(o)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,s,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),s=t(e,0,[3],"02"),a=t(e,0,[4],"02"),o=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,s,a,o)},this.readPKCS8PrvKeyHex=function(e){var r,i,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),s=t(e,0,[1,1,2],"02"),a=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,s,null,a)},this.readPKCS8PubKeyHex=function(e){var r,i,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),s=t(e,0,[0,1,2],"02"),a=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,s,a)},this.readCertPubKeyHex=function(e,r){var i,s,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),s=t(e,0,[0,5,0,1,1],"02"),a=t(e,0,[0,5,0,1,2],"02"),o=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,s,a,o)}};var Ye=function(){var e=function(e,n,r){return t(m.AES,e,n,r)},t=function(e,t,n,r){var i=m.enc.Hex.parse(t),s=m.enc.Hex.parse(n),a=m.enc.Hex.parse(r),o={};o.key=s,o.iv=a,o.ciphertext=i;var l=e.decrypt(o,s,{iv:a});return m.enc.Hex.stringify(l)},n=function(e,t,n){return r(m.AES,e,t,n)},r=function(e,t,n,r){var i=m.enc.Hex.parse(t),s=m.enc.Hex.parse(n),a=m.enc.Hex.parse(r),o=e.encrypt(i,s,{iv:a}),l=m.enc.Hex.parse(o.toString());return m.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(m.TripleDES,e,n,r)},eproc:function(e,t,n){return r(m.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(m.DES,e,n,r)},eproc:function(e,t,n){return r(m.DES,e,t,n)},keylen:8,ivlen:8}},s=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),s=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var o=e.substring(i+2*s,a-s);o=o.replace(/\s+/g,""),t.data=o}return t},a=function(e,t,n){for(var r=n.substring(0,16),s=m.enc.Hex.parse(r),a=m.enc.Utf8.parse(t),o=i[e].keylen+i[e].ivlen,l="",u=null;;){var c=m.algo.MD5.create();if(null!=u&&c.update(u),c.update(a),c.update(s),u=c.finalize(),(l+=m.enc.Hex.stringify(u)).length>=2*o)break}var p={};return p.keyhex=l.substr(0,2*i[e].keylen),p.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),p},o=function(e,t,n,r){var s=m.enc.Base64.parse(e),a=m.enc.Hex.stringify(s);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return s(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return o(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=s(e),r=(n.type,n.cipher),i=n.ivsalt,l=n.data,u=a(r,t,i).keyhex;return o(l,r,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,s){var o="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);if(void 0===s||null==s){var l=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(i[r].ivlen);s=l.toUpperCase()}var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,s).keyhex,s);return o="-----BEGIN "+e+" PRIVATE KEY-----\r\n",o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+r+","+s+"\r\n",o+="\r\n",(o+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={},s=n(e,0);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+s.length);i.ciphertext=r(e,s[1]);var a=n(e,s[0]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+a.length);if("2a864886f70d01050d"!=r(e,a[0]))throw new Error("this only supports pkcs5PBES2");var o=n(e,a[1]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+o.length);var l=n(e,o[1]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length);if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var u=n(e,o[0]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length);if("2a864886f70d01050c"!=r(e,u[0]))throw new Error("this only supports pkcs5PBKDF2");var c=n(e,u[1]);if(c.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length);i.pbkdf2Salt=r(e,c[0]);var p=r(e,c[1]);try{i.pbkdf2Iter=parseInt(p,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+p)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=m.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=m.PBKDF2(t,n,{keySize:6,iterations:r});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=De(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ye.getPBKDF2KeyHexFromParam(r,t),s={};s.ciphertext=m.enc.Hex.parse(r.ciphertext);var a=m.enc.Hex.parse(i),o=m.enc.Hex.parse(r.encryptionSchemeIV),l=m.TripleDES.decrypt(s,a,{iv:o});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var s=n(e,0);if(s.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(s[1],2))throw new Error("malformed PKCS8 private key(code:003)");var a=n(e,s[1]);if(2!=a.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(s[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=De(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=fe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var s=n(e,0);if(2!=s.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(s[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,s[0]),"02"!=e.substr(s[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,s[1]),i},parsePublicPKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null},s=n(e,0);if(2!=s.length)throw new Error("outer DERSequence shall have 2 elements: "+s.length);var a=s[0];if("30"!=e.substr(a,2))throw new Error("malformed PKCS8 public key(code:001)");var o=n(e,a);if(2!=o.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(o[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)?i.algparam=r(e,o[1]):"30"==e.substr(o[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,o[1],[0],"02"),i.algparam.q=t.getVbyList(e,o[1],[1],"02"),i.algparam.g=t.getVbyList(e,o[1],[2],"02")),"03"!=e.substr(s[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,s[1]).substr(2),i}}}();function $e(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function We(e,t,n){for(var r="",i=0;r.length<t;)r+=_e(n(Ee(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ge(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var n=ce.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Je(e){var t,n=fe,r=n.getChildIdx,i=n.getV,s=(n.dump,n.parse),a=n.getTLV,o=n.getVbyList,l=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,p=n.getIdxbyList,h=n.getIdxbyListEx,f=n.getVidx,d=n.getInt,m=n.oidname,g=n.hextooidstr,y=De,v=Error;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=u(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=u(e,0,[0]),n=d(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return l(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return m(l(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=o(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=o(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:o(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return p(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return p(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ye.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,s,a;if(void 0===e){if(a=this.hex,3!==this.version)return-1;t=p(a,0,[0,7,0],"30"),s=r(a,t)}else{a=De(e);var l=p(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,l))return void(this.aExtInfo=new Array);t=p(a,0,[0,3,0,1,0],"30"),s=r(a,t),this.hex=a}this.aExtInfo=new Array;for(var u=0;u<s.length;u++){var c={critical:!1},h=0;3===r(a,s[u]).length&&(c.critical=!0,h=1),c.oid=n.hextooidstr(o(a,s[u],[0],"06"));var d=p(a,s[u],[1+h]);c.vidx=f(a,d),this.aExtInfo.push(c)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ce.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(null!=t)return[t,n];var r=this.getExtInfo(e);return null==r?[null,null]:[a(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var s=i(e,10),o=parseInt(s,16);return r.cA=!0,r.pathLen=o,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var s=r(e,0),o=0;o<s.length;o++){for(var l=[],u=r(e,s[o]),c=0;c<u.length;c++){var p=a(e,u[c]),h=this.getGeneralSubtree(p);l.push(h)}var f=e.substr(s[o],2);"a0"==f?i.permit=l:"a1"==f&&(i.exclude=l)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var s=this.getGeneralName(a(e,t[0])),o=1;o<n;o++){var l=e.substr(t[o],2),u=i(e,t[o]),c=parseInt(u,16);"80"==l&&(s.min=c),"81"==l&&(s.max=c)}return s},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=a(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(Je.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var s=i(e,0);return r.kid={hex:s},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var s={extname:"authorityKeyIdentifier"};t&&(s.critical=!0);for(var o=r(e,0),l=0;l<o.length;l++){var u=e.substr(o[l],2);if("80"===u&&(s.kid={hex:i(e,o[l])}),"a1"===u){var c=a(e,o[l]),p=this.getGeneralNames(c);s.issuer=p[0].dn}"82"===u&&(s.sn={hex:i(e,o[l])})}return s},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var s={extname:"extKeyUsage",array:[]};t&&(s.critical=!0);for(var o=r(e,0),l=0;l<o.length;l++)s.array.push(m(i(e,o[l])));return s},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=a(this.hex,e.vidx);if(""===n)return t;for(var s=r(n,0),o=0;o<s.length;o++)t.push(m(i(n,s[o])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var s=this.getGeneralName(a(e,t[i]));void 0!==s&&n.push(s)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=_e(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Fe(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var o=new Array,l=a(this.hex,s.vidx),u=r(l,0),c=0;c<u.length;c++)n=l.substr(u[c],2),e=i(l,u[c]),"81"===n&&(t=we(e),o.push(["MAIL",t])),"82"===n&&(t=we(e),o.push(["DNS",t])),"84"===n&&(t=Je.hex2dn(e,0),o.push(["DN",t])),"86"===n&&(t=we(e),o.push(["URI",t])),"87"===n&&(t=Fe(e),o.push(["IP",t]));return o},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var s=r(e,0),o=0;o<s.length;o++){var l=a(e,s[o]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var s=e.substr(n[i],2),o=a(e,n[i]);"a0"==s&&(t.dpname=this.getDistributionPointName(o))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var s=e.substr(n[i],2),o=a(e,n[i]);"a0"==s&&(t.full=this.getGeneralNames(o))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(null==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{null!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var s=o(this.hex,n[i],[0],"06"),a=o(this.hex,n[i],[1],"86");"2b06010505073001"===s&&t.ocsp.push(we(a)),"2b06010505073002"===s&&t.caissuer.push(we(a))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++){var c=l(e,s[u],[0],"06"),p=we(o(e,s[u],[1],"86"));if("2b06010505073001"==c)i.array.push({ocsp:p});else{if("2b06010505073002"!=c)throw new Error("unknown method: "+c);i.array.push({caissuer:p})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var s=r(e,0),o=0;o<s.length;o++){var l=a(e,s[o]),u=this.getPolicyInformation(l);i.array.push(u)}return i},this.getPolicyInformation=function(e){var t={},n=o(e,0,[0],"06");t.policyoid=m(n);var i=h(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=r(e,i),l=0;l<s.length;l++){var u=a(e,s[l]),c=this.getPolicyQualifierInfo(u);t.array.push(c)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=o(e,n[0],[],"06"),a=o(e,n[1],[]);return t.oid=m(i),t.value=s(a),t},this.getPolicyQualifierInfo=function(e){var t={},n=o(e,0,[0],"06");if("2b06010505070201"===n){var r=l(e,0,[1],"16");t.cps=_e(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var s=a(e,n[i]);"30"!=s.substr(0,2)&&(t.exptext=this.getDisplayText(s))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=_e(i(e,0)),t},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=s(e).seq,a=[],o=0;o<i.length;o++){var l=i[o].seq;a.push([l[0].oid,l[1].oid])}r.array=a}catch(e){throw new v("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=s(e);try{for(var a=i.seq,o=0;o<a.length;o++){var l=a[o].tag;0==l.explicit&&("80"==l.tag&&(r.reqexp=parseInt(l.hex,16)),"81"==l.tag&&(r.inhibit=parseInt(l.hex,16)))}}catch(e){return new v("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=d(e,0);return-1==i?new v("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new v("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var s=r(e,0);if(s.length>1){var o=a(e,s[1]),l=this.getGeneralName(o);null!=l.uri&&(i.uri=l.uri)}if(s.length>2){var u=a(e,s[2]);"0101ff"==u&&(i.reqauth=!0),"010100"==u&&(i.reqauth=!1)}return i};var b=function(e){var t={};try{var n=e.seq[0].oid,r=ce.asn1.x509.OID.name2oid(n);t.type=ce.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(null!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(null!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(null!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(null!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(null!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(null!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(e){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},k=function(e){try{return e.set.map((function(e){return b(e)}))}catch(e){throw new Error("improper ASN.1 parsed RDN: "+e)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(i[s]);for(r=0;r<n.length;r++){var a=n[r],o=a.ds,l=a.value,u=a.type;if("prn"!=o&&"utf8"!=o&&"ia5"!=o)return"mixed";if("ia5"==o){if("CN"!=u)return"mixed";if(ce.lang.String.isMail(l))continue;return"mixed"}if("C"==u){if("prn"==o)continue;return"mixed"}if(null==t)t=o;else if(t!==o)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=s(e);return b(t)},this.getRDN=function(e){var t=s(e);return k(t)},this.getX500NameArray=function(e){return function(e){try{return e.seq.map((function(e){return k(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(s(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{p(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(e){var t={};return null==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=Ae(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=u(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){null==e&&-1!=h(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var s=a(e,n[i]),o=this.getExtParam(s);null!=o&&t.push(o)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=g(o(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var s=u(e,0,[t-1,0]),a=void 0;if("2.5.29.14"==n?a=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==n?a=this.getExtKeyUsage(s,i):"2.5.29.17"==n?a=this.getExtSubjectAltName(s,i):"2.5.29.18"==n?a=this.getExtIssuerAltName(s,i):"2.5.29.19"==n?a=this.getExtBasicConstraints(s,i):"2.5.29.30"==n?a=this.getExtNameConstraints(s,i):"2.5.29.31"==n?a=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==n?a=this.getExtCertificatePolicies(s,i):"2.5.29.33"==n?a=this.getExtPolicyMappings(s,i):"2.5.29.35"==n?a=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.36"==n?a=this.getExtPolicyConstraints(s,i):"2.5.29.37"==n?a=this.getExtExtKeyUsage(s,i):"2.5.29.54"==n?a=this.getExtInhibitAnyPolicy(s,i):"1.3.6.1.5.5.7.1.1"==n?a=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==n?a=this.getExtCRLNumber(s,i):"2.5.29.21"==n?a=this.getExtCRLReason(s,i):"1.3.6.1.5.5.7.48.1.2"==n?a=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==n?a=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==n&&(a=this.getExtAdobeTimeStamp(s,i)),null!=a)return a;var l={extname:n,extn:s};return i&&(l.critical=!0),l},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var s=r[i].dpname.full,a=0;a<s.length;a++){var o=s[i];null!=o.uri&&(o.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(null!=e.str&&null==e.array){var n=new ce.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;null==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],s=0;s<r.length;s++){var a=r[s],o=a.value;o=(o=(o=(o=o.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(a.type.toLowerCase()+"="+o)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,s=0;s<i.length;s++){var a=i[s];null!=a.dn&&(t+=n+"dn: "+a.dn.str+r),null!=a.ip&&(t+=n+"ip: "+a.ip+r),null!=a.rfc822&&(t+=n+"rfc822: "+a.rfc822+r),null!=a.dns&&(t+=n+"dns: "+a.dns+r),null!=a.uri&&(t+=n+"uri: "+a.uri+r),null!=a.other&&(t+=n+"other: "+a.other.oid+"="+JSON.stringify(a.other.value).replace(/\"/g,"")+r)}return t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var s=0;s<i.array.length;s++){var a=i.array[s];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},s=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+Je.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+qe(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+qe(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var o=0;o<n.length;o++){var l=n[o],u=ce.asn1.x509.OID.oid2name(l.oid);""===u&&(u=l.oid);var c="";if(!0===l.critical&&(c="CRITICAL"),e+="  "+u+" "+c+":\n","basicConstraints"===u){var p=this.getExtBasicConstraints();void 0===p.cA?e+="    {}\n":(e+="    cA=true",void 0!==p.pathLen&&(e+=", pathLen="+p.pathLen),e+="\n")}else{var h;if("policyMappings"==u)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==u)e+="    ",null!=(h=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+h.reqexp),null!=h.inhibit&&(e+=" inhibit="+h.inhibit),e+="\n";else if("inhibitAnyPolicy"==u)e+="    skip="+(h=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==u)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==u)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==u){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(e+="    kid="+f.kid.hex+"\n")}else"extKeyUsage"==u?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==u?e+=r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==u?e+=s(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==u?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"==u&&(e+=i(this.getExtCertificatePolicies()))}}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}Ye.getKey=function(e,t,n){var r,i=(y=fe).getChildIdx,s=(y.getV,y.getVbyList),a=ce.crypto,o=a.ECDSA,l=a.DSA,u=ie,c=De,p=Ye;if(void 0!==u&&e instanceof u)return e;if(void 0!==o&&e instanceof o)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new o({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new o({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new u).setPublic(e.n,e.e),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(R=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),R;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(R=new u).setPrivate(e.n,e.e,e.d),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(R=new l).setPublic(e.p,e.q,e.g,e.y),R;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(R=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(R=new u).setPublic(be(e.n),be(e.e)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(R=new u).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),R;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(R=new u).setPrivate(be(e.n),be(e.e),be(e.d)),R;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var h=(P=new o({curve:e.crv})).ecparams.keycharlen,f="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);return P.setPublicKeyHex(f),P}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){h=(P=new o({curve:e.crv})).ecparams.keycharlen,f="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);var d=("0000000000"+be(e.d)).slice(-h);return P.setPublicKeyHex(f),P.setPrivateKeyHex(d),P}if("pkcs5prv"===n){var m,g=e,y=fe;if(9===(m=i(g,0)).length)(R=new u).readPKCS5PrvKeyHex(g);else if(6===m.length)(R=new l).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(R=new o).readPKCS5PrvKeyHex(g)}return R}if("pkcs8prv"===n)return p.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return p._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Je.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Je.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=De(e,"PUBLIC KEY");return p._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=c(e,"RSA PRIVATE KEY");return p.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var k=s(r=c(e,"DSA PRIVATE KEY"),0,[1],"02"),x=s(r,0,[2],"02"),_=s(r,0,[3],"02"),E=s(r,0,[4],"02"),S=s(r,0,[5],"02");return(R=new l).setPrivate(new w(k,16),new w(x,16),new w(_,16),new w(E,16),new w(S,16)),R}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=c(e,"EC PRIVATE KEY"),p.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return p.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=p.getDecryptedKeyHex(e,t),D=new ie;return D.readPKCS5PrvKeyHex(A),D}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P,R=s(r=p.getDecryptedKeyHex(e,t),0,[1],"04"),O=s(r,0,[2,0],"06"),C=s(r,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[O])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+O);return(P=new o({curve:ce.crypto.OID.oidhex2name[O]})).setPublicKeyHex(C),P.setPrivateKeyHex(R),P.isPublic=!1,P}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return k=s(r=p.getDecryptedKeyHex(e,t),0,[1],"02"),x=s(r,0,[2],"02"),_=s(r,0,[3],"02"),E=s(r,0,[4],"02"),S=s(r,0,[5],"02"),(R=new l).setPrivate(new w(k,16),new w(x,16),new w(_,16),new w(E,16),new w(S,16)),R;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return p.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Ye.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new ie).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new ie,i=a.n.toString(16),s=a.e.toString(16);return r.setPublic(i,s),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o}if("EC"==e){var a,o,l=t,u=new ce.crypto.ECDSA({curve:l}).generateKeyPairHex();return(a=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=r,o}throw new Error("unknown algorithm: "+e)},Ye.getPEM=function(e,t,n,r,i,s){var a=ce,o=a.asn1,l=o.DERObjectIdentifier,u=o.DERInteger,c=o.ASN1Util.newObject,p=o.x509.SubjectPublicKeyInfo,h=a.crypto,f=h.DSA,d=h.ECDSA,g=ie;function y(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==f&&e instanceof f||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ae(_=new p(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=y(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate){var k=new l({name:e.curveName}).tohex(),w=v(e).tohex(),x="";return(x+=Ae(k,"EC PARAMETERS"))+Ae(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=b(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var _=y(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",_,n,r,s)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return _=v(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",_,n,r,s);if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return _=b(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",_,n,r,s);var E=function(e,t){var n=S(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},S=function(e,t){var n=m.lib.WordArray.random(8),r=m.lib.WordArray.random(8),i=m.PBKDF2(t,n,{keySize:6,iterations:100}),s=m.enc.Hex.parse(e),a=m.TripleDES.encrypt(s,i,{iv:r})+"",o={};return o.ciphertext=a,o.pbkdf2Salt=m.enc.Hex.stringify(n),o.pbkdf2Iter=100,o.encryptionSchemeAlg="DES-EDE3-CBC",o.encryptionSchemeIV=m.enc.Hex.stringify(r),o};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var A=y(e).tohex();return _=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=E(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate){var D={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};return"string"==typeof e.pubKeyHex&&D.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}),A=new c(D).tohex(),_=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=E(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return A=new u({bigint:e.x}).tohex(),_=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=E(_,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ye.getKeyFromCSRPEM=function(e){var t=De(e,"CERTIFICATE REQUEST");return Ye.getKeyFromCSRHex(t)},Ye.getKeyFromCSRHex=function(e){var t=Ye.parseCSRHex(e);return Ye.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ye.parseCSRHex=function(e){var t=fe,n=t.getChildIdx,r=t.getTLV,i={},s=e;if("30"!=s.substr(0,2))throw new Error("malformed CSR(code:001)");var a=n(s,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if("30"!=s.substr(a[0],2))throw new Error("malformed CSR(code:003)");var o=n(s,a[0]);if(o.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(s,o[2]),i},Ye.getKeyID=function(e){var t=Ye,n=fe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=De(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),s=n.getV(r,i).substring(2);return ce.crypto.Util.hashHex(s,"sha1")},Ye.getJWK=function(e,t,n,r,i){var s,a,o={},l=ce.crypto.Util.hashHex;if("string"==typeof e)s=Ye.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(a=De(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof Je?(s=e.getPublicKey(),a=e.hex):s=e}if(s instanceof ie&&s.isPrivate)o.kty="RSA",o.n=ve(s.n.toString(16)),o.e=ve(s.e.toString(16)),o.d=ve(s.d.toString(16)),o.p=ve(s.p.toString(16)),o.q=ve(s.q.toString(16)),o.dp=ve(s.dmp1.toString(16)),o.dq=ve(s.dmq1.toString(16)),o.qi=ve(s.coeff.toString(16));else if(s instanceof ie&&s.isPublic)o.kty="RSA",o.n=ve(s.n.toString(16)),o.e=ve(s.e.toString(16));else if(s instanceof ce.crypto.ECDSA&&s.isPrivate){if("P-256"!==(c=s.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);var u=s.getPublicKeyXYHex();o.kty="EC",o.crv=c,o.x=ve(u.x),o.y=ve(u.y),o.d=ve(s.prvKeyHex)}else if(s instanceof ce.crypto.ECDSA&&s.isPublic){var c;if("P-256"!==(c=s.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);u=s.getPublicKeyXYHex(),o.kty="EC",o.crv=c,o.x=ve(u.x),o.y=ve(u.y)}if(null==o.kty)throw new Error("unsupported keyinfo");return s.isPrivate||1==t||(o.kid=ce.jws.JWS.getJWKthumbprint(o)),null!=a&&1!=n&&(o.x5c=[b(a)]),null!=a&&1!=r&&(o.x5t=ge(b(l(a,"sha1")))),null!=a&&1!=i&&(o["x5t#S256"]=ge(b(l(a,"sha256")))),o},Ye.getJWKFromKey=function(e){return Ye.getJWK(e,!0,!0,!0,!0)},ie.getPosArrayOfChildrenFromHex=function(e){return fe.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=fe.getV,r=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),s=n(e,t[2]),a=n(e,t[3]),o=n(e,t[4]),l=n(e,t[5]),u=n(e,t[6]),c=n(e,t[7]),p=n(e,t[8]);return(t=new Array).push(r,i,s,a,o,l,u,c,p),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=De(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,s,a,o,l,u=fe,c=u.getVbyListEx;if(!1===u.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),s=c(e,0,[2,0,5],"02"),a=c(e,0,[2,0,6],"02"),o=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,s,a,o,l)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=fe,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),s=n(e,r[1]);this.setPublic(i,s)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=fe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new Je).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},ie.prototype.sign=function(e,t){var n=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=ne(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return $e(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var r,i=(r=Ee(e),ce.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=_e(e),s=i.length,a=this.n.bitLength()-1,o=Math.ceil(a/8),l=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=s;else if(-2===n)n=o-s-2;else if(n<-2)throw new Error("invalid salt length");if(o<s+n+2)throw new Error("data too long");var u="";n>0&&(u=new Array(n),(new te).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=_e(l(Ee("\0\0\0\0\0\0\0\0"+i+u))),p=[];for(r=0;r<o-n-s-2;r+=1)p[r]=0;var h=String.fromCharCode.apply(String,p)+""+u,f=We(c,h.length,l),d=[];for(r=0;r<h.length;r+=1)d[r]=h.charCodeAt(r)^f.charCodeAt(r);var m=65280>>8*o-a&255;for(d[0]&=~m,r=0;r<s;r++)d.push(c.charCodeAt(r));return d.push(188),$e(this.doPrivate(new w(d)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=ne(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var s=Ge(i.replace(/^1f+00/,""));if(0==s.length)return!1;var a=s[0],o=s[1],l=function(e){return ce.crypto.Util.hashString(e,a)}(e);return o==l},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ne(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},ie.prototype.verifyPSS=function(e,t,n,r){var i,s=(i=Ee(e),ce.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(s,t,n,r)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,s=new w(t,16),a=function(e){return ce.crypto.Util.hashHex(e,n)},o=_e(e),l=o.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=c-l-2;else if(r<-2)throw new Error("invalid salt length");if(c<l+r+2)throw new Error("data too long");var p=this.doPublic(s).toByteArray();for(i=0;i<p.length;i+=1)p[i]&=255;for(;p.length<c;)p.unshift(0);if(188!==p[c-1])throw new Error("encoded message does not end in 0xbc");var h=(p=String.fromCharCode.apply(String,p)).substr(0,c-l-1),f=p.substr(h.length,l),d=65280>>8*c-u&255;if(h.charCodeAt(0)&d)throw new Error("bits beyond keysize not zero");var m=We(f,h.length,a),g=[];for(i=0;i<h.length;i+=1)g[i]=h.charCodeAt(i)^m.charCodeAt(i);g[0]&=~d;var y=c-l-r-2;for(i=0;i<y;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[y])throw new Error("0x01 marker not found");return f===_e(a(Ee("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,g.slice(-r)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,Je.hex2dn=function(e,t){void 0===t&&(t=0);var n=new Je;return fe.getTLV(e,t),n.getX500Name(e).str},Je.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=fe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Je.hex2attrTypeValue(e,r[i]));return n=n.map((function(e){return e.replace("+","\\+")})),n.join("+")},Je.hex2attrTypeValue=function(e,t){var n=fe,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var s=r(e,i[0]),a=ce.asn1.ASN1Util.oidHexToInt(s);return ce.asn1.x509.OID.oid2atype(a)+"="+_e(r(e,i[1]))},Je.getPublicKeyFromCertHex=function(e){var t=new Je;return t.readCertHex(e),t.getPublicKey()},Je.getPublicKeyFromCertPEM=function(e){var t=new Je;return t.readCertPEM(e),t.getPublicKey()},Je.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=fe.getVbyList,i={algparam:null};return(t=new Je).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Je.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],s=r[2],a=r[3],o=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=o,!n){var l=be(a),u=ne(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=he(i),p=he(s);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=p,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},ce.jws.JWS.sign=function(e,t,n,r,i){var s,a,o,l=ce,u=l.jws.JWS,c=u.readSafeJSONString,p=u.isSafeJSONString,h=l.crypto,f=(h.ECDSA,h.Mac),d=h.Signature,m=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(a=t,s=m.stringify(a)),"string"==typeof t){if(!p(s=t))throw"JWS Head is not safe JSON string: "+s;a=c(s)}if(o=n,"object"==typeof n&&(o=m.stringify(n)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,s=m.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var g=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=u.jwsalg2sigalg[e];var y=pe(s)+"."+pe(o),v="";if("Hmac"==g.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new f({alg:g,prov:"cryptojs",pass:r});b.updateString(y),v=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new d({alg:g})).init(r,i),w.updateString(y);var k=w.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(k)}else{var w;"none"!=g&&((w=new d({alg:g})).init(r,i),w.updateString(y),v=w.sign())}return y+"."+ve(v)},ce.jws.JWS.verify=function(e,t,n){var r,i=ce,s=i.jws.JWS,a=s.readSafeJSONString,o=i.crypto,l=o.ECDSA,u=o.Mac,c=o.Signature;if(r=ie,!Le(e))return!1;var p=e.split(".");if(3!==p.length)return!1;var h,f=p[0]+"."+p[1],d=be(p[2]),m=a(he(p[0])),g=null;if(void 0===m.alg)throw"algorithm not specified in header";if(h=(g=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ye.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===s.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+g;if("none"==(y=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new u({alg:y,pass:t});return v.updateString(f),d==v.doFinal()}if(-1!=y.indexOf("withECDSA")){var b,k=null;try{k=l.concatSigToASN1Sig(d)}catch(e){return!1}return(b=new c({alg:y})).init(t),b.updateString(f),b.verify(k)}return(b=new c({alg:y})).init(t),b.updateString(f),b.verify(d)},ce.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(he(t)),s.payloadObj=ce.jws.JWS.readSafeJSONString(he(n)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=he(n):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==r&&(s.sigHex=be(r)),s},ce.jws.JWS.verifyJWT=function(e,t,n){var r=ce.jws,i=r.JWS,s=i.readSafeJSONString,a=i.inArray,o=i.includedArray;if(!Le(e))return!1;var l=e.split(".");if(3!=l.length)return!1;var u=l[0],c=l[1],p=(be(l[2]),s(he(u))),h=s(he(c));if(void 0===p.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(p.alg,n.alg))return!1;if(void 0!==h.iss&&"object"==typeof n.iss&&!a(h.iss,n.iss))return!1;if(void 0!==h.sub&&"object"==typeof n.sub&&!a(h.sub,n.sub))return!1;if(void 0!==h.aud&&"object"==typeof n.aud)if("string"==typeof h.aud){if(!a(h.aud,n.aud))return!1}else if("object"==typeof h.aud&&!o(h.aud,n.aud))return!1;var f=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(f=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+n.gracePeriod<f||void 0!==h.nbf&&"number"==typeof h.nbf&&f<h.nbf-n.gracePeriod||void 0!==h.iat&&"number"==typeof h.iat&&f<h.iat-n.gracePeriod||void 0!==h.jti&&void 0!==n.jti&&h.jti!==n.jti||!i.verify(e,t,n.alg))},ce.jws.JWS.includedArray=function(e,t){var n=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=ue(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ue(e))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Ee(t);return ve(ce.crypto.Util.hashHex(n,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Pe(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=ce.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");s[0],s[2],this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],s=this.aSignature[t],a=i+"."+this.sPayload+"."+s,o=!1;try{o=e.verify(a,n,r)}catch(e){return!1}return o},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},ce.crypto.ECDSA,ce.crypto.DSA,ce.crypto.Signature,ce.crypto.MessageDigest,ce.crypto.Mac,ce.crypto.Cipher,t.kT=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(function(e){var t,n=k(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}(ye(e)))},ce.crypto,ce.asn1,t.hT=ce.jws,ce.lang},4542:(e,t,n)=>{var r,i,s,a,o;r=n(7298),i=n(4526).utf8,s=n(8135),a=n(4526).bin,(o=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,p=-1732584194,h=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var d=o._ff,m=o._gg,g=o._hh,y=o._ii;for(f=0;f<n.length;f+=16){var v=u,b=c,k=p,w=h;u=d(u,c,p,h,n[f+0],7,-680876936),h=d(h,u,c,p,n[f+1],12,-389564586),p=d(p,h,u,c,n[f+2],17,606105819),c=d(c,p,h,u,n[f+3],22,-1044525330),u=d(u,c,p,h,n[f+4],7,-176418897),h=d(h,u,c,p,n[f+5],12,1200080426),p=d(p,h,u,c,n[f+6],17,-1473231341),c=d(c,p,h,u,n[f+7],22,-45705983),u=d(u,c,p,h,n[f+8],7,1770035416),h=d(h,u,c,p,n[f+9],12,-1958414417),p=d(p,h,u,c,n[f+10],17,-42063),c=d(c,p,h,u,n[f+11],22,-1990404162),u=d(u,c,p,h,n[f+12],7,1804603682),h=d(h,u,c,p,n[f+13],12,-40341101),p=d(p,h,u,c,n[f+14],17,-1502002290),u=m(u,c=d(c,p,h,u,n[f+15],22,1236535329),p,h,n[f+1],5,-165796510),h=m(h,u,c,p,n[f+6],9,-1069501632),p=m(p,h,u,c,n[f+11],14,643717713),c=m(c,p,h,u,n[f+0],20,-373897302),u=m(u,c,p,h,n[f+5],5,-701558691),h=m(h,u,c,p,n[f+10],9,38016083),p=m(p,h,u,c,n[f+15],14,-660478335),c=m(c,p,h,u,n[f+4],20,-405537848),u=m(u,c,p,h,n[f+9],5,568446438),h=m(h,u,c,p,n[f+14],9,-1019803690),p=m(p,h,u,c,n[f+3],14,-187363961),c=m(c,p,h,u,n[f+8],20,1163531501),u=m(u,c,p,h,n[f+13],5,-1444681467),h=m(h,u,c,p,n[f+2],9,-51403784),p=m(p,h,u,c,n[f+7],14,1735328473),u=g(u,c=m(c,p,h,u,n[f+12],20,-1926607734),p,h,n[f+5],4,-378558),h=g(h,u,c,p,n[f+8],11,-2022574463),p=g(p,h,u,c,n[f+11],16,1839030562),c=g(c,p,h,u,n[f+14],23,-35309556),u=g(u,c,p,h,n[f+1],4,-1530992060),h=g(h,u,c,p,n[f+4],11,1272893353),p=g(p,h,u,c,n[f+7],16,-155497632),c=g(c,p,h,u,n[f+10],23,-1094730640),u=g(u,c,p,h,n[f+13],4,681279174),h=g(h,u,c,p,n[f+0],11,-358537222),p=g(p,h,u,c,n[f+3],16,-722521979),c=g(c,p,h,u,n[f+6],23,76029189),u=g(u,c,p,h,n[f+9],4,-640364487),h=g(h,u,c,p,n[f+12],11,-421815835),p=g(p,h,u,c,n[f+15],16,530742520),u=y(u,c=g(c,p,h,u,n[f+2],23,-995338651),p,h,n[f+0],6,-198630844),h=y(h,u,c,p,n[f+7],10,1126891415),p=y(p,h,u,c,n[f+14],15,-1416354905),c=y(c,p,h,u,n[f+5],21,-57434055),u=y(u,c,p,h,n[f+12],6,1700485571),h=y(h,u,c,p,n[f+3],10,-1894986606),p=y(p,h,u,c,n[f+10],15,-1051523),c=y(c,p,h,u,n[f+1],21,-2054922799),u=y(u,c,p,h,n[f+8],6,1873313359),h=y(h,u,c,p,n[f+15],10,-30611744),p=y(p,h,u,c,n[f+6],15,-1560198380),c=y(c,p,h,u,n[f+13],21,1309151649),u=y(u,c,p,h,n[f+4],6,-145523070),h=y(h,u,c,p,n[f+11],10,-1120210379),p=y(p,h,u,c,n[f+2],15,718787259),c=y(c,p,h,u,n[f+9],21,-343485551),u=u+v>>>0,c=c+b>>>0,p=p+k>>>0,h=h+w>>>0}return r.endian([u,c,p,h])})._ff=function(e,t,n,r,i,s,a){var o=e+(t&n|~t&r)+(i>>>0)+a;return(o<<s|o>>>32-s)+t},o._gg=function(e,t,n,r,i,s,a){var o=e+(t&r|n&~r)+(i>>>0)+a;return(o<<s|o>>>32-s)+t},o._hh=function(e,t,n,r,i,s,a){var o=e+(t^n^r)+(i>>>0)+a;return(o<<s|o>>>32-s)+t},o._ii=function(e,t,n,r,i,s,a){var o=e+(n^(t|~r))+(i>>>0)+a;return(o<<s|o>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(o(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},3865:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))n.call(s,u)&&(o[u]=s[u]);if(t){a=t(s);for(var c=0;c<a.length;c++)r.call(s,a[c])&&(o[a[c]]=s[a[c]])}}return o}},4392:(e,t,n)=>{"use strict";var r=n(8281),i=n(3865),s=n(9551);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var o=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,d={},m={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(d,e)&&(h.test(e)?m[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,A=60114,D=60109,P=60110,R=60112,O=60113,C=60120,T=60115,F=60116,M=60121,N=60128,j=60129,I=60130,B=60131;if("function"==typeof Symbol&&Symbol.for){var H=Symbol.for;x=H("react.element"),_=H("react.portal"),E=H("react.fragment"),S=H("react.strict_mode"),A=H("react.profiler"),D=H("react.provider"),P=H("react.context"),R=H("react.forward_ref"),O=H("react.suspense"),C=H("react.suspense_list"),T=H("react.memo"),F=H("react.lazy"),M=H("react.block"),H("react.scope"),N=H("react.opaque.id"),j=H("react.debug_trace_mode"),I=H("react.offscreen"),B=H("react.legacy_hidden")}var L,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function U(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function K(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Y(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case A:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case C:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return $(e.type);case M:return $(e._render);case F:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ue(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,me,ge=(me=function(e,t){if(e.namespaceURI!==pe.svg||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,De=null,Pe=null;function Re(e){if(e=ti(e)){if("function"!=typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=ri(t),Ae(e.stateNode,e.type,t))}}function Oe(e){De?Pe?Pe.push(e):Pe=[e]:De=e}function Ce(){if(De){var e=De,t=Pe;if(Pe=De=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Te(e,t){return e(t)}function Fe(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Ne=Te,je=!1,Ie=!1;function Be(){null===De&&null===Pe||(Me(),Ce())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=ri(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(p)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Le=!1}function ze(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ue=!1,Ve=null,Ke=!1,Ye=null,$e={onError:function(e){Ue=!0,Ve=e}};function We(e,t,n,r,i,s,a,o,l){Ue=!1,Ve=null,ze.apply($e,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Ge(e)!==e)throw Error(a(188))}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Ze,et,tt,nt,rt=!1,it=[],st=null,at=null,ot=null,lt=new Map,ut=new Map,ct=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ot=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function dt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ht(t,n,r,i,s),null!==t&&null!==(t=ti(t))&&et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ei(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ti(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ti(e.blockedOn))&&Ze(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&gt(st)&&(st=null),null!==at&&gt(at)&&(at=null),null!==ot&&gt(ot)&&(ot=null),lt.forEach(yt),ut.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vt)))}function kt(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==at&&bt(at,e),null!==ot&&bt(ot,e),lt.forEach(t),ut.forEach(t),n=0;n<ct.length;n++)(r=ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ct.length&&null===(n=ct[0]).blockedOn;)mt(n),null===n.blockedOn&&ct.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},_t={},Et={};function St(e){if(_t[e])return _t[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return _t[e]=n[t];return e}p&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var At=St("animationend"),Dt=St("animationiteration"),Pt=St("animationstart"),Rt=St("transitionend"),Ot=new Map,Ct=new Map,Tt=["abort","abort",At,"animationEnd",Dt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ct.set(r,t),Ot.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Mt=8;function Nt(e){if(1&e)return Mt=15,1;if(2&e)return Mt=14,2;if(4&e)return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):32&e?(Mt=11,32):0!=(t=192&e)?(Mt=10,t):256&e?(Mt=9,256):0!=(t=3584&e)?(Mt=8,t):4096&e?(Mt=7,4096):0!=(t=4186112&e)?(Mt=6,t):0!=(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):134217728&e?(Mt=3,134217728):0!=(t=805306368&e)?(Mt=2,t):1073741824&e?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,s=e.expiredLanes,a=e.suspendedLanes,o=e.pingedLanes;if(0!==s)r=s,i=Mt=15;else if(0!=(s=134217727&n)){var l=s&~a;0!==l?(r=Nt(l),i=Mt):0!=(o&=s)&&(r=Nt(o),i=Mt)}else 0!=(s=n&~a)?(r=Nt(s),i=Mt):0!==o&&(r=Nt(o),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(Nt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function It(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Lt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/Vt|0)|0},Ut=Math.log,Vt=Math.LN2,Kt=s.unstable_UserBlockingPriority,Yt=s.unstable_runWithPriority,$t=!0;function Wt(e,t,n,r){je||Me();var i=Jt,s=je;je=!0;try{Fe(i,e,t,n,r)}finally{(je=s)||Be()}}function Gt(e,t,n,r){Yt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=!(4&t))&&0<it.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var s=Qt(e,t,n,r);if(null===s)i&&ft(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ht(s,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=dt(st,e,t,n,r,i),!0;case"dragenter":return at=dt(at,e,t,n,r,i),!0;case"mouseover":return ot=dt(ot,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return lt.set(s,dt(lt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ut.set(s,dt(ut.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;ft(e,r)}Fr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Se(r);if(null!==(i=ei(i))){var s=Ge(i);if(null===s)i=null;else{var a=s.tag;if(13===a){if(null!==(i=Je(s)))return i;i=null}else if(3===a){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fr(e,t,r,i,n),null}var Xt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=an(cn),hn=i({},cn,{view:0,detail:0}),fn=an(hn),dn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(dn),gn=an(i({},dn,{dataTransfer:0})),yn=an(i({},hn,{relatedTarget:0})),vn=an(i({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(bn),wn=an(i({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function An(){return Sn}var Dn=i({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Dn),Rn=an(i({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Cn=an(i({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=an(Tn),Mn=[9,13,27,32],Nn=p&&"CompositionEvent"in window,jn=null;p&&"documentMode"in document&&(jn=document.documentMode);var In=p&&"TextEvent"in window&&!jn,Bn=p&&(!Nn||jn&&8<jn&&11>=jn),Hn=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Nr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Wn=null;function Gn(e){Dr(e,0)}function Jn(e){if(Q(ni(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(p){var Zn;if(p){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Zn=er}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){$n&&($n.detachEvent("onpropertychange",rr),Wn=$n=null)}function rr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];if(Yn(t,Wn,e,Se(e)),e=Gn,je)e(t);else{je=!0;try{Te(e,t)}finally{je=!1,Be()}}}}function ir(e,t,n){"focusin"===e?(nr(),Wn=n,($n=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=p&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,br=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Nr(vr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Tt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<xr.length;_r++)Ct.set(xr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(We.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=Ve;Ue=!1,Ve=null,Ke||(Ke=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,o,u),s=l}}}if(Ke)throw e=Ye,Ke=!1,Ye=null,e}function Pr(e,t){var n=ii(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,o.forEach((function(t){Sr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,s=r}var a=ii(s),o=e+"__"+(t?"capture":"bubble");a.has(o)||(t&&(i|=4),Tr(s,e,i,t),a.add(o))}function Tr(e,t,n,r){var i=Ct.get(t);switch(void 0===i?2:i){case 0:i=Wt;break;case 1:i=Gt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=ei(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e();Ie=!0;try{return Ne(e,t,n)}finally{Ie=!1,Be()}}((function(){var r=s,i=Se(n),a=[];e:{var o=Ot.get(e);if(void 0!==o){var l=pn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case At:case Dt:case Pt:l=vn;break;case Rt:l=Cn;break;case"scroll":l=fn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=!!(4&t),p=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,d=r;null!==d;){var m=(f=d).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=He(d,h))&&c.push(Mr(d,m,f))),p)break;d=d.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||16&t||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[Xr])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(p=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,m="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,m="onPointerLeave",h="onPointerEnter",d="pointer"),p=null==l?o:ni(l),f=null==u?o:ni(u),(o=new c(m,d+"leave",l,n,i)).target=p,o.relatedTarget=f,m=null,ei(i)===r&&((c=new c(h,d+"enter",u,n,i)).target=f,c.relatedTarget=p,m=c),p=m,l&&u)e:{for(h=u,d=0,f=c=l;f;f=jr(f))d++;for(f=0,m=h;m;m=jr(m))f++;for(;0<d-f;)c=jr(c),d--;for(;0<f-d;)h=jr(h),f--;for(;d--;){if(c===h||null!==h&&c===h.alternate)break e;c=jr(c),h=jr(h)}c=null}else c=null;null!==l&&Ir(a,o,l,c,!1),null!==u&&null!==p&&Ir(a,p,u,c,!0)}if("select"===(l=(o=r?ni(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Kn(o))if(Xn)g=or;else{g=sr;var y=ir}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Yn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ie(o,"number",o.value)),y=r?ni(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,br=null);break;case"focusout":br=vr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=tn()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Nr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Hn);case"textInput":return(e=t.data)===Hn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&qn(e,t)?(e=tn(),en=Zt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Nr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Dr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=He(e,n))&&r.unshift(Mr(e,s,i)),null!=(s=He(e,t))&&r.push(Mr(e,s,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=He(n,s))&&a.unshift(Mr(n,l,o)):i||null!=(l=He(n,s))&&a.push(Mr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Hr=null,Lr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Gr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Gr,Qr="__reactProps$"+Gr,Xr="__reactContainer$"+Gr,Zr="__reactEvents$"+Gr;function ei(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Jr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ri(e){return e[Qr]||null}function ii(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var si=[],ai=-1;function oi(e){return{current:e}}function li(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ui(e,t){ai++,si[ai]=e.current,e.current=t}var ci={},pi=oi(ci),hi=oi(!1),fi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mi(e){return null!=e.childContextTypes}function gi(){li(hi),li(pi)}function yi(e,t,n){if(pi.current!==ci)throw Error(a(168));ui(pi,t),ui(hi,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(a(108,$(t)||"Unknown",s));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,fi=pi.current,ui(pi,e),ui(hi,hi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(pi),ui(pi,e)):li(hi),ui(hi,n)}var wi=null,xi=null,_i=s.unstable_runWithPriority,Ei=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ai=s.unstable_shouldYield,Di=s.unstable_requestPaint,Pi=s.unstable_now,Ri=s.unstable_getCurrentPriorityLevel,Oi=s.unstable_ImmediatePriority,Ci=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,Fi=s.unstable_LowPriority,Mi=s.unstable_IdlePriority,Ni={},ji=void 0!==Di?Di:function(){},Ii=null,Bi=null,Hi=!1,Li=Pi(),qi=1e4>Li?Pi:function(){return Pi()-Li};function zi(){switch(Ri()){case Oi:return 99;case Ci:return 98;case Ti:return 97;case Fi:return 96;case Mi:return 95;default:throw Error(a(332))}}function Ui(e){switch(e){case 99:return Oi;case 98:return Ci;case 97:return Ti;case 96:return Fi;case 95:return Mi;default:throw Error(a(332))}}function Vi(e,t){return e=Ui(e),_i(e,t)}function Ki(e,t,n){return e=Ui(e),Ei(e,t,n)}function Yi(){if(null!==Bi){var e=Bi;Bi=null,Si(e)}$i()}function $i(){if(!Hi&&null!==Ii){Hi=!0;var e=0;try{var t=Ii;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(t){throw null!==Ii&&(Ii=Ii.slice(e+1)),Ei(Oi,Yi),t}finally{Hi=!1}}}var Wi=w.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=oi(null),Qi=null,Xi=null,Zi=null;function es(){Zi=Xi=Qi=null}function ts(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ns(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function rs(e,t){Qi=e,Zi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function is(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Qi)throw Error(a(308));Xi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var ss=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,r){var s=e.updateQueue;ss=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var p=e.alternate;if(null!==p){var h=(p=p.updateQueue).lastBaseUpdate;h!==o&&(null===h?p.firstBaseUpdate=c:h.next=c,p.lastBaseUpdate=u)}}if(null!==a){for(h=s.baseState,o=0,p=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==p&&(p=p.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(d=m.payload)){h=d.call(f,h,l);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(l="function"==typeof(d=m.payload)?d.call(f,h,l):d))break e;h=i({},h,l);break e;case 2:ss=!0}}null!==a.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===p?(c=p=f,u=h):p=p.next=f,o|=l;if(null===(a=a.next)){if(null===(l=s.shared.pending))break;a=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===p&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=p,Bo|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fs=(new r.Component).refs;function ds(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ms={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=ls(r,i);s.payload=t,null!=n&&(s.callback=n),us(e,s),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=ls(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),us(e,s),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=ls(n,r);i.tag=2,null!=t&&(i.callback=t),us(e,i),pl(e,r,n)}};function gs(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,s))}function ys(e,t,n){var r=!1,i=ci,s=t.contextType;return"object"==typeof s&&null!==s?s=is(s):(i=mi(t)?fi:pi.current,s=(r=null!=(r=t.contextTypes))?di(e,i):ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fs,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=is(s):(s=mi(t)?fi:pi.current,i.context=di(e,s)),ps(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ds(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ms.enqueueReplaceState(i,i.state,null),ps(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var ks=Array.isArray;function ws(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===fs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xs(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _s(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ws(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=ws(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=Kl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=ws(e,null,t),n.return=e,n;case _:return(t=Wl(t,e.mode,n)).return=e,t}if(ks(t)||z(t))return(t=Kl(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?p(e,t,n.props.children,r,i):u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null}if(ks(n)||z(n))return null!==i?null:p(e,t,n,r,null);xs(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?p(t,e,r.props.children,i,r.key):u(t,e,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ks(r)||z(r))return p(t,e=e.get(n)||null,r,i,null);xs(t,r)}return null}function m(i,a,o,l){for(var u=null,c=null,p=a,m=a=0,g=null;null!==p&&m<o.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=f(i,p,o[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=s(y,a,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===o.length)return n(i,p),u;if(null===p){for(;m<o.length;m++)null!==(p=h(i,o[m],l))&&(a=s(p,a,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);m<o.length;m++)null!==(g=d(p,i,m,o[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),u}function g(i,o,l,u){var c=z(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var p=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===p?c=b:p.sibling=b,p=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(o=s(v,o,g),null===p?c=v:p.sibling=v,p=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=d(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===p?c=v:p.sibling=v,p=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"==typeof s&&null!==s&&s.type===E&&null===s.key;u&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case x:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===E){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=ws(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===E?((r=Kl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Vl(s.type,s.key,s.props,null,e.mode,l)).ref=ws(e,r,s),l.return=e,e=l)}return o(e);case _:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(s,e.mode,l)).return=e,e=r}return o(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=$l(s,e.mode,l)).return=e,e=r),o(e);if(ks(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(c&&xs(e,s),void 0===s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,$(e.type)||"Component"))}return n(e,r)}}var Es=_s(!0),Ss=_s(!1),As={},Ds=oi(As),Ps=oi(As),Rs=oi(As);function Os(e){if(e===As)throw Error(a(174));return e}function Cs(e,t){switch(ui(Rs,t),ui(Ps,e),ui(Ds,As),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ds),ui(Ds,t)}function Ts(){li(Ds),li(Ps),li(Rs)}function Fs(e){Os(Rs.current);var t=Os(Ds.current),n=fe(t,e.type);t!==n&&(ui(Ps,e),ui(Ds,n))}function Ms(e){Ps.current===e&&(li(Ds),li(Ps))}var Ns=oi(0);function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Is=null,Bs=null,Hs=!1;function Ls(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zs(e){if(Hs){var t=Bs;if(t){var n=t;if(!qs(e,t)){if(!(t=Yr(n.nextSibling))||!qs(e,t))return e.flags=-1025&e.flags|2,Hs=!1,void(Is=e);Ls(Is,n)}Is=e,Bs=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Hs=!1,Is=e}}function Us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Is=e}function Vs(e){if(e!==Is)return!1;if(!Hs)return Us(e),Hs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Bs;t;)Ls(e,t),t=Yr(t.nextSibling);if(Us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bs=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bs=null}}else Bs=Is?Yr(e.stateNode.nextSibling):null;return!0}function Ks(){Bs=Is=null,Hs=!1}var Ys=[];function $s(){for(var e=0;e<Ys.length;e++)Ys[e]._workInProgressVersionPrimary=null;Ys.length=0}var Ws=w.ReactCurrentDispatcher,Gs=w.ReactCurrentBatchConfig,Js=0,Qs=null,Xs=null,Zs=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,s){if(Js=s,Qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=null===e||null===e.memoizedState?Oa:Ca,e=n(r,i),ta){s=0;do{if(ta=!1,!(25>s))throw Error(a(301));s+=1,Zs=Xs=null,t.updateQueue=null,Ws.current=Ta,e=n(r,i)}while(ta)}if(Ws.current=Ra,t=null!==Xs&&null!==Xs.next,Js=0,Zs=Xs=Qs=null,ea=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zs?Qs.memoizedState=Zs=e:Zs=Zs.next=e,Zs}function aa(){if(null===Xs){var e=Qs.alternate;e=null!==e?e.memoizedState:null}else e=Xs.next;var t=null===Zs?Qs.memoizedState:Zs.next;if(null!==t)Zs=t,Xs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xs=e).memoizedState,baseState:Xs.baseState,baseQueue:Xs.baseQueue,queue:Xs.queue,next:null},null===Zs?Qs.memoizedState=Zs=e:Zs=Zs.next=e}return Zs}function oa(e,t){return"function"==typeof t?t(e):t}function la(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=s=null,u=i;do{var c=u.lane;if((Js&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var p={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(o=l=p,s=r):l=l.next=p,Qs.lanes|=c,Bo|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=o,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);lr(s,t.memoizedState)||(Ma=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Js&e)===e)&&(t._workInProgressVersionPrimary=r,Ys.push(t))),e)return n(t._source);throw Ys.push(t),Error(a(350))}function pa(e,t,n,r){var i=Oo;if(null===i)throw Error(a(349));var s=t._getVersion,o=s(t._source),l=Ws.current,u=l.useState((function(){return ca(i,t,n)})),c=u[1],p=u[0];u=Zs;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,m=h.source;h=h.subscribe;var g=Qs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!lr(o,e)){e=n(t._source),lr(p,e)||(c(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-zt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(d,n)&&lr(m,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:p}).dispatch=c=Pa.bind(null,Qs,e),u.queue=e,u.baseQueue=null,p=ca(i,t,n),u.memoizedState=u.baseState=p),p}function ha(e,t,n){return pa(aa(),e,t,n)}function fa(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e}).dispatch=Pa.bind(null,Qs,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qs.updateQueue)?(t={lastEffect:null},Qs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},sa().memoizedState=e}function ga(){return aa().memoizedState}function ya(e,t,n,r){var i=sa();Qs.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=aa();r=void 0===r?null:r;var s=void 0;if(null!==Xs){var a=Xs.memoizedState;if(s=a.destroy,null!==r&&ra(r,a.deps))return void da(t,n,s,r)}Qs.flags|=e,i.memoizedState=da(1|t,n,s,r)}function ba(e,t){return ya(516,4,e,t)}function ka(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function xa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,xa.bind(null,t,e),n)}function Ea(){}function Sa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Da(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Gs.transition;Gs.transition=1;try{e(!1),t()}finally{Gs.transition=n}}))}function Pa(e,t,n){var r=ul(),i=cl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===Qs||null!==a&&a===Qs)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(s.eagerReducer=a,s.eagerState=l,lr(l,o))return}catch(e){}pl(e,i,r)}}var Ra={readContext:is,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Oa={readContext:is,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:is,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,Qs,e),[r.memoizedState,e]},useRef:ma,useState:fa,useDebugValue:Ea,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ba((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return ma(e=Da.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Hs){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=fa(t)[1];return!(2&Qs.mode)&&(Qs.flags|=516,da(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Ca={readContext:is,useCallback:Sa,useContext:is,useEffect:ka,useImperativeHandle:_a,useLayoutEffect:wa,useMemo:Aa,useReducer:la,useRef:ga,useState:function(){return la(oa)},useDebugValue:Ea,useDeferredValue:function(e){var t=la(oa),n=t[0],r=t[1];return ka((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){var e=la(oa)[0];return[ga().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return la(oa)[0]},unstable_isNewReconciler:!1},Ta={readContext:is,useCallback:Sa,useContext:is,useEffect:ka,useImperativeHandle:_a,useLayoutEffect:wa,useMemo:Aa,useReducer:ua,useRef:ga,useState:function(){return ua(oa)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(oa),n=t[0],r=t[1];return ka((function(){var t=Gs.transition;Gs.transition=1;try{r(e)}finally{Gs.transition=t}}),[e]),n},useTransition:function(){var e=ua(oa)[0];return[ga().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(oa)[0]},unstable_isNewReconciler:!1},Fa=w.ReactCurrentOwner,Ma=!1;function Na(e,t,n,r){t.child=null===e?Ss(t,null,n,r):Es(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var s=t.ref;return rs(t,i),r=ia(e,t,n,r,s,i),null===e||Ma?(t.flags|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,to(e,t,i))}function Ia(e,t,n,r,i,s){if(null===e){var a=n.type;return"function"!=typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,s))}return a=e.child,i&s||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:cr)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=Ul(a,r)).ref=t.ref,e.return=t,t.child=e):to(e,t,s)}function Ba(e,t,n,r,i,s){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,!(s&i))return t.lanes=e.lanes,to(e,t,s);16384&e.flags&&(Ma=!0)}return qa(e,t,n,r,s)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==s?s.baseLanes:n)}else t.memoizedState={baseLanes:0},bl(0,n);else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,bl(0,r);return Na(e,t,i,n),t.child}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,i){var s=mi(n)?fi:pi.current;return s=di(t,s),rs(t,i),n=ia(e,t,n,r,s,i),null===e||Ma?(t.flags|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,to(e,t,i))}function za(e,t,n,r,i){if(mi(n)){var s=!0;bi(t)}else s=!1;if(rs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ys(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?is(u):di(t,u=mi(n)?fi:pi.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&vs(t,a,r,u),ss=!1;var h=t.memoizedState;a.state=h,ps(t,r,a,i),l=t.memoizedState,o!==r||h!==l||hi.current||ss?("function"==typeof c&&(ds(t,n,c,r),l=t.memoizedState),(o=ss||gs(t,n,o,r,h,l,u))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,os(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Gi(t.type,o),a.props=u,p=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?is(l):di(t,l=mi(n)?fi:pi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==p||h!==l)&&vs(t,a,r,l),ss=!1,h=t.memoizedState,a.state=h,ps(t,r,a,i);var d=t.memoizedState;o!==p||h!==d||hi.current||ss?("function"==typeof f&&(ds(t,n,f,r),d=t.memoizedState),(u=ss||gs(t,n,u,r,h,d,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ua(e,t,n,r,s,i)}function Ua(e,t,n,r,i,s){La(e,t);var a=!!(64&t.flags);if(!r&&!a)return i&&ki(t,n,!1),to(e,t,s);r=t.stateNode,Fa.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,o,s)):Na(e,t,o,s),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Cs(e,t.containerInfo)}var Ka,Ya,$a,Wa,Ga={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,s=Ns.current,a=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ui(Ns,1&s),null===e?(void 0!==i.fallback&&zs(t),e=i.children,s=i.fallback,a?(e=Qa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qa(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var s=t.mode,a=e.child;e=a.sibling;var o={mode:"hidden",children:n};return 2&s||t.child===a?n=Ul(a,o):((n=t.child).childLanes=0,n.pendingProps=o,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Ul(e,r):(r=Kl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ga,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Ul(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},2&i||null===s?s=Yl(t,i,0,null):(s.childLanes=0,s.pendingProps=t),n=Kl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Xa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ns(e.return,t)}function Za(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function eo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Na(e,t,r.children,n),2&(r=Ns.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n);else if(19===e.tag)Xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Ns,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Za(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===js(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Za(t,!0,n,null,s,t.lastEffect);break;case"together":Za(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function to(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bo|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function no(e,t){if(!Hs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ro(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Ts(),li(hi),li(pi),$s(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ya(t),null;case 5:Ms(t);var s=Os(Rs.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Os(Ds.current),Vs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jr]=t,r[Qr]=o,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Pr(Er[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,o),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pr("invalid",r);break;case"textarea":le(r,o),Pr("invalid",r)}for(var u in _e(n,o),e=null,o)o.hasOwnProperty(u)&&(s=o[u],"children"===u?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Pr("scroll",r));switch(n){case"input":J(r),re(r,o,!0);break;case"textarea":J(r),ce(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===pe.html&&(e=he(n)),e===pe.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Qr]=r,Ka(e,t,!1,!1),t.stateNode=e,u=Ee(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),s=r;break;case"iframe":case"object":case"embed":Pr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Er.length;s++)Pr(Er[s],e);s=r;break;case"source":Pr("error",e),s=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),s=r;break;case"details":Pr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Pr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":le(e,r),s=oe(e,r),Pr("invalid",e);break;default:s=r}_e(n,s);var c=s;for(o in c)if(c.hasOwnProperty(o)){var p=c[o];"style"===o?we(e,p):"dangerouslySetInnerHTML"===o?null!=(p=p?p.__html:void 0)&&ge(e,p):"children"===o?"string"==typeof p?("textarea"!==n||""!==p)&&ye(e,p):"number"==typeof p&&ye(e,""+p):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=p&&"onScroll"===o&&Pr("scroll",e):null!=p&&k(e,o,p,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ae(e,!!r.multiple,o,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Br)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Os(Rs.current),Os(Ds.current),Vs(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ns),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vs(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Ns.current?0===No&&(No=3):(0!==No&&3!==No||(No=4),null===Oo||!(134217727&Bo)&&!(134217727&Ho)||ml(Oo,To))),(r||n)&&(t.flags|=4),null);case 4:return Ts(),Ya(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ts(t),null;case 19:if(li(Ns),null===(r=t.memoizedState))return null;if(o=!!(64&t.flags),null===(u=r.rendering))if(o)no(r,!1);else{if(0!==No||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(u=js(e))){for(t.flags|=64,no(r,!1),null!==(o=u.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Ns,1&Ns.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Uo&&(t.flags|=64,o=!0,no(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=js(u))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),no(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Hs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Uo&&1073741824!==n&&(t.flags|=64,o=!0,no(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ns.current,ui(Ns,o?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function io(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ts(),li(hi),li(pi),$s(),64&(t=e.flags))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ms(e),null;case 13:return li(Ns),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ns),null;case 4:return Ts(),null;case 10:return ts(e),null;case 23:case 24:return kl(),null;default:return null}}function so(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ao(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(){},$a=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(Ds.current);var a,o=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),o=[];break;case"option":s=se(e,s),r=se(e,r),o=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),o=[];break;case"textarea":s=oe(e,s),r=oe(e,r),o=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Br)}for(p in _e(n,r),n=null,s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&null!=s[p])if("style"===p){var u=s[p];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(l.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var c=r[p];if(u=null!=s?s[p]:void 0,r.hasOwnProperty(p)&&c!==u&&(null!=c||null!=u))if("style"===p)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(p,n)),n=c;else"dangerouslySetInnerHTML"===p?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(p,c)):"children"===p?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(p,""+c):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(l.hasOwnProperty(p)?(null!=c&&"onScroll"===p&&Pr("scroll",e),o||u===c||(o=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(o=o||[]).push(p,c))}n&&(o=o||[]).push("style",n);var p=o;(t.updateQueue=p)&&(t.flags|=4)}},Wa=function(e,t,n,r){n!==r&&(t.flags|=4)};var oo="function"==typeof WeakMap?WeakMap:Map;function lo(e,t,n){(n=ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$o||($o=!0,Wo=r),ao(0,t)},n}function uo(e,t,n){(n=ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ao(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Go?Go=new Set([this]):Go.add(this),ao(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var co="function"==typeof WeakSet?WeakSet:Set;function po(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Il(e,t)}else t.current=null}function ho(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(a(163))}function fo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Ml(n,e),Fl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&hs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}hs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(a(163))}function mo(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function go(e,t){if(xi&&"function"==typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Ml(t,n);else{r=t;try{i()}catch(e){Il(r,e)}}n=n.next}while(n!==e)}break;case 1:if(po(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Il(t,e)}break;case 5:po(t);break;case 4:xo(e,t)}}function yo(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vo(e){return 5===e.tag||3===e.tag||4===e.tag}function bo(e){e:{for(var t=e.return;null!==t;){if(vo(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ko(e,n,t):wo(e,n,t)}function ko(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(ko(e,t,n),e=e.sibling;null!==e;)ko(e,t,n),e=e.sibling}function wo(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wo(e,t,n),e=e.sibling;null!==e;)wo(e,t,n),e=e.sibling}function xo(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var o=e,l=i,u=l;;)if(go(o,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(o=n,l=i.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(go(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function _o(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];"style"===o?we(n,l):"dangerouslySetInnerHTML"===o?ge(n,l):"children"===o?ye(n,l):k(n,o,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ae(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(zo=qi(),mo(t.child,!0)),void Eo(t);case 19:return void Eo(t);case 23:case 24:return void mo(t,null!==t.memoizedState)}throw Error(a(163))}function Eo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new co),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function So(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ao=Math.ceil,Do=w.ReactCurrentDispatcher,Po=w.ReactCurrentOwner,Ro=0,Oo=null,Co=null,To=0,Fo=0,Mo=oi(0),No=0,jo=null,Io=0,Bo=0,Ho=0,Lo=0,qo=null,zo=0,Uo=1/0;function Vo(){Uo=qi()+500}var Ko,Yo=null,$o=!1,Wo=null,Go=null,Jo=!1,Qo=null,Xo=90,Zo=[],el=[],tl=null,nl=0,rl=null,il=-1,sl=0,al=0,ol=null,ll=!1;function ul(){return 48&Ro?qi():-1!==il?il:il=qi()}function cl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===sl&&(sl=Io),0!==Wi.transition){0!==al&&(al=null!==qo?qo.pendingLanes:0),e=sl;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Bt(4&Ro&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function pl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(e=hl(e,t)))return null;qt(e,t,n),e===Oo&&(Ho|=t,4===No&&ml(e,To));var r=zi();1===t?8&Ro&&!(48&Ro)?gl(e):(fl(e,n),0===Ro&&(Vo(),Yi())):(!(4&Ro)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),qo=e}function hl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-zt(o),u=1<<l,c=s[l];if(-1===c){if(!(u&r)||u&i){c=t,Nt(u);var p=Mt;s[l]=10<=p?c+250:6<=p?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);o&=~u}if(r=jt(e,e===Oo?To:0),t=Mt,0===r)null!==n&&(n!==Ni&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Si(n)}15===t?(n=gl.bind(null,e),null===Ii?(Ii=[n],Bi=Ei(Oi,$i)):Ii.push(n),n=Ni):14===t?n=Ki(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ki(n,dl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function dl(e){if(il=-1,al=sl=0,48&Ro)throw Error(a(327));var t=e.callbackNode;if(Tl()&&e.callbackNode!==t)return null;var n=jt(e,e===Oo?To:0);if(0===n)return null;var r=n,i=Ro;Ro|=16;var s=_l();for(Oo===e&&To===r||(Vo(),wl(e,r));;)try{Al();break}catch(t){xl(e,t)}if(es(),Do.current=s,Ro=i,null!==Co?r=0:(Oo=null,To=0,r=No),Io&Ho)wl(e,0);else if(0!==r){if(2===r&&(Ro|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=It(e))&&(r=El(e,n))),1===r)throw t=jo,wl(e,0),ml(e,n),fl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=zo+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Rl.bind(null,e),r);break}Rl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-zt(n);s=1<<o,(o=r[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ao(n/1960))-n)){e.timeoutHandle=Ur(Rl.bind(null,e),n);break}Rl(e);break;default:throw Error(a(329))}}return fl(e,qi()),e.callbackNode===t?dl.bind(null,e):null}function ml(e,t){for(t&=~Lo,t&=~Ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(48&Ro)throw Error(a(327));if(Tl(),e===Oo&&e.expiredLanes&To){var t=To,n=El(e,t);Io&Ho&&(n=El(e,t=jt(e,t)))}else n=El(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ro|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=It(e))&&(n=El(e,t))),1===n)throw n=jo,wl(e,0),ml(e,t),fl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e),fl(e,qi()),null}function yl(e,t){var n=Ro;Ro|=1;try{return e(t)}finally{0===(Ro=n)&&(Vo(),Yi())}}function vl(e,t){var n=Ro;Ro&=-2,Ro|=8;try{return e(t)}finally{0===(Ro=n)&&(Vo(),Yi())}}function bl(e,t){ui(Mo,Fo),Fo|=t,Io|=t}function kl(){Fo=Mo.current,li(Mo)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Co)for(n=Co.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Ts(),li(hi),li(pi),$s();break;case 5:Ms(r);break;case 4:Ts();break;case 13:case 19:li(Ns);break;case 10:ts(r);break;case 23:case 24:kl()}n=n.return}Oo=e,Co=Ul(e.current,null),To=Fo=Io=t,No=0,jo=null,Lo=Ho=Bo=0}function xl(e,t){for(;;){var n=Co;try{if(es(),Ws.current=Ra,ea){for(var r=Qs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(Js=0,Zs=Xs=Qs=null,ta=!1,Po.current=null,null===n||null===n.return){No=1,jo=t,Co=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=To,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(!(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var p=!!(1&Ns.current),h=a;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!p)}}if(f){var g=h.updateQueue;if(null===g){var y=new Set;y.add(u),h.updateQueue=y}else g.add(u);if(!(2&h.mode)){if(h.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=ls(-1,1);v.tag=2,us(o,v)}o.lanes|=1;break e}l=void 0,o=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new oo,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(o)){l.add(o);var k=Bl.bind(null,s,u,o);u.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error(($(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==No&&(No=2),l=so(l,o),h=a;do{switch(h.tag){case 3:s=l,h.flags|=4096,t&=-t,h.lanes|=t,cs(h,lo(0,s,t));break e;case 1:s=l;var w=h.type,x=h.stateNode;if(!(64&h.flags||"function"!=typeof w.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Go&&Go.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,cs(h,uo(h,s,t));break e}}h=h.return}while(null!==h)}Pl(n)}catch(e){t=e,Co===n&&null!==n&&(Co=n=n.return);continue}break}}function _l(){var e=Do.current;return Do.current=Ra,null===e?Ra:e}function El(e,t){var n=Ro;Ro|=16;var r=_l();for(Oo===e&&To===t||wl(e,t);;)try{Sl();break}catch(t){xl(e,t)}if(es(),Ro=n,Do.current=r,null!==Co)throw Error(a(261));return Oo=null,To=0,No}function Sl(){for(;null!==Co;)Dl(Co)}function Al(){for(;null!==Co&&!Ai();)Dl(Co)}function Dl(e){var t=Ko(e.alternate,e,Fo);e.memoizedProps=e.pendingProps,null===t?Pl(e):Co=t,Po.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=io(t)))return n.flags&=2047,void(Co=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=ro(n,t,Fo)))return void(Co=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Fo||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Co=t);Co=t=e}while(null!==t);0===No&&(No=5)}function Rl(e){var t=zi();return Vi(99,Ol.bind(null,e,t)),null}function Ol(e,t){do{Tl()}while(null!==Qo);if(48&Ro)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-zt(s),c=1<<u;i[u]=0,o[u]=-1,l[u]=-1,s&=~c}if(null!==tl&&!(24&r)&&tl.has(e)&&tl.delete(e),e===Oo&&(Co=Oo=null,To=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ro,Ro|=32,Po.current=null,Hr=$t,mr(o=dr())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var p=0,h=-1,f=-1,d=0,m=0,g=o,y=null;t:for(;;){for(var v;g!==l||0!==s&&3!==g.nodeType||(h=p+s),g!==u||0!==c&&3!==g.nodeType||(f=p+c),3===g.nodeType&&(p+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===o)break t;if(y===l&&++d===s&&(h=p),y===u&&++m===c&&(f=p),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Lr={focusedElem:o,selectionRange:l},$t=!1,ol=null,ll=!1,Yo=r;do{try{Cl()}catch(e){if(null===Yo)throw Error(a(330));Il(Yo,e),Yo=Yo.nextEffect}}while(null!==Yo);ol=null,Yo=r;do{try{for(o=e;null!==Yo;){var b=Yo.flags;if(16&b&&ye(Yo.stateNode,""),128&b){var k=Yo.alternate;if(null!==k){var w=k.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bo(Yo),Yo.flags&=-3;break;case 6:bo(Yo),Yo.flags&=-3,_o(Yo.alternate,Yo);break;case 1024:Yo.flags&=-1025;break;case 1028:Yo.flags&=-1025,_o(Yo.alternate,Yo);break;case 4:_o(Yo.alternate,Yo);break;case 8:xo(o,l=Yo);var x=l.alternate;yo(l),null!==x&&yo(x)}Yo=Yo.nextEffect}}catch(e){if(null===Yo)throw Error(a(330));Il(Yo,e),Yo=Yo.nextEffect}}while(null!==Yo);if(w=Lr,k=dr(),b=w.focusedElem,o=w.selectionRange,k!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==o&&mr(b)&&(k=o.start,void 0===(w=o.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,x=Math.min(o.start,l),o=void 0===o.end?x:Math.min(o.end,l),!w.extend&&x>o&&(l=o,o=x,x=l),l=hr(b,x),s=hr(b,o),l&&s&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>o?(w.addRange(k),w.extend(s.node,s.offset)):(k.setEnd(s.node,s.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Hr,Lr=Hr=null,e.current=n,Yo=r;do{try{for(b=e;null!==Yo;){var _=Yo.flags;if(36&_&&fo(b,Yo.alternate,Yo),128&_){k=void 0;var E=Yo.ref;if(null!==E){var S=Yo.stateNode;Yo.tag,k=S,"function"==typeof E?E(k):E.current=k}}Yo=Yo.nextEffect}}catch(e){if(null===Yo)throw Error(a(330));Il(Yo,e),Yo=Yo.nextEffect}}while(null!==Yo);Yo=null,ji(),Ro=i}else e.current=n;if(Jo)Jo=!1,Qo=e,Xo=t;else for(Yo=r;null!==Yo;)t=Yo.nextEffect,Yo.nextEffect=null,8&Yo.flags&&((_=Yo).sibling=null,_.stateNode=null),Yo=t;if(0===(r=e.pendingLanes)&&(Go=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,xi&&"function"==typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(wi,n,void 0,!(64&~n.current.flags))}catch(e){}if(fl(e,qi()),$o)throw $o=!1,e=Wo,Wo=null,e;return 8&Ro||Yi(),null}function Cl(){for(;null!==Yo;){var e=Yo.alternate;ll||null===ol||(8&Yo.flags?Xe(Yo,ol)&&(ll=!0):13===Yo.tag&&So(e,Yo)&&Xe(Yo,ol)&&(ll=!0));var t=Yo.flags;256&t&&ho(e,Yo),!(512&t)||Jo||(Jo=!0,Ki(97,(function(){return Tl(),null}))),Yo=Yo.nextEffect}}function Tl(){if(90!==Xo){var e=97<Xo?97:Xo;return Xo=90,Vi(e,Nl)}return!1}function Fl(e,t){Zo.push(t,e),Jo||(Jo=!0,Ki(97,(function(){return Tl(),null})))}function Ml(e,t){el.push(t,e),Jo||(Jo=!0,Ki(97,(function(){return Tl(),null})))}function Nl(){if(null===Qo)return!1;var e=Qo;if(Qo=null,48&Ro)throw Error(a(331));var t=Ro;Ro|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"==typeof o)try{o()}catch(e){if(null===s)throw Error(a(330));Il(s,e)}}for(n=Zo,Zo=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(a(330));Il(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ro=t,Yi(),!0}function jl(e,t,n){us(e,t=lo(0,t=so(n,t),1)),t=ul(),null!==(e=hl(e,1))&&(qt(e,1,t),fl(e,t))}function Il(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Go||!Go.has(r))){var i=uo(n,e=so(t,e),1);if(us(n,i),i=ul(),null!==(n=hl(n,1)))qt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Go||!Go.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Oo===e&&(To&n)===n&&(4===No||3===No&&(62914560&To)===To&&500>qi()-zo?wl(e,0):Lo|=n),fl(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===sl&&(sl=Io),0===(t=Ht(62914560&~sl))&&(t=4194304)):t=99===zi()?1:2:t=1),n=ul(),null!==(e=hl(e,t))&&(qt(e,t,n),fl(e,n))}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Ll(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)zl(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case E:return Kl(n.children,i,s,t);case j:o=8,i|=16;break;case S:o=8,i|=1;break;case A:return(e=ql(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=s,e;case O:return(e=ql(13,n,t,i)).type=O,e.elementType=O,e.lanes=s,e;case C:return(e=ql(19,n,t,i)).elementType=C,e.lanes=s,e;case I:return Yl(n,i,s,t);case B:return(e=ql(24,n,t,i)).elementType=B,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case D:o=10;break e;case P:o=9;break e;case R:o=11;break e;case T:o=14;break e;case F:o=16,r=null;break e;case M:o=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ql(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Kl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=I,e.lanes=n,e}function $l(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Lt(0),this.expirationTimes=Lt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r){var i=t.current,s=ul(),o=cl(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=vi(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=ls(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),us(i,t),pl(i,o,s),o}function Ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Xl(e,t),(e=e.alternate)&&Xl(e,t)}function eu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Xr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if("function"==typeof i){var o=i;i=function(){var e=Ql(a);o.call(e)}}Jl(t,a,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new eu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ql(a);l.call(e)}}vl((function(){Jl(t,a,e,i)}))}return Ql(a)}Ko=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Ma=!0;else{if(!(n&r)){switch(Ma=!1,t.tag){case 3:Va(t),Ks();break;case 5:Fs(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Cs(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Ja(e,t,n):(ui(Ns,1&Ns.current),null!==(t=to(e,t,n))?t.sibling:null);ui(Ns,1&Ns.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return eo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Ns,Ns.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return to(e,t,n)}Ma=!!(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,pi.current),rs(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var s=!0;bi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&ds(t,r,o,e),i.updater=ms,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Ua(null,t,r,!0,s,n)}else t.tag=0,Na(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===T)return 14}return 2}(i),e=Gi(i,e),s){case 0:t=qa(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ia(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,os(e,t),ps(t,r,null,n),(r=t.memoizedState.element)===i)Ks(),t=to(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Bs=Yr(t.stateNode.containerInfo.firstChild),Is=t,s=Hs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ys.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,r,n),Ks();t=t.child}return t;case 5:return Fs(t),null===e&&zs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,zr(r,i)?o=null:null!==s&&zr(r,s)&&(t.flags|=16),La(e,t),Na(e,t,o,n),t.child;case 6:return null===e&&zs(t),null;case 13:return Ja(e,t,n);case 4:return Cs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Es(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var l=t.type._context;if(ui(Ji,l._currentValue),l._currentValue=s,null!==o)if(l=o.value,0==(s=lr(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(o.children===i.children&&!hi.current){t=to(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&c.observedBits&s){1===l.tag&&((c=ls(-1,n&-n)).tag=2,us(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ns(l.return,n),u.lanes|=n;break}c=c.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,rs(t,n),r=r(i=is(i,s.unstable_observedBits)),t.flags|=1,Na(e,t,r,n),t.child;case 14:return s=Gi(i=t.type,t.pendingProps),Ia(e,t,i,s=Gi(i.type,s),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,rs(t,n),ys(t,r,i),bs(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return eo(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},eu.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},eu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Xr]=null}))},Ze=function(e){13===e.tag&&(pl(e,4,ul()),Zl(e,4))},et=function(e){13===e.tag&&(pl(e,67108864,ul()),Zl(e,67108864))},tt=function(e){if(13===e.tag){var t=ul(),n=cl(e);pl(e,n,t),Zl(e,n)}},nt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ri(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=yl,Fe=function(e,t,n,r,i){var s=Ro;Ro|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ro=s)&&(Vo(),Yi())}},Me=function(){!(49&Ro)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,qi())}))}Yi()}(),Tl())},Ne=function(e,t){var n=Ro;Ro|=2;try{return e(t)}finally{0===(Ro=n)&&(Vo(),Yi())}};var ru={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qe(i),e;if(s===r)return Qe(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{wi=su.inject(iu),xi=su}catch(me){}}t.render=function(e,t,n){if(!tu(t))throw Error(a(200));return nu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tu(e))throw Error(a(40));return!!e._reactRootContainer&&(vl((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=yl},8568:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4392)},1808:(e,t,n)=>{"use strict";var r=n(3865),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,o=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;i=p("react.element"),s=p("react.portal"),t.Fragment=p("react.fragment"),t.StrictMode=p("react.strict_mode"),t.Profiler=p("react.profiler"),a=p("react.provider"),o=p("react.context"),l=p("react.forward_ref"),t.Suspense=p("react.suspense"),u=p("react.memo"),c=p("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||d}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||d}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:o,props:s,_owner:k.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,n,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return a=a(l=e),e=""===r?"."+A(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),D(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+A(o=e[u],u);l+=D(o,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=D(o=o.value,t,n,c=r+A(o,u++),a);else if("object"===o)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function C(){var e=O.current;if(null===e)throw Error(f(321));return e}var T={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];s.children=u}return{$$typeof:i,type:e.type,key:a,ref:o,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return C().useCallback(e,t)},t.useContext=function(e,t){return C().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return C().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return C().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return C().useLayoutEffect(e,t)},t.useMemo=function(e,t){return C().useMemo(e,t)},t.useReducer=function(e,t,n){return C().useReducer(e,t,n)},t.useRef=function(e){return C().useRef(e)},t.useState=function(e){return C().useState(e)},t.version="17.0.2"},8281:(e,t,n)=>{"use strict";e.exports=n(1808)},5160:(e,t)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,p=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(p,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(p,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,a=e[s],o=s+1,l=e[o];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[o]=n,r=o):(e[r]=a,e[s]=n,r=s);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],D=[],P=1,R=null,O=3,C=!1,T=!1,F=!1;function M(e){for(var t=_(D);null!==t;){if(null===t.callback)E(D);else{if(!(t.startTime<=e))break;E(D),t.sortIndex=t.expirationTime,x(A,t)}t=_(D)}}function N(e){if(F=!1,M(e),!T)if(null!==_(A))T=!0,n(j);else{var t=_(D);null!==t&&r(N,t.startTime-e)}}function j(e,n){T=!1,F&&(F=!1,i()),C=!0;var s=O;try{for(M(n),R=_(A);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=R.callback;if("function"==typeof a){R.callback=null,O=R.priorityLevel;var o=a(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?R.callback=o:R===_(A)&&E(A),M(n)}else E(A);R=_(A)}if(null!==R)var l=!0;else{var u=_(D);null!==u&&r(N,u.startTime-n),l=!1}return l}finally{R=null,O=s,C=!1}}var I=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||C||(T=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return _(A)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,s,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:s,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(e.sortIndex=a,x(D,e),null===_(A)&&e===_(D)&&(F?i():F=!0,r(N,a-o))):(e.sortIndex=l,x(A,e),T||C||(T=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},9551:(e,t,n)=>{"use strict";e.exports=n(5160)},8818:e=>{e.exports=[{pw:"%E6%B2%A1%E6%9C%89%E8%9B%80%E7%89%99%EF%BC%81",times:3,type:"diamonds",value:333},{pw:"%E6%88%91%E6%98%AF%E8%90%8C%E6%96%B0",times:1,type:"diamonds",value:400},{pw:"%E6%B5%99%E6%B1%9F%E6%B3%BD%E5%95%86%E5%BE%8B%E5%B8%88%E4%BA%8B%E5%8A%A1%E6%89%80",times:1,type:"level",value:100},{pw:"%E6%94%AF%E6%8C%81ENTP%E5%81%9A0",times:1,type:"redbag",value:99},{pw:"%E6%88%91%E7%9C%9F%E7%9A%84%E6%98%AF%E8%90%8C%E6%96%B0",times:1,type:"new"},{pw:"%E7%AB%AF%E5%8D%88%E5%AE%89%E5%BA%B7",times:1,type:"exp",key:"exp_zz",name:"“粽子”",value:999},{pw:"%E8%AF%88%E5%B0%B8%E4%BA%86",times:1,type:"box",key:"61boxt",name:"“盲盒”",value:10},{pw:"%E7%A0%B8%E7%93%A6%E9%B2%81%E5%A4%9A",times:1,type:"time",key:"time_zz",name:"“时间胶囊”",value:72},{pw:"%E8%BF%98%E8%83%BD%E6%8A%A2%E6%95%91%E4%B8%80%E4%B8%8B",times:99,type:"rem",value:1}]},6205:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,"@keyframes BQ17ZrvUvJv2EmJ3xR4q {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-40px);\n    opacity: 0;\n  }\n}\n.kIJ6MxYKO3zbd_X1kUvz {\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: solid 1px #fff;\n  top: 45%;\n  left: 20%;\n  right: 20%;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  pointer-events: none;\n  animation-duration: 1.5s;\n  animation-iteration-count: 1;\n  animation-name: BQ17ZrvUvJv2EmJ3xR4q;\n}\n.LD93Xy2x2YUm6VOT5wRj {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.gjny_zLz_aeH26Ga7GUS {\n  border-radius: 4px;\n  margin: 0 40px;\n  padding: 12px 20px 0;\n  background-color: #fff;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-width: 200px;\n}\n.OphXouP8zk6xgCSE603z {\n  text-align: center;\n  font-weight: 600;\n  font-size: 16px;\n  margin-bottom: 8px;\n}\n.he06bAr41RZxeiz_S4Ab {\n  font-size: 14px;\n  margin-bottom: 4px;\n  text-align: center;\n  white-space: pre-line;\n}\n.YjnFWqThaMPBxSydSG1m {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  border-top: solid 1px #ccc;\n  margin-left: -20px;\n  margin-right: -20px;\n}\n.YjnFWqThaMPBxSydSG1m > button + button {\n  margin-left: 8px;\n}\n.aJ251UwDdgth0PLrpJog {\n  flex: 1;\n  color: #218bff;\n  line-height: 48px;\n  height: 48px;\n  text-align: center;\n}\n",""]),a.locals={toast:"kIJ6MxYKO3zbd_X1kUvz",fadeout:"BQ17ZrvUvJv2EmJ3xR4q",mask:"LD93Xy2x2YUm6VOT5wRj",modal:"gjny_zLz_aeH26Ga7GUS",title:"OphXouP8zk6xgCSE603z",message:"he06bAr41RZxeiz_S4Ab",buttonList:"YjnFWqThaMPBxSydSG1m",button:"aJ251UwDdgth0PLrpJog"};const o=a},8451:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".I9SLBnA0mre92xxMM54e {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n}\n",""]),a.locals={root:"I9SLBnA0mre92xxMM54e"};const o=a},5041:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".HcdjZ8BSHyDkKnHMhPiv {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.xPtMPc5p8Rf7RyOnk3BL {\n  padding: 4px 12px;\n  font-size: 14px;\n  border-radius: 24px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  pointer-events: all;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.xPtMPc5p8Rf7RyOnk3BL.LFfGKQlWXeXCNwjQVhtq {\n  opacity: 1;\n}\n",""]),a.locals={root:"HcdjZ8BSHyDkKnHMhPiv",container:"xPtMPc5p8Rf7RyOnk3BL",visible:"LFfGKQlWXeXCNwjQVhtq"};const o=a},9982:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".KczqvVkYkfEtfukRRkMO {\n  flex-direction: row;\n  height: 5px;\n}\n.YCYifLjfImTPCYLav4q4 {\n  flex: 1;\n  justify-content: 'center';\n  padding: 0 1px;\n}\n.oEPOsv7EHQlcZOeaJ40r {\n  flex: 1;\n}\n",""]),a.locals={container:"KczqvVkYkfEtfukRRkMO",content:"YCYifLjfImTPCYLav4q4",point:"oEPOsv7EHQlcZOeaJ40r"};const o=a},1062:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".dY2ogKWrE7BLEd7UQca6 {\n  height: 2px;\n  border-radius: 1px;\n  margin: 2px 0;\n  flex-direction: row;\n}\n.J50pX9okEF_o5wwJjynE {\n  height: 2px;\n  border-radius: 1px;\n}\n",""]),a.locals={container:"dY2ogKWrE7BLEd7UQca6",round:"J50pX9okEF_o5wwJjynE"};const o=a},2856:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".F8xFKd2hNJvII5GjnTtn {\n  background: rgba(255, 255, 255, 0.2);\n  color: #fff;\n  border: solid 1px #fff;\n  padding: 2px 4px;\n  cursor: pointer;\n  margin: 4px 0;\n  outline: none;\n  border-radius: 4px;\n  -webkit-tap-highlight-color: transparent;\n  flex-shrink: 0;\n}\n.F8xFKd2hNJvII5GjnTtn:active,\n.F8xFKd2hNJvII5GjnTtn:focus {\n  background: rgba(255, 255, 255, 0.4);\n}\n.F8xFKd2hNJvII5GjnTtn[disabled] {\n  opacity: 0.5;\n}\n.F8xFKd2hNJvII5GjnTtn[disabled]:active,\n.F8xFKd2hNJvII5GjnTtn[disabled]:focus {\n  background: rgba(255, 255, 255, 0.2);\n}\n.F8xFKd2hNJvII5GjnTtn.IlguGvvtNpDTzPOPVkn8 {\n  padding: 4px 8px;\n  margin: 6px 0;\n}\n.lORCJ6lVACUYhdkg5FEx {\n  border: solid 1px #aaaaff;\n  background: rgba(170, 170, 255, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ {\n  border: solid 1px #ffaaaa;\n  background: rgba(255, 170, 170, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ:active,\n.GH97eGTbRwlHEuLOuWSQ:focus {\n  background: rgba(255, 170, 170, 0.4);\n}\n.XzcKDKEC29X4nYvUZ4M3 {\n  background: transparent;\n  border-style: dashed;\n}\n",""]),a.locals={button:"F8xFKd2hNJvII5GjnTtn",large:"IlguGvvtNpDTzPOPVkn8",primary:"lORCJ6lVACUYhdkg5FEx",error:"GH97eGTbRwlHEuLOuWSQ",ghost:"XzcKDKEC29X4nYvUZ4M3"};const o=a},5399:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".GUrN_PBSetaMNJHSjM0h {\n  position: relative;\n  display: block;\n  white-space: pre-line;\n}\n.GUrN_PBSetaMNJHSjM0h > .GUrN_PBSetaMNJHSjM0h {\n  display: inline;\n}\n.ntqV2eUALSHU0QUCgxfF {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  /* number of lines to show */\n  line-clamp: 1;\n}\n.uDkPMxmBF1S317oI5sS0 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  /* number of lines to show */\n  line-clamp: 2;\n}\n.BE_hiYF3oZllDWsczHXw {\n  display: flex;\n  position: relative;\n}\n.J9v_FsVYuCam9sxs_Luu {\n  position: relative;\n  display: flex;\n  opacity: 1;\n  transition: opacity 0.3s;\n  cursor: pointer;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n  -webkit-user-select: none;\n  -webkit-touch-callout: none;\n}\n.J9v_FsVYuCam9sxs_Luu.QlXokyqN4lRuJm2AJ95j:active {\n  opacity: 1;\n}\n.J9v_FsVYuCam9sxs_Luu:active {\n  opacity: 0.7;\n}\n.FqdF61nBU7urKUqPV8rW {\n  overflow-y: scroll;\n  flex: 1;\n}\n.chlbG5_ihBUNgqYuFsDh {\n  display: flex;\n  flex-direction: column;\n}\n.OZUnEBYmfTIxNeAksrQL {\n  overflow-x: scroll;\n  flex: 1;\n}\n.by81FUdqNnJlih2xUzDz {\n  display: flex;\n  flex-direction: row;\n}\n.MC5vPLIHiX0_9thesQNR {\n  -webkit-overflow-scrolling: touch;\n}\n",""]),a.locals={text:"GUrN_PBSetaMNJHSjM0h",numberOfLine1:"ntqV2eUALSHU0QUCgxfF",numberOfLine2:"uDkPMxmBF1S317oI5sS0",view:"BE_hiYF3oZllDWsczHXw",touchable:"J9v_FsVYuCam9sxs_Luu",disabled:"QlXokyqN4lRuJm2AJ95j",scrollView:"FqdF61nBU7urKUqPV8rW",scrollViewContent:"chlbG5_ihBUNgqYuFsDh",scrollViewH:"OZUnEBYmfTIxNeAksrQL",scrollViewContentH:"by81FUdqNnJlih2xUzDz",bounce:"MC5vPLIHiX0_9thesQNR"};const o=a},5316:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".BR9aSrU2wvojn_UspwXQ {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border: solid 1px #ddd;\n  border-radius: 2px;\n  padding: 0;\n}\n.vKbl_sDw_IrE_lpHRbfG {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  height: 26px;\n  width: 80px;\n  background-color: transparent;\n  border: none;\n  color: #000000;\n  outline: none;\n}\n.vKbl_sDw_IrE_lpHRbfG::placeholder {\n  color: #999;\n}\n.j5vKXZLWnl4Y45QQgwiW {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  min-height: 124px;\n  background-color: transparent;\n  border: none;\n  color: #fff;\n  outline: none;\n}\n.j5vKXZLWnl4Y45QQgwiW::placeholder {\n  color: #999;\n}\n.u_cytOjWUQTsPjDgdFq1 {\n  text-align: center;\n}\n.PhGwne7K6Jw3GhjBBuJh {\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  line-height: 30px;\n  color: #fff;\n  margin: 0 !important;\n  border: solid 1px #999 !important;\n  border-radius: 5px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hDUaqwJswV87ZOWBkiBr {\n  width: 30px;\n  height: 30px;\n  font-size: 30px;\n  line-height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n.hDUaqwJswV87ZOWBkiBr.kp8e1S10nrhxzueWuBMX {\n  color: #555;\n}\n",""]),a.locals={container:"BR9aSrU2wvojn_UspwXQ",input:"vKbl_sDw_IrE_lpHRbfG",textArea:"j5vKXZLWnl4Y45QQgwiW",inputNum:"u_cytOjWUQTsPjDgdFq1",btn:"PhGwne7K6Jw3GhjBBuJh",clear:"hDUaqwJswV87ZOWBkiBr",disabled:"kp8e1S10nrhxzueWuBMX"};const o=a},8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".vcYAEXhz37cMc9v0IMb5 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  overflow: hidden;\n}\n.z3raWKG05xRLXh9vp3de {\n  display: flex;\n  flex-direction: row;\n}\n.aC2QGVrnWSC0zks2YaEK {\n  flex: 1;\n  border-bottom: solid 2px transparent;\n  height: 32px;\n  line-height: 32px;\n  padding: 2px 10px;\n  text-align: center;\n}\n.aC2QGVrnWSC0zks2YaEK.z2x5M2q73yKJQp4Ha7UE {\n  border-color: blue;\n  color: blue;\n}\n.BR3W4DCNPJwpo6o0st8r {\n  display: flex;\n  flex-direction: row;\n  transition: transform 0.3s;\n  overflow: visible;\n  flex: 1;\n  height: 0;\n}\n.KutF8ovoRzrkZm93sopp {\n  min-width: 100%;\n  display: flex;\n  flex: 1;\n}\n",""]),a.locals={root:"vcYAEXhz37cMc9v0IMb5",tabs:"z3raWKG05xRLXh9vp3de",tab:"aC2QGVrnWSC0zks2YaEK",active:"z2x5M2q73yKJQp4Ha7UE",container:"BR3W4DCNPJwpo6o0st8r",content:"KutF8ovoRzrkZm93sopp"};const o=a},6626:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,"html,\nbody {\n  height: 100%;\n  margin: 0;\n}\n.AS56vztoR2wAn3uZJJpB {\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n* {\n  flex-direction: column;\n  overflow: hidden;\n}\n*::-webkit-scrollbar {\n  display: none;\n}\n",""]),a.locals={root:"AS56vztoR2wAn3uZJJpB"};const o=a},5975:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".OnAJoPhHctIqKSwtUgyG {\n  font-weight: 600;\n  font-size: 15px;\n}\n.Oagme2GLld1hqmV3_BgB {\n  color: #fb2400;\n}\n.sw7Af6SUNSkasF9htnZV {\n  color: #0005ff;\n}\n.vrBiDdN70Mnq4UT8lVWt {\n  color: #3eec2f;\n}\n.QfOgA3RqBoI6_j8Kekey {\n  color: #7799ff;\n}\n",""]),a.locals={crit:"OnAJoPhHctIqKSwtUgyG",campPlayer:"Oagme2GLld1hqmV3_BgB",campOther:"sw7Af6SUNSkasF9htnZV",recovery:"vrBiDdN70Mnq4UT8lVWt",rebornIn:"QfOgA3RqBoI6_j8Kekey"};const o=a},3107:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".oYvitkkO_9PoObljFu3y {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.DaaOIDznZWlUa_V94ok_ {\n  height: 44px;\n  background-color: blue;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 70px;\n}\n.SwHr84JFeTOIEua4KFDT {\n  color: white;\n  font-size: 20px;\n}\n.oUBVbdRrJcyBBOD7Co0D {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.rPU8rXKgQAFk4gW9k3iK {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.JRm_WkUBrS2LaUjpgznH {\n  color: white;\n  font-size: 15;\n}\n.pCpWA5fneFS5HG1yjLsn {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n  max-width: 500px;\n}\n.x5pD39nNrbmu1XSWl67n {\n  height: 100%;\n  width: 100%;\n}\n",""]),a.locals={container:"oYvitkkO_9PoObljFu3y",navBar:"DaaOIDznZWlUa_V94ok_",title:"SwHr84JFeTOIEua4KFDT",left:"oUBVbdRrJcyBBOD7Co0D",right:"rPU8rXKgQAFk4gW9k3iK",button:"JRm_WkUBrS2LaUjpgznH",mainbody:"pCpWA5fneFS5HG1yjLsn",gamewindows:"x5pD39nNrbmu1XSWl67n"};const o=a},8874:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".Yj51uh_Zg2h5cAkpsR2X {\n  flex-direction: column;\n  justify-content: space-between;\n  flex: 1.5;\n  box-sizing: border-box;\n  padding: 5px;\n  margin: 5px;\n}\n.RqFcMCwkphRZaKMe0Dm4 {\n  color: seagreen;\n}\n.NFdPie2s1B8hZGUlrTeM {\n  justify-content: center;\n  border: solid 2px black;\n  border-radius: 5px;\n  box-sizing: border-box;\n  padding: 5px;\n  margin: 5px;\n}\n.MPBUCTzGkuge3ws5MecR {\n  background-color: #aaa;\n}\n.nuiSswRfSS96Ri6NOmh0 {\n  flex-direction: row;\n  border-bottom: solid 2px black;\n  align-items: center;\n  height: 100px;\n}\n.WLpAN0T2SosydPapgYcC {\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-evenly;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.ymo0pxXESHKl65rYquj0 {\n  font-size: initial;\n}\n.yb6NBIsdw3jcr8Ifu3bQ {\n  flex-direction: column;\n  justify-content: center;\n  flex: 0.2;\n  box-sizing: border-box;\n  padding: 5px;\n  margin: 5px;\n  align-items: center;\n}\n.hN9SkgLCtHpVn2ewT4So {\n  color: #FF8500;\n}\n.R0MHOt6cemUkaC6iV2Ax {\n  flex-direction: column;\n}\n",""]),a.locals={container:"Yj51uh_Zg2h5cAkpsR2X",seagreen:"RqFcMCwkphRZaKMe0Dm4",buybutton:"NFdPie2s1B8hZGUlrTeM",cantbuy:"MPBUCTzGkuge3ws5MecR",container2:"nuiSswRfSS96Ri6NOmh0",container3:"WLpAN0T2SosydPapgYcC",font:"ymo0pxXESHKl65rYquj0",container4:"yb6NBIsdw3jcr8Ifu3bQ",fontLegend:"hN9SkgLCtHpVn2ewT4So",container5:"R0MHOt6cemUkaC6iV2Ax"};const o=a},545:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".iqazbUrYvo0c2a7c5aJe {\n  flex-direction: column;\n  justify-content: space-between;\n  height: 95%;\n}\n.HmBGI4z8qz3CptT70aeo {\n  flex: 1;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n}\n.PZ_Asa6ANCLnZgNBfRUq {\n  flex: 1;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n}\n.FklUZzAOcVRUhyyDTPCh {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.w8utrUzoKaUMiJikwq82 {\n  width: 50%;\n  height: 30px;\n  justify-content: center;\n}\n.ZKMC6YAdGdQ3xiT_sMEg {\n  flex: 1;\n  margin: 3px 5px;\n  border: solid 1px black;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n}\n.aBeO4ktesLDUk_glEEgD {\n  margin: 3px 5px;\n  border: solid 1px blue;\n}\n.e6X3n9medFxu6CV75mr6 {\n  height: 200px;\n  border: solid 2px black;\n  border-radius: 5px;\n  margin: 5px;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.ZobJFTXeKwQGdczJM8ca {\n  color: green;\n}\n.rnDduCcmkRHtqhwPAw1d {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  font-size: larger;\n  text-decoration-line: underline;\n  text-decoration-color: #000000;\n  margin: 5px 0px;\n  text-align: center;\n  color: #000000;\n}\n",""]),a.locals={container1:"iqazbUrYvo0c2a7c5aJe",container2:"HmBGI4z8qz3CptT70aeo",container3:"PZ_Asa6ANCLnZgNBfRUq",content:"FklUZzAOcVRUhyyDTPCh",slot:"w8utrUzoKaUMiJikwq82",slotContent:"ZKMC6YAdGdQ3xiT_sMEg",slotActive:"aBeO4ktesLDUk_glEEgD",detail:"e6X3n9medFxu6CV75mr6",fontLegend:"ZobJFTXeKwQGdczJM8ca",titletext:"rnDduCcmkRHtqhwPAw1d"};const o=a},9998:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".pq5Zgxh7J2vcs5ZePuL5 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n}\n",""]),a.locals={container:"pq5Zgxh7J2vcs5ZePuL5"};const o=a},6181:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".xF0vW43UbdBIIrNZuAqd {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding-bottom: calc(60px + constant(safe-area-inset-bottom));\n  padding-bottom: calc(60px + env(safe-area-inset-bottom));\n  width: 100%;\n  max-width: 500px;\n}\n.iL1ZX8ZyQSH1QqwVE7_M {\n  flex: 1;\n}\n.B6I8h02h2FsM93coMmvi {\n  position: fixed;\n  flex-direction: row;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n  border-top: solid 1px #ccc;\n  background-color: white;\n  max-width: 500px;\n}\n.jI6ardiPJhXm7dj8bYgr {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n.iRYKWIU4NYIbzCIimMJC {\n  color: blue;\n}\n",""]),a.locals={container:"xF0vW43UbdBIIrNZuAqd",content:"iL1ZX8ZyQSH1QqwVE7_M",tabBar:"B6I8h02h2FsM93coMmvi",button:"jI6ardiPJhXm7dj8bYgr",active:"iRYKWIU4NYIbzCIimMJC"};const o=a},6360:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".OrwHmvL1xvBHVT2yoHfm {\n  flex: 1;\n  width: 100%;\n}\n.xTNRImjvGRVikNPWd0wf {\n  justify-content: center;\n  align-items: center;\n}\n.LioWCPWHPrW_6rBvvXLW {\n  margin-top: 20px;\n  color: blue;\n}\n._mQtQTXA9sjEMQWU6Vmt {\n  height: 180px;\n}\n.ufjOjU41QlmPsiBlCjQN {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n}\n.Ji0JNJQTZx3C4MD_ZEfa {\n  height: 100%;\n  width: 100%;\n}\n",""]),a.locals={container:"OrwHmvL1xvBHVT2yoHfm",centerContainer:"xTNRImjvGRVikNPWd0wf",skipFoward:"LioWCPWHPrW_6rBvvXLW",scrollview:"_mQtQTXA9sjEMQWU6Vmt",mainbody:"ufjOjU41QlmPsiBlCjQN",gamewindows:"Ji0JNJQTZx3C4MD_ZEfa"};const o=a},549:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".iKTWzSOG_zk4MBUx8862 {\n  width: 100%;\n  flex: 1;\n}\n.n5uxuZl61nmyq9yNt1O9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.torksx9RFo5kxRKuPn5i {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.IbEPHlXLuwu6l5ZLmEAQ {\n  margin: 5px;\n  padding: 5px 10px;\n  border: solid 1px #000;\n  border-radius: 5px;\n}\n.kIqeXQrSY26h8JutqaOH {\n  font-size: 14px;\n}\n.RFuwqryAfOQxsRbE7fd0 {\n  border-color: blue;\n  background-color: white;\n}\n.MG5Abrq4iifloviLSTLW {\n  color: blue;\n}\n.jBO70hCSAWA1ZGj7l4zK {\n  border-color: blue;\n  background-color: blue;\n}\n.C9DExtcgMUudla4BwBqz {\n  color: white;\n}\n.iWvgROQbLcv85ERFvH2p {\n  width: 100%;\n  padding: 5px;\n  background-color: #ddf;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.wLWKzy800Dsd9s1jQXui {\n  color: #330;\n  font-size: 16px;\n  align-self: center;\n}\n.XJgLy3hzQVQTlvFJZMJq {\n  width: 100vw;\n  padding: 2px 5px;\n  flex-direction: row;\n}\n.QmaUpxaqInthXLYqSz19 {\n  width: 25px;\n}\n.q9Xq0eEhFysZtU_b2pAq {\n  font-size: 14px;\n}\n.NITO963yJWAZ5XMcGegB {\n  font-size: 12px;\n}\n",""]),a.locals={panel:"iKTWzSOG_zk4MBUx8862",panelContent:"n5uxuZl61nmyq9yNt1O9",endlessGroup:"torksx9RFo5kxRKuPn5i",option:"IbEPHlXLuwu6l5ZLmEAQ",label:"kIqeXQrSY26h8JutqaOH",optionPending:"RFuwqryAfOQxsRbE7fd0",labelPending:"MG5Abrq4iifloviLSTLW",optionActive:"jBO70hCSAWA1ZGj7l4zK",labelActive:"C9DExtcgMUudla4BwBqz",section:"iWvgROQbLcv85ERFvH2p",sectionTitle:"wLWKzy800Dsd9s1jQXui",phase:"XJgLy3hzQVQTlvFJZMJq",phaseState:"QmaUpxaqInthXLYqSz19",phaseLabel:"q9Xq0eEhFysZtU_b2pAq",cooldownCount:"NITO963yJWAZ5XMcGegB"};const o=a},1180:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".bf1FkSG2sfgndD2DVGBf {\n  width: 100%;\n  padding: 5px;\n  flex: 1;\n}\n.cV0WUTYmS3V_jmDmEASP {\n  font-size: 18px;\n  margin-right: 20px;\n}\n.LAzplDVtaR_y5ZQLjGZk {\n  flex-direction: row;\n}\n.LclIXb3NJ5dRiHdrpwsB {\n  height: 12px;\n}\n.v7zHAE2VDhih1cvNvMz8 {\n  flex: 1;\n  flex-direction: column;\n  padding: 5px;\n  line-height: 22px;\n}\n.W7Cq22XMxe0FDg72Spvd {\n  color: 'blue';\n}\n",""]),a.locals={panel:"bf1FkSG2sfgndD2DVGBf",name:"cV0WUTYmS3V_jmDmEASP",row:"LAzplDVtaR_y5ZQLjGZk",seperator:"LclIXb3NJ5dRiHdrpwsB",column:"v7zHAE2VDhih1cvNvMz8",blue:"W7Cq22XMxe0FDg72Spvd"};const o=a},7373:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".pPcjGhL1jPxJY5AyTIeN {\n  flex: 1;\n  overflow: hidden;\n}\n.s40KJGrItX5gdLFsOOyK {\n  width: 100%;\n  height: 180px;\n  flex: 0;\n  flex-basis: 30vh;\n}\n.zuapUy8k5ZPwDyB9xPMF {\n  flex: 1;\n}\n.uhkO5Pz1BHSV00YnMZhQ {\n  flex: 1;\n  align-self: stretch;\n}\n.ETNpGVE5wKvt2y6PrJ6A {\n  align-items: flex-start;\n  padding: 5px;\n}\n.S8V3YNBsWVBAPiKG24l9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.eaRwuUmuTFbz67IKqDe0 {\n  width: 25%;\n  aspect-ratio: 1/1;\n  padding: 5px;\n  box-sizing: border-box;\n}\n.PaKxywdIshHEbVNB_4LQ {\n  background-color: #ddd;\n}\n.ijwBwF4_01OW_FGWaug1 {\n  background-color: #79f;\n}\n.FrhCnSApZs4zoFD65EdQ {\n  background-color: #acf;\n}\n.wkJwAwy19LCfu3rlt9ZG {\n  background-color: #ff0;\n}\n.T01UJpJinfDOqXuah2Om {\n  background-color: #f97;\n}\n.jyjRJnSCJQULYHh2jJAs {\n  background-color: #0ff;\n}\n._8L2zWpAFrq82FQ7FDrAf {\n  margin: 3px 0;\n}\n.QNppfy2htfv4K6AhWHwU {\n  font-size: 12px;\n  white-space: nowrap;\n  /* 禁止自动换行 */\n  overflow: hidden;\n  /* 可选：隐藏溢出内容 */\n  text-overflow: ellipsis;\n  /* 可选：在内容溢出时显示省略号 */\n}\n.e0jy8aG_A7DwdDPJSvJD {\n  font-size: 12px;\n  white-space: nowrap;\n  /* 禁止自动换行 */\n  overflow: hidden;\n  /* 可选：隐藏溢出内容 */\n  text-overflow: ellipsis;\n  /* 可选：在内容溢出时显示省略号 */\n}\n.yNhuNbeyuLitAEPghGa7 {\n  font-size: 12px;\n  text-align: center;\n}\n",""]),a.locals={container:"pPcjGhL1jPxJY5AyTIeN",panel:"s40KJGrItX5gdLFsOOyK",spacer:"zuapUy8k5ZPwDyB9xPMF",messageList:"uhkO5Pz1BHSV00YnMZhQ",content:"ETNpGVE5wKvt2y6PrJ6A",panelContent:"S8V3YNBsWVBAPiKG24l9",unit:"eaRwuUmuTFbz67IKqDe0",unitGhost:"PaKxywdIshHEbVNB_4LQ",unitPlayer:"ijwBwF4_01OW_FGWaug1",unitAlien:"FrhCnSApZs4zoFD65EdQ",unitNeutral:"wkJwAwy19LCfu3rlt9ZG",unitEnemy:"T01UJpJinfDOqXuah2Om",unitShrine:"jyjRJnSCJQULYHh2jJAs",bar:"_8L2zWpAFrq82FQ7FDrAf",target:"QNppfy2htfv4K6AhWHwU",name:"e0jy8aG_A7DwdDPJSvJD",casting:"yNhuNbeyuLitAEPghGa7"};const o=a},1723:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".vLJ8P7NAvLlAcdoz4P4Y {\n  flex: 1;\n  background-color: white;\n}\n.zUpLur_sfK62aJRqwibS {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.VAXilp1Zp3bxOuEhA9TU {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n  width: 100vw;\n}\n.kJv58U6fUlxCLKspbUrQ {\n  width: 150px;\n  font-size: 20px;\n  text-align: center;\n}\n.GYVHw72dAG3cH11g5sDX {\n  flex: 1;\n}\n.DKWz33QYDo9IO4tn_Wde {\n  flex-direction: column;\n  align-items: center;\n  background-color: blue;\n  color: white;\n  /* text-align: center; */\n}\n.pSa1dne6Dj1RaFbZWsoi {\n  flex-direction: column;\n  align-items: flex-start;\n  height: 300px;\n  margin: 5px;\n}\n",""]),a.locals={container:"vLJ8P7NAvLlAcdoz4P4Y",careerItem:"zUpLur_sfK62aJRqwibS",main:"VAXilp1Zp3bxOuEhA9TU",name:"kJv58U6fUlxCLKspbUrQ",spacer:"GYVHw72dAG3cH11g5sDX",row1:"DKWz33QYDo9IO4tn_Wde",row2:"pSa1dne6Dj1RaFbZWsoi"};const o=a},4077:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".wQi6mYG4lXcQR2aTqe8F {\n  flex: 1;\n  background-color: white;\n}\n.v91KEwpRovn8tFujtmz5 {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.xQzh3vqRQW0MIiyKqfIj {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.OtF4amq_iIi5ZiX_4c30 {\n  font-size: 32px;\n}\n.jt6l2_EhEhQ_QBWX7bAI {\n  border: solid 1px black;\n  border-radius: 5px;\n  padding: 5px 5px;\n  margin: 5px;\n  box-sizing: border-box;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  height: 90%;\n  font-size: 90%;\n}\n.NeeCm2JMCVVR3Wd3fVDl {\n  background-color: #aaa;\n}\n.Sa3aCTSv8o17KUM8rO4_ {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.Xuvt0vWqEsFM4Vc7yyAg {\n  width: 290px;\n  font-size: 24px;\n}\n._e2f_l3V_K9Ft_9fj4wu {\n  flex: 1;\n}\n.bH4yrXb2qHAcIaI4dOTk {\n  flex-direction: column;\n  padding: 5px;\n  box-sizing: border-box;\n  height: 65%;\n  margin: 5px;\n}\n.owRzxxqQYvqwQ1gQtIg2 {\n  flex-direction: column;\n  height: 100%;\n}\n.fe0qsD4XgYmdFuZcnNTS {\n  flex-direction: row;\n  height: 50px;\n}\n.AP1f0xZzeuLpmZ_SAioz {\n  flex-direction: row;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n.SzWQYZqW4wsyyM12DtYf {\n  width: 15%;\n  align-items: center;\n  justify-content: center;\n}\n.bInlWdd4hwgpS2phPCqB {\n  flex: 1;\n}\n.UYmxhlDVxstgunsc4AuM {\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 5px;\n  padding: 5px;\n  box-sizing: border-box;\n}\n.vj42iU8M34NOd_Umjg8z {\n  width: 100%;\n  font-size: larger;\n  text-decoration-line: underline;\n  text-decoration-color: #000000;\n  margin: 5px 0px;\n  text-align: center;\n  color: #000000;\n}\n.LDu5XzI8T0tScd85vxY3 {\n  text-align: justify;\n  text-indent: 2em;\n  padding: 5px 15px;\n  box-sizing: border-box;\n}\n.qWrx3ajR1Rf629l0Ll7E {\n  border: solid 2px black;\n  border-radius: 5px;\n  padding: 5px 20px;\n  margin: 5px 0px 10px 0px;\n}\n.uKlq6TEZerFrhjO8eNOM {\n  text-decoration-line: underline;\n  text-decoration-color: #000000;\n}\n",""]),a.locals={container:"wQi6mYG4lXcQR2aTqe8F",selectedList:"v91KEwpRovn8tFujtmz5",selectedEnhance:"xQzh3vqRQW0MIiyKqfIj",order:"OtF4amq_iIi5ZiX_4c30",enhanceItem:"jt6l2_EhEhQ_QBWX7bAI",enhanceItemDisabled:"NeeCm2JMCVVR3Wd3fVDl",enhanceItemMain:"Sa3aCTSv8o17KUM8rO4_",enhanceName:"Xuvt0vWqEsFM4Vc7yyAg",spacer:"_e2f_l3V_K9Ft_9fj4wu",top:"bH4yrXb2qHAcIaI4dOTk",enlist:"owRzxxqQYvqwQ1gQtIg2",lven:"fe0qsD4XgYmdFuZcnNTS",enname:"AP1f0xZzeuLpmZ_SAioz",level:"SzWQYZqW4wsyyM12DtYf",info:"bInlWdd4hwgpS2phPCqB",detail:"UYmxhlDVxstgunsc4AuM",titletext:"vj42iU8M34NOd_Umjg8z",detailtext:"LDu5XzI8T0tScd85vxY3",setenhance:"qWrx3ajR1Rf629l0Ll7E",choose:"uKlq6TEZerFrhjO8eNOM"};const o=a},8945:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".SVm3rQPLuK2RwUXto5qY {\n  flex: 1;\n}\n.frUpNJ5iDM7RWKGlxlLg {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.TzvQKJtI8LC3hGqhhEwt {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.kvGr0shV5ty4m0iXbYQt {\n  font-size: 32px;\n}\n.UYrtmruOvXX7iIn2dxZk {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.whT6E2gx9jFanHV9lvFI {\n  background-color: #aaa;\n}\n.YmwTjwvSfrulJopyTX39 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.BrUc3SnraONQCnTmcDB5 {\n  width: 180px;\n  font-size: 24px;\n}\n.vkJVWNMaa6LvUFeETOYY {\n  margin-right: 20px;\n  white-space: pre-line;\n}\n.S6WFs2ZFNwJqOsWza6yO {\n  flex-direction: row;\n  margin-bottom: 5px;\n}\n.Mwjj5mW8d8B6u52hU3lA {\n  flex: 1;\n}\n",""]),a.locals={container:"SVm3rQPLuK2RwUXto5qY",selectedList:"frUpNJ5iDM7RWKGlxlLg",selectedSkill:"TzvQKJtI8LC3hGqhhEwt",order:"kvGr0shV5ty4m0iXbYQt",skillItem:"UYrtmruOvXX7iIn2dxZk",skillItemDisabled:"whT6E2gx9jFanHV9lvFI",skillItemMain:"YmwTjwvSfrulJopyTX39",skillName:"BrUc3SnraONQCnTmcDB5",textMargin:"vkJVWNMaa6LvUFeETOYY",row:"S6WFs2ZFNwJqOsWza6yO",spacer:"Mwjj5mW8d8B6u52hU3lA"};const o=a},8434:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".hVjlAO21xUsU8i1Vy0k7 {\n  flex: 1;\n}\n.dddvPnAVjEn1Lpv0FWLS {\n  flex: 1;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.CYSSVCs4WD7qCNE9fdYU {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.x6VhZhlq6RETKsey8lB8 {\n  width: 50vw;\n  height: 45px;\n}\n.tn_As1cJ__50VnqTpWaH {\n  width: 100vw;\n  height: 45px;\n}\n.fC_NHj3sGMYxx9cVJxSR {\n  margin: 5px;\n  border-width: solid 0.5px #999;\n  border-radius: 5px;\n  background-color: #aacaff;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n._L9gSDmpqvb6SWiKWClS {\n  width: 100%;\n  height: 40px;\n}\n.Z3uhndO2mh00_o2ujElH {\n  width: 16.6vw;\n  height: 16.6vw;\n}\n._DBRCGty2nON8PgyOzqX {\n  flex: 1;\n  margin: 5px;\n  border: solid 1px #999;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n  font-size: 85%;\n}\n.akvqIP1pA_UAFMSIxlQ9 {\n  margin: 5px;\n  border: solid 2px blue;\n}\n.j01V48P3B313HXNt5tBp {\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  color: blue;\n  background-color: transparent;\n}\n.C4RrusRy7_fPNmLAx00T {\n  height: 100%;\n  padding: 5px;\n}\n.CaVV5wY4nk0HLL7KVxbA {\n  font-size: 20px;\n}\n.d9VBJ0uTLEr4MIdfbgow {\n  font-size: 16px;\n}\n.spw3VuuNKstfyBFzKoNU {\n  font-size: 14px;\n}\n.uedaadHakGQ9aA3_lB92 {\n  font-size: 14px;\n}\n.AINtbOtux6MB1KjJcsCW {\n  flex-direction: row;\n  align-items: flex-end;\n}\n.HwI01OGqatQADahDs35g {\n  flex-direction: row;\n  align-items: flex-start;\n  height: 100px;\n}\n._csphQsNarIMipbhmF_N {\n  flex-direction: row;\n  align-items: flex-start;\n  right: 0px;\n  top: 0px;\n}\n.JZ1nlDcktcxRcY1H8i4N {\n  flex-direction: row;\n  align-items: flex-start;\n  top: 0px;\n  right: 0px;\n}\n.Sn5KQKkNEbBWyso6YjWr {\n  flex-direction: row;\n  align-items: flex-start;\n}\n.Z3K7417Iy2s8jgvvpDGw {\n  flex-direction: row;\n  align-items: flex-start;\n  height: 198px;\n  white-space: pre-line;\n}\n.h3H7QcRXYun6phC04igH {\n  align-items: flex-end;\n}\n.pesEu9KpuQbN34Iwzudi {\n  flex-direction: reverse;\n  align-items: flex-end;\n}\n.CRMoFdPeYMdWbuLefpSu {\n  flex-direction: row;\n  align-items: center;\n}\n.dvEQoiWK1blmDgL75cIr {\n  flex: 1;\n  white-space: pre-line;\n  flex-direction: column;\n}\n.hXCLrGOewttoVOKYl9NX {\n  flex: 1;\n  width: 50px;\n  white-space: pre-line;\n  flex-direction: row;\n}\n.EP_h7quCr3pKv3UyoRCg {\n  flex: 1;\n  white-space: pre-line;\n  height: 227px;\n}\n.ePsxE9HPsGxfNuFPxwRg {\n  color: blue;\n  white-space: pre-line;\n}\n.aujsVhiXnC20As5i7asU {\n  color: green;\n}\n.xkK8peVkSKYBVBuW9diR {\n  margin: 5px;\n  border: solid 0.5px #999;\n  border-radius: 4px;\n  padding: 5px 5px;\n  align-items: center;\n  justify-content: center;\n}\n.H0ugBqk5YfTf5_Dpb2W0 {\n  background-color: #ccc;\n}\n.ygbWwvROyvHy0O62grL1 {\n  background-color: #fff;\n}\n.OkGDp6Mcnqb_LLUZWFel {\n  background-color: #aaf;\n}\n.fwzxPxQhHo9BRqUQlZJH {\n  background-color: #ffa;\n}\n.IPD7k735ofEafcABan2w {\n  background-color: #fda;\n}\n.uxNP4bYRVzAy73N1JndG {\n  background-color: #afd;\n}\n.MIW039Hz1GiZ88t3Agt9 {\n  background-color: #faf;\n}\n.Y2emSmpEuzEfJmUi78Xc {\n  background-color: #faa;\n}\n.OvaGnrbXfrfQtw_d97Fh {\n  color: #fff;\n}\n.q3hKgcDT3nA6HJE1h2W4 {\n  color: #aaf;\n}\n.YBsNkQ2ApFBxQBuXvtKc {\n  color: #ffa;\n}\n.LErMimVqFYYo3axqy0oR {\n  color: #fda;\n}\n.fkP5Xp2Lx5elP5dv_GFg {\n  color: #afd;\n}\n.jQmhgdIVItWbAWttHBRl {\n  color: #faf;\n}\n.tr1WdPF9OSCE8IeJbTdZ {\n  color: #faa;\n}\n.CWV4gYr_kApFNo79h17l {\n  margin-left: 20px;\n}\n.dvyqfdXFLgTlCiwdD6Hs {\n  margin-left: 0px;\n}\n.huq1ikw4e4bgmwC3pAu0 {\n  margin-left: 0px;\n  color: blue;\n}\n.NCa99e5O3H28CSShVDMg {\n  flex-direction: row;\n  height: 100%;\n}\n.GXk9BByKw31flNnVYjZ_ {\n  flex-direction: column;\n  width: 50%;\n  box-sizing: border-box;\n  margin: 5px;\n}\n.DEAyKjI2FNQZRQotqB8Y {\n  flex-direction: column;\n  width: 50%;\n  border: solid 2px black;\n  border-radius: 5px;\n  margin: 5px;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.LdGf6EHE64op7hmwTjdK {\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  margin-top: 5px;\n}\n.OTh01C1ImmusDE3lKDkU {\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  font-size: larger;\n  margin: 5px 0px;\n}\n.m0Sfh9CoidK4AFm4WcW8 {\n  flex-direction: column;\n  border: solid 2px black;\n  border-radius: 5px;\n  padding: 5px;\n  box-sizing: border-box;\n}\n.CC1VqA5Pyy1s_V0jemOd {\n  flex-direction: column;\n  flex: 1;\n  border: solid 2px black;\n  border-radius: 5px;\n  margin-top: 5px;\n  padding: 5px;\n  box-sizing: border-box;\n}\n.MwBDPwMl766J2j7YalQK {\n  justify-content: center;\n  box-sizing: border-box;\n  padding: 5px;\n  align-items: center;\n  font-size: larger;\n}\n._tvfRQYCCNX79DTF7qMA {\n  flex-direction: column;\n  height: 100%;\n  padding: 5px;\n}\n.bTwzC_sT2Lyh_nqxCuUt {\n  flex-direction: column;\n  flex: 1;\n}\n.Cyeop4vjfPO70r0Os_PQ {\n  flex-direction: column;\n  flex: 1;\n}\n.CtbISHMxYaAUQ0C6bcUl {\n  flex-direction: column;\n  flex: 1;\n}\n.Jt9kh28Fc6Epx7wRa8oa {\n  flex-direction: column;\n  width: 50%;\n  border: solid 2px black;\n  border-radius: 5px;\n  margin: 5px;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.I9naHkeeT7gnKwAWRjBG {\n  flex-direction: row;\n}\n.wEEqhS2orqLSA1y_TG0b {\n  flex-direction: row;\n}\n",""]),a.locals={container:"hVjlAO21xUsU8i1Vy0k7",container1:"dddvPnAVjEn1Lpv0FWLS",content:"CYSSVCs4WD7qCNE9fdYU",bigBtn:"x6VhZhlq6RETKsey8lB8",bigBtn2:"tn_As1cJ__50VnqTpWaH",bigBtnContent:"fC_NHj3sGMYxx9cVJxSR",slot:"_L9gSDmpqvb6SWiKWClS",slot2:"Z3uhndO2mh00_o2ujElH",slotContent:"_DBRCGty2nON8PgyOzqX",slotActive:"akvqIP1pA_UAFMSIxlQ9",count:"j01V48P3B313HXNt5tBp",detail:"C4RrusRy7_fPNmLAx00T",detailName:"CaVV5wY4nk0HLL7KVxbA",originName:"d9VBJ0uTLEr4MIdfbgow",detailCount:"spw3VuuNKstfyBFzKoNU",detailPrice:"uedaadHakGQ9aA3_lB92",row:"AINtbOtux6MB1KjJcsCW",row2:"HwI01OGqatQADahDs35g",row3:"_csphQsNarIMipbhmF_N",row4:"JZ1nlDcktcxRcY1H8i4N",row5:"Sn5KQKkNEbBWyso6YjWr",row6:"Z3K7417Iy2s8jgvvpDGw",row7:"h3H7QcRXYun6phC04igH",row8:"pesEu9KpuQbN34Iwzudi",rowCenter:"CRMoFdPeYMdWbuLefpSu",spacer:"dvEQoiWK1blmDgL75cIr",spacer2:"hXCLrGOewttoVOKYl9NX",spacer3:"EP_h7quCr3pKv3UyoRCg",affix:"ePsxE9HPsGxfNuFPxwRg",legend:"aujsVhiXnC20As5i7asU",button:"xkK8peVkSKYBVBuW9diR",buttonDisabled:"H0ugBqk5YfTf5_Dpb2W0",btnNormal:"ygbWwvROyvHy0O62grL1",btnGood:"OkGDp6Mcnqb_LLUZWFel",btnExcellent:"fwzxPxQhHo9BRqUQlZJH",btnEpic:"IPD7k735ofEafcABan2w",btnLegend:"uxNP4bYRVzAy73N1JndG",btnAcient:"MIW039Hz1GiZ88t3Agt9",btnArtifact:"Y2emSmpEuzEfJmUi78Xc",fontNormal:"OvaGnrbXfrfQtw_d97Fh",fontGood:"q3hKgcDT3nA6HJE1h2W4",fontExcellent:"YBsNkQ2ApFBxQBuXvtKc",fontEpic:"LErMimVqFYYo3axqy0oR",fontLegend:"fkP5Xp2Lx5elP5dv_GFg",fontAcient:"jQmhgdIVItWbAWttHBRl",fontArtifact:"tr1WdPF9OSCE8IeJbTdZ",marginLeft:"CWV4gYr_kApFNo79h17l",marginLeft2:"dvyqfdXFLgTlCiwdD6Hs",marginLeft3:"huq1ikw4e4bgmwC3pAu0",unit:"NCa99e5O3H28CSShVDMg",left:"GXk9BByKw31flNnVYjZ_",right:"DEAyKjI2FNQZRQotqB8Y",other:"LdGf6EHE64op7hmwTjdK",titletext:"OTh01C1ImmusDE3lKDkU",equlist:"m0Sfh9CoidK4AFm4WcW8",detail1:"CC1VqA5Pyy1s_V0jemOd",title:"MwBDPwMl766J2j7YalQK",ticket:"_tvfRQYCCNX79DTF7qMA",ticketdetail:"bTwzC_sT2Lyh_nqxCuUt",equdetail:"Cyeop4vjfPO70r0Os_PQ",Legenddetail:"CtbISHMxYaAUQ0C6bcUl",list:"Jt9kh28Fc6Epx7wRa8oa",inventory:"I9naHkeeT7gnKwAWRjBG",save:"wEEqhS2orqLSA1y_TG0b"};const o=a},3912:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".o9nAYhsDaBvetns1QgY_ {\n  flex: 1;\n  background-color: white;\n}\n.bW4CFuOdPlI4SfsdpyOx {\n  flex: 1;\n}\n.tfJ9azz0hx9z6aDzIrOL {\n  flex: 2;\n}\n.vwU2jUtljuWlDUtxPup2 {\n  padding: 5px 10px;\n  border-top: solid 1px #999;\n  border-bottom: solid 1px #999;\n  margin: 5px 0;\n}\n.U9REpO1gAhg0Iy2accc0 {\n  font-size: 16px;\n}\n.Xb2HpXS2vBVnRzuFnd67 {\n  margin-bottom: 5px;\n  color: black;\n  height: 20px;\n  width: 40px;\n  padding-top: 2px;\n  text-align: center;\n}\n.D08iU7Hrb0fFf1QhZCZV {\n  padding: 5px 15px;\n  flex-direction: row;\n}\n.YMLHK2gNODs_CJk_iE0A {\n  width: 310px;\n  justify-content: center;\n  display: flex;\n}\n",""]),a.locals={container:"o9nAYhsDaBvetns1QgY_",flex1:"bW4CFuOdPlI4SfsdpyOx",flex2:"tfJ9azz0hx9z6aDzIrOL",header:"vwU2jUtljuWlDUtxPup2",headerFont:"U9REpO1gAhg0Iy2accc0",title:"Xb2HpXS2vBVnRzuFnd67",row:"D08iU7Hrb0fFf1QhZCZV",sliderTitle:"YMLHK2gNODs_CJk_iE0A"};const o=a},3087:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".PEaWLXBXoVRRR7AynIGz {\n  flex-direction: row;\n  flex: 1;\n}\n.CXGF39cvCLF89fJkeAOR {\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  border: solid 1px #999;\n  border-radius: 3px;\n  height: 20px;\n  background-color: white;\n}\n.CXGF39cvCLF89fJkeAOR.PL4BIVe2gVdDDLOQlmRz {\n  background-color: blue;\n}\n.lag6OYJpB0nDamenYdri {\n  color: blue;\n}\n.lag6OYJpB0nDamenYdri.PL4BIVe2gVdDDLOQlmRz {\n  color: white;\n}\n",""]),a.locals={contain:"PEaWLXBXoVRRR7AynIGz",item:"CXGF39cvCLF89fJkeAOR",active:"PL4BIVe2gVdDDLOQlmRz",label:"lag6OYJpB0nDamenYdri"};const o=a},2598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".eNMPKiIqmuSG7ovfczBd {\n  flex: 1;\n  background-color: white;\n  padding: 10px;\n}\n.KJnAcGLzGtB_oeyARaOP {\n  background-color: white;\n  padding: 10px;\n  flex-direction: row;\n}\n.Q4_fFIuvIsW8mUfOYjJN {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  background-color: yellow;\n}\n.s0EoM7nfpHVafA2sBX6A {\n  font-size: 16px;\n  color: #666;\n}\n.QcauvsJU5VE6fIVi5kNA {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  margin-bottom: 5px;\n}\n.hu53gOzaBoNTmHxhEzfc {\n  flex-direction: row;\n}\n._BOAeHGnlhHOVsqKjMS2 {\n  align-self: flex-start;\n  background-color: red;\n  padding: 10px 15px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  border-radius: 5px;\n}\n.xBPKSzUUDgvSyjQd2lYg {\n  color: white;\n  font-size: 16px;\n}\n.K78odnDfwqYn3EPAP90o {\n  flex: 1;\n}\n.rzs1fH34xfF7h5TcEh8r {\n  width: 50vw;\n  height: 45px;\n}\n.KLfmPmsbFSWGX435MLpl {\n  margin: 5px;\n  border-width: solid 0.5px #999;\n  border-radius: 5px;\n  background-color: #aacaff;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n",""]),a.locals={container:"eNMPKiIqmuSG7ovfczBd",container2:"KJnAcGLzGtB_oeyARaOP",footer:"Q4_fFIuvIsW8mUfOYjJN",footerLabel:"s0EoM7nfpHVafA2sBX6A",item:"QcauvsJU5VE6fIVi5kNA",row:"hu53gOzaBoNTmHxhEzfc",button:"_BOAeHGnlhHOVsqKjMS2",buttonLabel:"xBPKSzUUDgvSyjQd2lYg",flex:"K78odnDfwqYn3EPAP90o",bigBtn:"rzs1fH34xfF7h5TcEh8r",bigBtnContent:"KLfmPmsbFSWGX435MLpl"};const o=a},6155:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".ZY8eMHDDTZT5SspA4tkt {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding: 5px;\n}\n.biu51yBsS2RNSNiBMlpt {\n  font-size: 16px;\n  font-weight: bold;\n  padding: 5px;\n  align-self: stretch;\n}\n.IgTGGH6AgGD2gdAVlVt0 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lVSYafS9MCPkYnZHC5kZ {\n  margin: 5;\n  padding: 5px 10px;\n  border-width: 1px;\n  border-radius: 5px;\n}\n.uNzwJ3uEXHGn1KqpKi2g {\n  font-size: 14px;\n}\n.pqKM5QplAnQOBAJmO97w {\n  border-color: blue;\n  background-color: blue;\n}\n.kXxikw5cUzlIUZ28Vw_d {\n  color: white;\n}\n.bloC6HD3eJjCvmw8Erq0 {\n  margin: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  white-space: pre-line;\n}\n.jzyLZZz9TmgglqyoCoIw {\n  flex-direction: column;\n}\n",""]),a.locals={container:"ZY8eMHDDTZT5SspA4tkt",title:"biu51yBsS2RNSNiBMlpt",options:"IgTGGH6AgGD2gdAVlVt0",option:"lVSYafS9MCPkYnZHC5kZ",label:"uNzwJ3uEXHGn1KqpKi2g",optionActive:"pqKM5QplAnQOBAJmO97w",labelActive:"kXxikw5cUzlIUZ28Vw_d",body:"bloC6HD3eJjCvmw8Erq0",group:"jzyLZZz9TmgglqyoCoIw"};const o=a},391:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".bTCeEsiTgTGCaC8gRbsY {\n  flex: 1;\n}\n.WheUgxEqHmRcpS8fh0Fk {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.bmQKBO6yH4TaUbN6lgdw {\n  flex-direction: row;\n  align-items: center;\n  padding: 5px;\n}\n",""]),a.locals={container:"bTCeEsiTgTGCaC8gRbsY",content:"WheUgxEqHmRcpS8fh0Fk",row:"bmQKBO6yH4TaUbN6lgdw"};const o=a},6246:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".mNhLRClzgr9DUBFDtNDt {\n  flex: 1;\n}\n.FwcIcZTBAavd5xyBdWFZ {\n  flex-direction: row;\n}\n.AkSZEZCIfEmpBGYtcSPz {\n  flex-direction: row;\n  align-items: flex-end;\n}\n.q2K47ItcqFyEAH6WsvZl {\n  flex-direction: column;\n  flex: 1;\n}\n._MS_28I1Coj_g1PDLxe6 {\n  flex-direction: row;\n  width: 100%;\n}\n.Zxnyw8nuYY7HLOZP8QNb {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n  align-items: center;\n  justify-content: center;\n}\n.iBhJNFN77AGYzQTaQAD_ {\n  font-size: 12px;\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.dx8qWm2EuGzQHH9ds0KD {\n  color: green;\n}\n.WwyXdflavXska_MmKAnZ {\n  margin: 3px;\n}\n.YIaXVxyXR2XKcAw2OMJr {\n  align-items: center;\n  justify-content: center;\n}\n._1Is_vPdjY7kqfQT07vYg {\n  height: 250px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.KY5XgYdbtZCSAgsFFGDZ {\n  justify-content: center;\n  box-sizing: border-box;\n  padding: 5px;\n  align-items: center;\n  font-size: larger;\n}\n.quWtyyArTaLr3Yd33UZ3 {\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n}\n.x5I9cjjMjEQJMaVsinVx {\n  flex: 1;\n  border: solid 1px black;\n  padding: 5px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: center;\n  width: 50%;\n}\n.ouMs1ULX7ndEVFI0mTY1 {\n  background-color: #aaa;\n}\n.ZNu5TuMFRdse_RZS8ZT4 {\n  flex-direction: row;\n}\n",""]),a.locals={container:"mNhLRClzgr9DUBFDtNDt",content:"FwcIcZTBAavd5xyBdWFZ",row:"AkSZEZCIfEmpBGYtcSPz",column:"q2K47ItcqFyEAH6WsvZl",detailContainer:"_MS_28I1Coj_g1PDLxe6",detail:"Zxnyw8nuYY7HLOZP8QNb",affix:"iBhJNFN77AGYzQTaQAD_",legend:"dx8qWm2EuGzQHH9ds0KD",costItem:"WwyXdflavXska_MmKAnZ",locks:"YIaXVxyXR2XKcAw2OMJr",slotdetail:"_1Is_vPdjY7kqfQT07vYg",title:"KY5XgYdbtZCSAgsFFGDZ",doenchants:"quWtyyArTaLr3Yd33UZ3",button:"x5I9cjjMjEQJMaVsinVx",notenough:"ouMs1ULX7ndEVFI0mTY1",cost:"ZNu5TuMFRdse_RZS8ZT4"};const o=a},684:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".BTdDSNXBu4avxCtU2Bsh {\n  flex: 1;\n}\n.G2baOI82zQgwZy2gR4Mq {\n  flex-direction: row;\n}\n.gxz1LpK3ndaJPCWemqo9 {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.YajelsapRKqW0AGlT4OW {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.VSGfSDlr6eEGjsLdYjn_ {\n  width: 150px;\n  font-size: 24px;\n}\n.Cl7FMIuO9ThFg8WpECCs {\n  flex: 0;\n}\n.M_EZr4CCEhd9VaaBRjJR {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.aZGT1nZjmK1i6OA1Mcs5 {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.mMtR03XTKf1qwToRL3gl {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),a.locals={flex:"BTdDSNXBu4avxCtU2Bsh",row:"G2baOI82zQgwZy2gR4Mq",medicine:"gxz1LpK3ndaJPCWemqo9",medicineMain:"YajelsapRKqW0AGlT4OW",medicineName:"VSGfSDlr6eEGjsLdYjn_",noFlex:"Cl7FMIuO9ThFg8WpECCs",itemGroup:"M_EZr4CCEhd9VaaBRjJR",info:"aZGT1nZjmK1i6OA1Mcs5",noItemHint:"mMtR03XTKf1qwToRL3gl"};const o=a},5642:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".tuLcxQaToL81PXaAJlsA {\n  flex: 1;\n}\n.OQhsj5IQO8EzHR32zA4W {\n  flex-direction: row;\n  height: 140px;\n  align-items: stretch;\n  border-bottom: solid 1px #ccc;\n}\n.MtL122eBAwbe5HMutWzt {\n  justify-content: 'center';\n  align-items: 'center';\n  width: 79px;\n  border-right: solid 1px #ccc;\n}\n.SN45_AV_cEZkK3syJNn5 {\n  font-size: 16px;\n}\n.MvHrNKtNLvQkT3cq1j9Z {\n  flex: 1;\n  padding: 5px 0;\n  align-items: center;\n}\n.k3Zs87SLhuMJ1YsdfcAB {\n  background-color: #ccc;\n}\n.StWTavCRheKc_Jeu0_mQ {\n  flex-direction: row;\n}\n.uIGgGC5y91GoRc1TGNna {\n  font-size: 12px;\n  flex: 1;\n}\n.vTDgwB680RQ4sd_SuJD8 {\n  font-size: 12;\n}\n.eU7rIze_55u0n7UIl01f {\n  flex: 1;\n}\n.UvRNSOucUYFSWMECJhAW {\n  padding: 0 5px;\n  border-radius: 5px;\n  border: solid 1px #ccc;\n}\n.RTNQVkYpa2Et5cbbdalA {\n  flex-direction: row;\n}\n.MNgrxchnYQ9BAtF88fG0 {\n  width: 50px;\n  align-items: center;\n  justify-content: center;\n  background-color: #aaf;\n  margin: 0 1px;\n}\n",""]),a.locals={container:"tuLcxQaToL81PXaAJlsA",recipe:"OQhsj5IQO8EzHR32zA4W",name:"MtL122eBAwbe5HMutWzt",nameLabel:"SN45_AV_cEZkK3syJNn5",btn:"MvHrNKtNLvQkT3cq1j9Z",btnDisabled:"k3Zs87SLhuMJ1YsdfcAB",material:"StWTavCRheKc_Jeu0_mQ",materialName:"uIGgGC5y91GoRc1TGNna",materialAmount:"vTDgwB680RQ4sd_SuJD8",spacer:"eU7rIze_55u0n7UIl01f",button:"UvRNSOucUYFSWMECJhAW",row:"RTNQVkYpa2Et5cbbdalA",inventoryButton:"MNgrxchnYQ9BAtF88fG0"};const o=a},8865:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".LPrVhvXMUycmbcLkYAQs {\n  flex: 1;\n}\n.nuDYWDxcYUJn84RMNvat {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lUOpB4D3AffhnfhFyWai {\n  flex-direction: row;\n  align-items: flex-end;\n  padding: 5px;\n}\n.jbLW38LdlJN2zAJ1n9gv {\n  height: 150px;\n  flex-direction: row;\n}\n.hLLTmFt5q2vltVxLKyI0 {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n}\n.kw6bhcL6pDVuoah8YlNO {\n  flex-direction: row;\n  flex: 1;\n}\n.x58aDivZ8fk1mjnNH504 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  border-width: 1px;\n  margin: 5px;\n  background-color: white;\n}\n.M8GO87cwh8DpnZVwB1b8 {\n  background-color: #aaa;\n}\n.gDoVy1cWLk0fdNTUFqqw {\n  background-color: #666;\n}\n.KnaawP9Bb5JGmp7PWf3z {\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.Onw1GJtzXEo5wfEBTYK_ {\n  color: green;\n}\n.KfSBQlzxEdRXnLDqklPN {\n  margin: 3;\n}\n.HSrrZV0svcaw2vZ4cnCA {\n  margin: 10px 0;\n  padding: 5px 0;\n}\n.Jj9mDQBLvVqMKABT65oy {\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  text-align: center;\n}\n",""]),a.locals={container:"LPrVhvXMUycmbcLkYAQs",content:"nuDYWDxcYUJn84RMNvat",row:"lUOpB4D3AffhnfhFyWai",detailContainer:"jbLW38LdlJN2zAJ1n9gv",detail:"hLLTmFt5q2vltVxLKyI0",detailRow:"kw6bhcL6pDVuoah8YlNO",detailAffix:"x58aDivZ8fk1mjnNH504",detailAffixDisabled:"M8GO87cwh8DpnZVwB1b8",detailAffixEmpty:"gDoVy1cWLk0fdNTUFqqw",affix:"KnaawP9Bb5JGmp7PWf3z",legentAffix:"Onw1GJtzXEo5wfEBTYK_",costItem:"KfSBQlzxEdRXnLDqklPN",locks:"HSrrZV0svcaw2vZ4cnCA",lock:"Jj9mDQBLvVqMKABT65oy"};const o=a},5714:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".TfVnV6WvxWHyeRqGQ17D {\n  flex: 1;\n}\n._gLbV62CHJBAaUfwWYYj {\n  flex-direction: row;\n}\n.Yh8kN1n87Bd7NBKbjG1r {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.Vpvhn4U90xtt3S_hnAB0 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.f8QQmFruiCtstQVz8Aek {\n  width: 150px;\n  font-size: 24px;\n}\n.Buym9dkDlgrU4jrl6jZN {\n  flex: 0;\n}\n.Qz7Vkitp5r71RwoCG67e {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.KH8pFty0b3ou5hbHbMAD {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.n8UB8_9VcbaDiB7lNbsp {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),a.locals={flex:"TfVnV6WvxWHyeRqGQ17D",row:"_gLbV62CHJBAaUfwWYYj",cooking:"Yh8kN1n87Bd7NBKbjG1r",cookingMain:"Vpvhn4U90xtt3S_hnAB0",cookingName:"f8QQmFruiCtstQVz8Aek",noFlex:"Buym9dkDlgrU4jrl6jZN",itemGroup:"Qz7Vkitp5r71RwoCG67e",info:"KH8pFty0b3ou5hbHbMAD",noItemHint:"n8UB8_9VcbaDiB7lNbsp"};const o=a},8060:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".C1_xyluJPVXnaS4XYKw9 {\n  flex: 1;\n  background-color: white;\n  overflow: auto;\n}\n.gFGKwCiTX6neraeBc_fD {\n  width: 100%;\n  color: black;\n  white-space: pre-line;\n}\n",""]),a.locals={container:"C1_xyluJPVXnaS4XYKw9",content:"gFGKwCiTX6neraeBc_fD"};const o=a},8777:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".DqE_kO7MIZqlTi2e8daX {\n  flex: 1;\n}\n.kMOVShHOc_Qx_4fRp_gg {\n  position: absolute;\n  bottom: 10px;\n  left: 5px;\n  right: 5px;\n  height: 120px;\n  background-color: white;\n  border-radius: 5px;\n  padding: 5px;\n  overflow: hidden;\n}\n.nXr_Fao6Y1ctbAYVaej2 {\n  font-size: 20px;\n}\n.GNutTbVPH4socpyXXpmh {\n  font-size: 20px;\n  line-height: 25px;\n  overflow: visible;\n}\n.ZfPDbr8r9CHWCStJuzk4 {\n  margin-top: 80px;\n  align-self: center;\n  padding: 10px;\n  background-color: white;\n  border-radius: 10px;\n  transition: opacity 0.5s;\n  opacity: 1;\n}\n.ZfPDbr8r9CHWCStJuzk4.NtL7IpOB7aUQCFBmPgq3 {\n  opacity: 0;\n}\n.NMgOgwyF2XuCS2i5xYwM {\n  font-size: 36px;\n}\n.lxmgZ0cEREbU_zXNwkLi {\n  position: absolute;\n  right: 20px;\n  top: 35px;\n}\n.M8HZ4LxrHvrbuf3N8qwz {\n  color: white;\n}\n",""]),a.locals={container:"DqE_kO7MIZqlTi2e8daX",content:"kMOVShHOc_Qx_4fRp_gg",name:"nXr_Fao6Y1ctbAYVaej2",text:"GNutTbVPH4socpyXXpmh",scene:"ZfPDbr8r9CHWCStJuzk4",hidden:"NtL7IpOB7aUQCFBmPgq3",sceneLabel:"NMgOgwyF2XuCS2i5xYwM",back:"lxmgZ0cEREbU_zXNwkLi",backLabel:"M8HZ4LxrHvrbuf3N8qwz"};const o=a},1916:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".tZV6GxyyjqqppoJdSBO8 {\n  flex: 1;\n  background-color: white;\n}\n.B8SxwAkjo1zLTnGkt2RR {\n  border-bottom: solid 1px #999;\n  height: 60px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.qFR3bl8kvSeucmq1GeV7 {\n  font-size: 20px;\n}\n.Snt69V0c8x5jWWzu6y4d {\n  flex-direction: row;\n}\n",""]),a.locals={container:"tZV6GxyyjqqppoJdSBO8",item:"B8SxwAkjo1zLTnGkt2RR",itemLabel:"qFR3bl8kvSeucmq1GeV7",line:"Snt69V0c8x5jWWzu6y4d"};const o=a},5678:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7942),i=n.n(r),s=n(3527),a=n.n(s)()(i());a.push([e.id,".v2RcSiEb6wh0BoE2J7kd {\n  flex: 1;\n  background-color: white;\n}\n.JKOBnp9KlJRenDPh78m3 {\n  border-bottom: solid 1px #999;\n  height: 40px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.dLvA5OVktBMXVYFJ_RlU {\n  font-size: 20px;\n}\n",""]),a.locals={container:"v2RcSiEb6wh0BoE2J7kd",item:"JKOBnp9KlJRenDPh78m3",itemLabel:"dLvA5OVktBMXVYFJ_RlU"};const o=a},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},a=[],o=0;o<e.length;o++){var l=e[o],u=r.base?l[0]+r.base:l[0],c=s[u]||0,p="".concat(u," ").concat(c);s[u]=c+1;var h=n(p),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var d=i(f,r);r.byIndex=o,t.splice(o,0,{identifier:p,updater:d,references:1})}a.push(p)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=n(s[a]);t[o].references--}for(var l=r(e,i),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={id:e,exports:{}};return n[e](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var s=Object.create(null);i.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(s,a),s},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0,(()=>{"use strict";var e=i(8568),t=i(8281),n=i.t(t,2);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var s={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:s}var o=Object.assign,l=Object.getOwnPropertyDescriptor,u=Object.defineProperty,c=Object.prototype,p=[];Object.freeze(p);var h={};Object.freeze(h);var f="undefined"!=typeof Proxy,d=Object.toString();function m(){f||r("Proxy not available")}function g(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function v(e){return"function"==typeof e}function b(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function k(e){return null!==e&&"object"==typeof e}function w(e){if(!k(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===d}function x(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function _(e,t,n){u(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function E(e,t,n){u(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function S(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return k(e)&&!0===e[n]}}function A(e){return e instanceof Map}function D(e){return e instanceof Set}var P=void 0!==Object.getOwnPropertySymbols,R="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function O(e){return null===e?null:"object"==typeof e?""+e:e}function C(e,t){return c.hasOwnProperty.call(e,t)}var T=Object.getOwnPropertyDescriptors||function(e){var t={};return R(e).forEach((function(n){t[n]=l(e,n)})),t};function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,I(e,t)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q=Symbol("mobx-stored-annotations");function z(e){return Object.assign((function(t,n){U(t,n,e)}),e)}function U(e,t,n){C(e,q)||_(e,q,N({},e[q])),function(e){return e.annotationType_===Q}(n)||(e[q][t]=n)}var V=Symbol("mobx administration"),K=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return vt(this)},t.reportChanged=function(){gt(),bt(this),yt()},t.toString=function(){return this.name_},e}(),Y=S("Atom",K);function $(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r=new K(e);return t!==y&&Vt(qt,r,t,undefined),n!==y&&Ut(r,n),r}var W={identity:function(e,t){return e===t},structural:function(e,t){return hr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return hr(e,t,1)}};function G(e,t,n){return sn(e)?e:Array.isArray(e)?Oe.array(e,{name:n}):w(e)?Oe.object(e,void 0,{name:n}):A(e)?Oe.map(e,{name:n}):D(e)?Oe.set(e,{name:n}):"function"!=typeof e||jt(e)||tn(e)?e:x(e)?Zt(e):Mt(n,e)}function J(e){return e}var Q="override",X=z({annotationType_:Q,make_:function(e,t){return 0},extend_:function(e,t,n,i){r("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function Z(e,t){return{annotationType_:e,options_:t,make_:ee,extend_:te}}function ee(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(jt(n.value))return 1;var s=ne(e,this,t,n,!1);return u(r,t,s),2}function te(e,t,n,r){var i=ne(e,this,t,n);return e.defineProperty_(t,i,r)}function ne(e,t,n,r,i){var s,a,o,l,u,c,p,h;void 0===i&&(i=ft.safeDescriptors),h=r,t.annotationType_,h.value;var f,d=r.value;return null!=(s=t.options_)&&s.bound&&(d=d.bind(null!=(f=e.proxy_)?f:e.target_)),{value:Le(null!=(a=null==(o=t.options_)?void 0:o.name)?a:n.toString(),d,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(p=e.proxy_)?p:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:se}}function ie(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!C(e.target_,t)||!tn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(tn(n.value))return 1;var s=ae(e,this,0,n,!1,!1);return u(r,t,s),2}function se(e,t,n,r){var i,s=ae(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,s,r)}function ae(e,t,n,r,i,s){var a;void 0===s&&(s=ft.safeDescriptors),a=r,t.annotationType_,a.value;var o,l=r.value;return tn(l)||(l=Zt(l)),i&&((l=l.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0),{value:l,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function oe(e,t){return{annotationType_:e,options_:t,make_:le,extend_:ue}}function le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ue(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,N({},this.options_,{get:n.get,set:n.set}),r);var i}function ce(e,t){return{annotationType_:e,options_:t,make_:pe,extend_:he}}function pe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function he(e,t,n,r){var i,s;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(s=this.options_)?void 0:s.enhancer)?i:G,r)}var fe="true",de=me();function me(e){return{annotationType_:fe,options_:e,make_:ge,extend_:ye}}function ge(e,t,n,r){var i,s,a,o;if(n.get)return Me.make_(e,t,n,r);if(n.set){var l=Le(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!ft.safeDescriptors||e.isPlainObject_,set:l})?0:2:(u(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return x(n.value)?(null!=(o=this.options_)&&o.autoBind?Zt.bound:Zt).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Mt.bound:Mt).make_(e,t,n,r);var c,p=!1===(null==(i=this.options_)?void 0:i.deep)?Oe.ref:Oe;return"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),p.make_(e,t,n,r)}function ye(e,t,n,r){var i,s,a;return n.get?Me.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!ft.safeDescriptors||e.isPlainObject_,set:Le(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),(!1===(null==(s=this.options_)?void 0:s.deep)?Oe.ref:Oe).extend_(e,t,n,r))}var ve={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function be(e){return e||ve}Object.freeze(ve);var ke=ce("observable"),we=ce("observable.ref",{enhancer:J}),xe=ce("observable.shallow",{enhancer:function(e,t,n){return null==e||Jn(e)||Fn(e)||Ln(e)||Un(e)?e:Array.isArray(e)?Oe.array(e,{name:n,deep:!1}):w(e)?Oe.object(e,void 0,{name:n,deep:!1}):A(e)?Oe.map(e,{name:n,deep:!1}):D(e)?Oe.set(e,{name:n,deep:!1}):void 0}}),_e=ce("observable.struct",{enhancer:function(e,t){return hr(e,t)?t:e}}),Ee=z(ke);function Se(e){return!0===e.deep?G:!1===e.deep?J:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:G;var t,n,r}function Ae(e,t,n){if(!b(t))return sn(e)?e:w(e)?Oe.object(e,t,n):Array.isArray(e)?Oe.array(e,t):A(e)?Oe.map(e,t):D(e)?Oe.set(e,t):"object"==typeof e&&null!==e?e:Oe.box(e,t);U(e,t,ke)}Object.assign(Ae,Ee);var De,Pe,Re={box:function(e,t){var n=be(t);return new Ye(e,Se(n),n.name,!0,n.equals)},array:function(e,t){var n=be(t);return(!1===ft.useProxies||!1===n.proxy?or:En)(e,Se(n),n.name)},map:function(e,t){var n=be(t);return new Hn(e,Se(n),n.name)},set:function(e,t){var n=be(t);return new zn(e,Se(n),n.name)},object:function(e,t,n){return $t(!1===ft.useProxies||!1===(null==n?void 0:n.proxy)?$n({},n):function(e,t){var n,r;return m(),null!=(r=(n=(e=$n(e,t))[V]).proxy_)?r:n.proxy_=new Proxy(e,hn)}({},n),e,t)},ref:z(we),shallow:z(xe),deep:Ee,struct:z(_e)},Oe=o(Ae,Re),Ce="computed",Te=oe(Ce),Fe=oe("computed.struct",{equals:W.structural}),Me=function(e,t){if(b(t))return U(e,t,Te);if(w(e))return z(oe(Ce,e));var n=w(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(Me,Te),Me.struct=z(Fe);var Ne,je=0,Ie=1,Be=null!=(De=null==(Pe=l((function(){}),"name"))?void 0:Pe.configurable)&&De,He={value:"action",configurable:!0,writable:!1,enumerable:!1};function Le(e,t,n,r){function i(){return qe(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Be&&(He.value=e,Object.defineProperty(i,"name",He)),i}function qe(e,t,n,i,s){var a=function(e,t,n,r){var i=ft.trackingDerivation,s=!t||!i;gt();var a=ft.allowStateChanges;s&&(st(),a=Ue(!0));var o={runAsAction_:s,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:ot(!0),notifySpy_:!1,startTime_:0,actionId_:Ie++,parentActionId_:je};return je=o.actionId_,o}(0,t);try{return n.apply(i,s)}catch(e){throw a.error_=e,e}finally{!function(e){je!==e.actionId_&&r(30),je=e.parentActionId_,void 0!==e.error_&&(ft.suppressReactionErrors=!0),Ve(e.prevAllowStateChanges_),lt(e.prevAllowStateReads_),yt(),e.runAsAction_&&at(e.prevDerivation_),ft.suppressReactionErrors=!1}(a)}}function ze(e,t){var n=Ue(e);try{return t()}finally{Ve(n)}}function Ue(e){var t=ft.allowStateChanges;return ft.allowStateChanges=e,t}function Ve(e){ft.allowStateChanges=e}Ne=Symbol.toPrimitive;var Ke,Ye=function(e){function t(t,n,r,i,s){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===s&&(s=W.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=s,a.value_=n(t,void 0,r),a}j(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==ft.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(fn(this)){var t=mn(this,{object:this,type:wn,newValue:e});if(!t)return ft.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?ft.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),gn(this)&&vn(this,{type:wn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return dn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:wn,newValue:this.value_,oldValue:void 0}),yn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return O(this.get())},n[Ne]=function(){return this.valueOf()},t}(K),$e=S("ObservableValue",Ye);Ke=Symbol.toPrimitive;var We,Ge,Je=function(){function e(e){this.dependenciesState_=We.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Xe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ge.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Le("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?W.structural:W.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;(e=this).lowestObserverState_===We.UP_TO_DATE_&&(e.lowestObserverState_=We.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&(e.dependenciesState_=We.POSSIBLY_STALE_,e.onBecomeStale_())})))},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==ft.inBatch||0!==this.observers_.size||this.keepAlive_){if(vt(this),et(this)){var e=ft.trackingContext;this.keepAlive_&&!e&&(ft.trackingContext=this),this.trackAndCompute()&&((t=this).lowestObserverState_!==We.STALE_&&(t.lowestObserverState_=We.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===We.POSSIBLY_STALE_?e.dependenciesState_=We.STALE_:e.dependenciesState_===We.UP_TO_DATE_&&(t.lowestObserverState_=We.UP_TO_DATE_)})))),ft.trackingContext=e}}else et(this)&&(this.warnAboutUntrackedRead_(),gt(),this.value_=this.computeValue_(!1),yt());var t,n=this.value_;if(Ze(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===We.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ze(e)||Ze(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=Ue(!1);if(e)t=nt(this,this.derivation,this.scope_);else if(!0===ft.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Xe(e)}return Ve(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(rt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return It((function(){var s=n.get();if(!r||t){var a=st();e({observableKind:"computed",debugObjectName:n.name_,type:wn,object:n,newValue:s,oldValue:i}),at(a)}r=!1,i=s}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return O(this.get())},t[Ke]=function(){return this.valueOf()},e}(),Qe=S("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(We||(We={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ge||(Ge={}));var Xe=function(e){this.cause=void 0,this.cause=e};function Ze(e){return e instanceof Xe}function et(e){switch(e.dependenciesState_){case We.UP_TO_DATE_:return!1;case We.NOT_TRACKING_:case We.STALE_:return!0;case We.POSSIBLY_STALE_:for(var t=ot(!0),n=st(),r=e.observing_,i=r.length,s=0;s<i;s++){var a=r[s];if(Qe(a)){if(ft.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return at(n),lt(t),!0}if(e.dependenciesState_===We.STALE_)return at(n),lt(t),!0}}return ut(e),at(n),lt(t),!1}}function tt(){return null!==ft.trackingDerivation}function nt(e,t,n){var r=ot(!0);ut(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++ft.runId;var i,s=ft.trackingDerivation;if(ft.trackingDerivation=e,ft.inBatch++,!0===ft.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Xe(e)}return ft.inBatch--,ft.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=We.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,a=0;a<s;a++){var o=n[a];0===o.diffValue_&&(o.diffValue_=1,i!==a&&(n[i]=o),i++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var l=t[s];0===l.diffValue_&&dt(l,e),l.diffValue_=0}for(;i--;){var u=n[i];1===u.diffValue_&&(u.diffValue_=0,p=e,(c=u).observers_.add(p),c.lowestObserverState_>p.dependenciesState_&&(c.lowestObserverState_=p.dependenciesState_))}var c,p;r!==We.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),lt(r),i}function rt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)dt(t[n],e);e.dependenciesState_=We.NOT_TRACKING_}function it(e){var t=st();try{return e()}finally{at(t)}}function st(){var e=ft.trackingDerivation;return ft.trackingDerivation=null,e}function at(e){ft.trackingDerivation=e}function ot(e){var t=ft.allowStateReads;return ft.allowStateReads=e,t}function lt(e){ft.allowStateReads=e}function ut(e){if(e.dependenciesState_!==We.UP_TO_DATE_){e.dependenciesState_=We.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=We.UP_TO_DATE_}}var ct=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},pt=!0,ht=!1,ft=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(pt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ct).version&&(pt=!1),pt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ct):(setTimeout((function(){ht||r(35)}),1),new ct)}();function dt(e,t){e.observers_.delete(t),0===e.observers_.size&&mt(e)}function mt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,ft.pendingUnobservations.push(e))}function gt(){ft.inBatch++}function yt(){if(0==--ft.inBatch){_t();for(var e=ft.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Je&&n.suspend_())}ft.pendingUnobservations=[]}}function vt(e){var t=ft.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&ft.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&ft.inBatch>0&&mt(e),!1)}function bt(e){e.lowestObserverState_!==We.STALE_&&(e.lowestObserverState_=We.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=We.STALE_})))}var kt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=We.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ge.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ft.pendingReactions.push(this),_t())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){gt(),this.isScheduled_=!1;var e=ft.trackingContext;if(ft.trackingContext=this,et(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}ft.trackingContext=e,yt()}},t.track=function(e){if(!this.isDisposed_){gt(),this.isRunning_=!0;var t=ft.trackingContext;ft.trackingContext=this;var n=nt(this,e,void 0);ft.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&rt(this),Ze(n)&&this.reportExceptionInDerivation_(n.cause),yt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(ft.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";ft.suppressReactionErrors||console.error(n,e),ft.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(gt(),rt(this),yt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[V]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){r("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"boolean"==typeof n[n.length-1]&&(e=n.pop());var s=function(e){switch(e.length){case 0:return ft.trackingDerivation;case 1:return lr(e[0]);case 2:return lr(e[0],e[1])}}(n);if(!s)return r("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");s.isTracing_===Ge.NONE&&console.log("[mobx.trace] '"+s.name_+"' tracing enabled"),s.isTracing_=e?Ge.BREAK:Ge.LOG}(this,e)},e}(),wt=100,xt=function(e){return e()};function _t(){ft.inBatch>0||ft.isRunningReactions||xt(Et)}function Et(){ft.isRunningReactions=!0;for(var e=ft.pendingReactions,t=0;e.length>0;){++t===wt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ft.isRunningReactions=!1}var St=S("Reaction",kt),At="action",Dt="autoAction",Pt=Z(At),Rt=Z("action.bound",{bound:!0}),Ot=Z(Dt,{autoAction:!0}),Ct=Z("autoAction.bound",{autoAction:!0,bound:!0});function Tt(e){return function(t,n){return v(t)?Le(t.name||"<unnamed action>",t,e):v(n)?Le(t,n,e):b(n)?U(t,n,e?Ot:Pt):b(t)?z(Z(e?Dt:At,{name:t,autoAction:e})):void 0}}var Ft=Tt(!1);Object.assign(Ft,Pt);var Mt=Tt(!0);function Nt(e){return qe(e.name,!1,e,this,void 0)}function jt(e){return v(e)&&!0===e.isMobxAction}function It(e,t){var n,r;void 0===t&&(t=h);var i,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var a=Ht(t),o=!1;i=new kt(s,(function(){o||(o=!0,a((function(){o=!1,i.isDisposed_||i.track(l)})))}),t.onError,t.requiresObservable)}else i=new kt(s,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Mt,Ot),Ft.bound=z(Rt),Mt.bound=z(Ct);var Bt=function(e){return e()};function Ht(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Bt}function Lt(e,t,n){var r;void 0===n&&(n=h);var i,s,a,o,l=null!=(r=n.name)?r:"Reaction",u=Ft(l,n.onError?(i=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){i.call(this,e)}}):t),c=!n.scheduler&&!n.delay,p=Ht(n),f=!0,d=!1,m=n.compareStructural?W.structural:n.equals||W.default,g=new kt(l,(function(){f||c?y():d||(d=!0,p(y))}),n.onError,n.requiresObservable);function y(){if(d=!1,!g.isDisposed_){var t=!1;g.track((function(){var n=ze(!1,(function(){return e(g)}));t=f||!m(a,n),o=a,a=n})),(f&&n.fireImmediately||!f&&t)&&u(a,o,g),f=!1}}return g.schedule_(),g.getDisposer_()}var qt="onBO",zt="onBUO";function Ut(e,t,n){return Vt(zt,e,t,n)}function Vt(e,t,n,r){var i="function"==typeof r?lr(t,n):lr(t),s=v(r)?r:n,a=e+"L";return i[a]?i[a].add(s):i[a]=new Set([s]),function(){var e=i[a];e&&(e.delete(s),0===e.size&&delete i[a])}}var Kt="always";function Yt(e){!0===e.isolateGlobalState&&function(){if((ft.pendingReactions.length||ft.inBatch||ft.isRunningReactions)&&r(36),ht=!0,pt){var e=a();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),ft=new ct}}();var t,n,i=e.useProxies,s=e.enforceActions;if(void 0!==i&&(ft.useProxies=i===Kt||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(ft.verifyProxies=!0),void 0!==s){var o=s===Kt?Kt:"observed"===s;ft.enforceActions=o,ft.allowStateChanges=!0!==o&&o!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(ft[t]=!!e[t])})),ft.allowStateReads=!ft.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=xt,xt=function(e){return t((function(){return n(e)}))})}function $t(e,t,n,r){var i=T(t),s=$n(e,r)[V];gt();try{R(i).forEach((function(e){s.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{yt()}return e}function Wt(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Wt)),n}var Gt=0;function Jt(){this.message="FLOW_CANCELLED"}Jt.prototype=Object.create(Error.prototype);var Qt=re("flow"),Xt=re("flow.bound",{bound:!0}),Zt=Object.assign((function(e,t){if(b(t))return U(e,t,Qt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++Gt,s=Ft(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,o=new Promise((function(t,n){var o=0;function l(e){var t;a=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+o++,s.next).call(s,e)}catch(e){return n(e)}c(t)}function u(e){var t;a=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+o++,s.throw).call(s,e)}catch(e){return n(e)}c(t)}function c(e){if(!v(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return o.cancel=Ft(r+" - runid: "+i+" - cancel",(function(){try{a&&en(a);var t=s.return(void 0),n=Promise.resolve(t.value);n.then(y,y),en(n),e(new Jt)}catch(t){e(t)}})),o};return i.isMobXFlow=!0,i}),Qt);function en(e){v(e.cancel)&&e.cancel()}function tn(e){return!0===(null==e?void 0:e.isMobXFlow)}function nn(e,t){if(void 0===t)return Qe(e);if(!1===Jn(e))return!1;if(!e[V].values_.has(t))return!1;var n=lr(e,t);return Qe(n)}function rn(e,t){return nn(e,t)}function sn(e){return function(e,t){return!!e&&(void 0!==t?!!Jn(e)&&e[V].values_.has(t):Jn(e)||!!e[V]||Y(e)||St(e)||Qe(e))}(e)}function an(e,t,n,r){return v(n)?function(e,t,n,r){return ur(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return ur(e).observe_(t,n)}(e,t,n)}function on(e,t,n){return e.set(t,n),n}function ln(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!sn(e))return e;if($e(e)||Qe(e))return ln(e.get(),t);if(t.has(e))return t.get(e);if(Fn(e)){var n=on(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=ln(e,t)})),n}if(Un(e)){var i=on(t,e,new Set);return e.forEach((function(e){i.add(ln(e,t))})),i}if(Ln(e)){var s=on(t,e,new Map);return e.forEach((function(e,n){s.set(n,ln(e,t))})),s}var a=on(t,e,{});return function(e){if(Jn(e))return e[V].ownKeys_();r(38)}(e).forEach((function(n){c.propertyIsEnumerable.call(e,n)&&(a[n]=ln(e[n],t))})),a}function un(e,t){return ln(e,new Map)}function cn(e,t){void 0===t&&(t=void 0),gt();try{return e.apply(t)}finally{yt()}}function pn(e){return e[V]}Zt.bound=z(Xt);var hn={has:function(e,t){return pn(e).has_(t)},get:function(e,t){return pn(e).get_(t)},set:function(e,t,n){var r;return!!b(t)&&(null==(r=pn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!b(t)&&(null==(n=pn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=pn(e).defineProperty_(t,n))||r},ownKeys:function(e){return pn(e).ownKeys_()},preventExtensions:function(e){r(13)}};function fn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function dn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function mn(e,t){var n=st();try{for(var i=[].concat(e.interceptors_||[]),s=0,a=i.length;s<a&&((t=i[s](t))&&!t.type&&r(14),t);s++);return t}finally{at(n)}}function gn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function yn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vn(e,t){var n=st(),r=e.changeListeners_;if(r){for(var i=0,s=(r=r.slice()).length;i<s;i++)r[i](t);at(n)}}function bn(e,t,n){var r=$n(e,n)[V];gt();try{null!=t||(t=function(e){return C(e,q)||_(e,q,N({},e[q])),e[q]}(e)),R(t).forEach((function(e){return r.make_(e,t[e])}))}finally{yt()}return e}var kn="splice",wn="update",xn={get:function(e,t){var n=e[V];return t===V?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?C(Sn,t)?Sn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[V];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},_n=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return dn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&ar(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=p),fn(this)){var s=mn(this,{object:this.proxy_,type:kn,index:e,removedCount:t,added:n});if(!s)return p;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var o=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var o=0;o<s.length;o++)this.values_[e+n.length+o]=s[o];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),s=i||r?{observableKind:"array",object:this.proxy_,type:wn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&vn(this,s)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),s=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&vn(this,s)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(fn(this)){var s=mn(this,{type:wn,object:this.proxy_,index:e,newValue:t});if(!s)return;t=s.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var a=new Array(e+1-n.length),o=0;o<a.length-1;o++)a[o]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function En(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),m();var i=new _n(n,t,r,!1);E(i.values_,V,i);var s=new Proxy(i.values_,xn);if(i.proxy_=s,e&&e.length){var a=Ue(!0);i.spliceWithArray_(0,0,e),Ve(a)}return s}var Sn={clear:function(){return this.splice(0)},replace:function(e){var t=this[V];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=this[V];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[V].spliceWithArray_(e,t,n)},push:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[V].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return ft.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ft.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[V],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function An(e,t){"function"==typeof Array.prototype[e]&&(Sn[e]=t(e))}function Dn(e){return function(){var t=this[V];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pn(e){return function(t,n){var r=this,i=this[V];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Rn(e){return function(){var t=this,n=this[V];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}An("concat",Dn),An("flat",Dn),An("includes",Dn),An("indexOf",Dn),An("join",Dn),An("lastIndexOf",Dn),An("slice",Dn),An("toString",Dn),An("toLocaleString",Dn),An("every",Pn),An("filter",Pn),An("find",Pn),An("findIndex",Pn),An("flatMap",Pn),An("forEach",Pn),An("map",Pn),An("some",Pn),An("reduce",Rn),An("reduceRight",Rn);var On,Cn,Tn=S("ObservableArrayAdministration",_n);function Fn(e){return k(e)&&Tn(e[V])}var Mn={},Nn="add",jn="delete";On=Symbol.iterator,Cn=Symbol.toStringTag;var In,Bn,Hn=function(){function e(e,t,n){var i=this;void 0===t&&(t=G),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[V]=Mn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,v(Map)||r(18),this.keysAtom_=$("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,ze(!0,(function(){i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!ft.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ye(this.has_(e),J,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Ut(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(fn(this)){var r=mn(this,{type:n?wn:Nn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,fn(this)&&!mn(this,{type:jn,object:this,name:e}))return!1;if(this.has_(e)){var n=gn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:jn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return cn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==ft.UNCHANGED){var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:wn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&vn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,cn((function(){var r,i=new Ye(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Nn,object:this,name:e,newValue:t}:null;r&&vn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[On]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value,s=i[0],a=i[1];e.call(t,a,s,this)}},t.merge=function(e){var t=this;return Ln(e)&&(e=new Map(e)),cn((function(){w(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return c.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):A(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;cn((function(){it((function(){for(var t,n=L(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return cn((function(){for(var n,i=function(e){if(A(e)||Ln(e))return e;if(Array.isArray(e))return new Map(e);if(w(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),s=new Map,a=!1,o=L(t.data_.keys());!(n=o()).done;){var l=n.value;if(!i.has(l))if(t.delete(l))a=!0;else{var u=t.data_.get(l);s.set(l,u)}}for(var c,p=L(i.entries());!(c=p()).done;){var h=c.value,f=h[0],d=h[1],m=t.data_.has(f);if(t.set(f,d),t.data_.has(f)){var g=t.data_.get(f);s.set(f,g),m||(a=!0)}}if(!a)if(t.data_.size!==s.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),v=s.keys(),b=y.next(),k=v.next();!b.done;){if(b.value!==k.value){t.keysAtom_.reportChanged();break}b=y.next(),k=v.next()}t.data_=s})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return dn(this,e)},M(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Cn,get:function(){return"Map"}}]),e}(),Ln=S("ObservableMap",Hn),qn={};In=Symbol.iterator,Bn=Symbol.toStringTag;var zn=function(){function e(e,t,n){void 0===t&&(t=G),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[V]=qn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.atom_=$(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;cn((function(){it((function(){for(var t,n=L(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,fn(this)&&!mn(this,{type:Nn,object:this,newValue:e}))return this;if(!this.has(e)){cn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Nn,object:this,newValue:e}:null;n&&vn(this,r)}return this},t.delete=function(e){var t=this;if(fn(this)&&!mn(this,{type:jn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:jn,object:this,oldValue:e}:null;return cn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return mr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return mr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Un(e)&&(e=new Set(e)),cn((function(){Array.isArray(e)||D(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return dn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[In]=function(){return this.values()},M(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Bn,get:function(){return"Set"}}]),e}(),Un=S("ObservableSet",zn),Vn=Object.create(null),Kn="remove",Yn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=de),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=w(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(fn(this)){var r=mn(this,{type:wn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==ft.UNCHANGED){var i=gn(this),s=i?{type:wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&vn(this,s)}return!0},t.get_=function(e){return ft.trackingDerivation&&!C(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),C(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!ft.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ye(e in this.target_,J,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[q])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==c;){var s=l(i,e);if(s){var a=t.make_(this,e,s,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}Qn(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Qn(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(fn(this)){var i=mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t.value});if(!i)return null;var s=i.newValue;t.value!==s&&(t=N({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else u(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{yt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{gt();var i=this.delete_(e);if(!i)return i;if(fn(this)){var s=mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t});if(!s)return null;t=s.newValue}var a=Gn(e),o={configurable:!ft.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,o))return!1}else u(this.target_,e,o);var l=new Ye(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{yt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(fn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Gn(e),s={configurable:!ft.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else u(this.target_,e,s);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{yt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!C(this.target_,e))return!0;if(fn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Kn}))return null;try{var n,r;gt();var i,s=gn(this),a=this.values_.get(e),o=void 0;if(!a&&s&&(o=null==(i=l(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Ye&&(o=a.value_),bt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),s){var u={type:Kn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};s&&vn(this,u)}}finally{yt()}return!0},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return dn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=gn(this);if(i){var s=i?{type:Nn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&vn(this,s)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),R(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function $n(e,t){var n;if(C(e,V))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Yn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:me(e):void 0}(t));return _(e,V,i),e}var Wn=S("ObservableObjectAdministration",Yn);function Gn(e){return Vn[e]||(Vn[e]={get:function(){return this[V].getObservablePropValue_(e)},set:function(t){return this[V].setObservablePropValue_(e,t)}})}function Jn(e){return!!k(e)&&Wn(e[V])}function Qn(e,t,n){var r;null==(r=e.target_[q])||delete r[n]}var Xn,Zn,er=ir(0),tr=0,nr=function(){};Xn=nr,Zn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Xn.prototype,Zn):void 0!==Xn.prototype.__proto__?Xn.prototype.__proto__=Zn:Xn.prototype=Zn;var rr=function(e,t,n){function r(t,n,r,i){var s;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),s=e.call(this)||this;var a=new _n(r,n,i,!0);if(a.proxy_=B(s),E(B(s),V,a),t&&t.length){var o=Ue(!0);s.spliceWithArray(0,0,t),Ve(o)}return Object.defineProperty(B(s),"0",er),s}j(r,e);var i=r.prototype;return i.concat=function(){this[V].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Fn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return mr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},M(r,[{key:"length",get:function(){return this[V].getArrayLength_()},set:function(e){this[V].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(nr,Symbol.toStringTag,Symbol.iterator);function ir(e){return{enumerable:!1,configurable:!0,get:function(){return this[V].get_(e)},set:function(t){this[V].set_(e,t)}}}function sr(e){u(rr.prototype,""+e,ir(e))}function ar(e){if(e>tr){for(var t=tr;t<e+100;t++)sr(t);tr=e}}function or(e,t,n){return new rr(e,t,n)}function lr(e,t){if("object"==typeof e&&null!==e){if(Fn(e))return void 0!==t&&r(23),e[V].atom_;if(Un(e))return e[V];if(Ln(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,cr(e)),n}if(Jn(e)){if(!t)return r(26);var i=e[V].values_.get(t);return i||r(27,t,cr(e)),i}if(Y(e)||Qe(e)||St(e))return e}else if(v(e)&&St(e[V]))return e[V];r(28)}function ur(e,t){return e||r(29),void 0!==t?ur(lr(e,t)):Y(e)||Qe(e)||St(e)||Ln(e)||Un(e)?e:e[V]?e[V]:void r(24,e)}function cr(e,t){var n;if(void 0!==t)n=lr(e,t);else{if(jt(e))return e.name;n=Jn(e)||Ln(e)||Un(e)?ur(e):lr(e)}return n.name_}Object.entries(Sn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&_(rr.prototype,t,n)})),ar(1e3);var pr=c.toString;function hr(e,t,n){return void 0===n&&(n=-1),fr(e,t,n)}function fr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof t)return!1;var a=pr.call(e);if(a!==pr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=dr(e),t=dr(t);var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(v(l)&&l instanceof l&&v(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!fr(e[c],t[c],n-1,r,i))return!1}else{var p,h=Object.keys(e);if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!C(t,p=h[c])||!fr(e[p],t[p],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function dr(e){return Fn(e)?e.slice():A(e)||Ln(e)||D(e)||Un(e)?Array.from(e.entries()):e}function mr(e){return e[Symbol.iterator]=gr,e}function gr(){return this}if(["Symbol","Map","Set"].forEach((function(e){void 0===a()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:cr},$mobx:V}),!t.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!bn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function yr(e){e()}function vr(e){return function(e,t){return Wt(lr(e,t))}(e)}var br="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function kr(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+wr}}var wr=1e4,xr=br?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,s){var a=n++;return r.register(s,a,e),e.current=kr(i),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(br):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var s;return e.current=kr(r),s=e,t.add(s),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),s=i.next();!s.done;s=i.next()){var a=s.value,o=a.current;o&&(o.reaction.dispose(),a.current=null)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),_r=xr.addReactionToTrack,Er=xr.recordReactionAsCommitted,Sr=(xr.resetCleanupScheduleForTests,xr.forceCleanupTimerToRunNowForTests,!1);function Ar(){return Sr}var Dr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a};function Pr(e){return"observer".concat(e)}var Rr=function(){};function Or(){return new Rr}var Cr="function"==typeof Symbol&&Symbol.for,Tr=Cr?Symbol.for("react.forward_ref"):"function"==typeof t.forwardRef&&(0,t.forwardRef)((function(e){return null})).$$typeof,Fr=Cr?Symbol.for("react.memo"):"function"==typeof t.memo&&(0,t.memo)((function(e){return null})).$$typeof;function Mr(e,n){var r;if(Fr&&e.$$typeof===Fr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Ar())return e;var i=null!==(r=null==n?void 0:n.forwardRef)&&void 0!==r&&r,s=e,a=e.displayName||e.name;if(Tr&&e.$$typeof===Tr&&(i=!0,"function"!=typeof(s=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,l,u=function(e,n){return function(e,n){if(void 0===n&&(n="observed"),Ar())return e();var r=Dr(t.useState(Or),1)[0],i=Dr(t.useState(),2)[1],s=function(){return i([])},a=t.useRef(null);if(!a.current)var o=new kt(Pr(n),(function(){l.mounted?s():l.changedBeforeMount=!0})),l=_r(a,o,r);var u,c,p=a.current.reaction;if(t.useDebugValue(p,vr),t.useEffect((function(){return Er(a),a.current?(a.current.mounted=!0,a.current.changedBeforeMount&&(a.current.changedBeforeMount=!1,s())):(a.current={reaction:new kt(Pr(n),(function(){s()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},s()),function(){a.current.reaction.dispose(),a.current=null}}),[]),p.track((function(){try{u=e()}catch(e){c=e}})),c)throw c;return u}((function(){return s(e,n)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),i&&(u=(0,t.forwardRef)(u)),o=e,l=u=(0,t.memo)(u),Object.keys(o).forEach((function(e){Nr[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))})),u}var Nr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=yr),Yt({reactionScheduler:e})}(e.unstable_batchedUpdates);var jr=0,Ir={};function Br(e){return Ir[e]||(Ir[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+jr+")";return jr++,t}(e)),Ir[e]}function Hr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Lr(e[n[i]],t[n[i]]))return!1;return!0}function Lr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function qr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var zr=Br("patchMixins"),Ur=Br("patchedDefinition");function Vr(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t.locks++;try{var a;return null!=e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Kr(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Vr.call.apply(Vr,[this,e,t].concat(r))}}function Yr(e,t,n){var r=function(e,t){var n=e[zr]=e[zr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Ur]){var s=e[t],a=$r(e,t,i?i.enumerable:void 0,r,s);Object.defineProperty(e,t,a)}}function $r(e,t,n,r,i){var s,a=Kr(i,r);return(s={})[Ur]=!0,s.get=function(){return a},s.set=function(i){if(this===e)a=Kr(i,r);else{var s=$r(this,t,n,r,i);Object.defineProperty(this,t,s)}},s.configurable=!0,s.enumerable=n,s}var Wr,Gr,Jr=V||"$mobx",Qr=Br("isMobXReactObserver"),Xr=Br("isUnmounted"),Zr=Br("skipRender"),ei=Br("isForcingUpdate");function ti(e){var n=e.prototype;if(e[Qr]){var r=ni(n);console.warn("The provided component class ("+r+")\n                has already been declared as an observer component.")}else e[Qr]=!0;if(n.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==t.PureComponent)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==ii)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=ii;si(n,"props"),si(n,"state"),e.contextType&&si(n,"context");var i=n.render;if("function"!=typeof i){var s=ni(n);throw new Error("[mobx-react] class component ("+s+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return n.render=function(){return this.render=Ar()?i:ri.call(this,i),this.render()},Yr(n,"componentDidMount",(function(){this[Xr]=!1,this.render[Jr]||t.Component.prototype.forceUpdate.call(this)})),Yr(n,"componentWillUnmount",(function(){if(!Ar()){var e=this.render[Jr];if(e)e.dispose(),this.render[Jr]=null;else{var t=ni(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[Xr]=!0}})),e}function ni(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ri(e){var n=this;qr(this,Zr,!1),qr(this,ei,!1);var r=ni(this),i=e.bind(this),s=!1;return function e(){var a;s=!1;var o=null!=(a=e[Jr])?a:e[Jr]=function(){var e=new kt(r+".render()",(function(){if(!s&&(s=!0,!0!==n[Xr])){var r=!0;try{qr(n,ei,!0),n[Zr]||t.Component.prototype.forceUpdate.call(n),r=!1}finally{qr(n,ei,!1),r&&(e.dispose(),n.render[Jr]=null)}}}));return e.reactComponent=n,e}(),l=void 0,u=void 0;if(o.track((function(){try{u=ze(!1,i)}catch(e){l=e}})),l)throw l;return u}}function ii(e,t){return Ar()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Hr(this.props,e)}function si(e,t){var n=Br("reactProp_"+t+"_valueHolder"),r=Br("reactProp_"+t+"_atomHolder");function i(){return this[r]||qr(this,r,$("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return ot&&lt&&(e=ot(!0)),i.call(this).reportObserved(),ot&&lt&&lt(e),this[n]},set:function(e){this[ei]||Hr(this[n],e)?qr(this,n,e):(qr(this,n,e),qr(this,Zr,!0),i.call(this).reportChanged(),qr(this,Zr,!1))}})}function ai(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(t.Component,e)||Object.prototype.isPrototypeOf.call(t.PureComponent,e)?ti(e):Mr(e)}if(!t.Component)throw new Error("mobx-react requires React to be available");if(!Oe)throw new Error("mobx-react requires mobx to be available");function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}function li(e,t){if(!1===e||null==e)throw new Error(t)}function ui(e,t,n,r){return void 0===n&&(n=null),oi({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?pi(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ci(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function pi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hi(e){let t="undefined"!=typeof window&&void 0!==window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"==typeof e?e:ci(e);return li(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function fi(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let i=[...t,r],s="string"==typeof e.id?e.id:i.join("-");return li(!0!==e.index||!e.children,"Cannot specify children on an index route"),li(!n.has(s),'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),n.add(s),function(e){return!0===e.index}(e)?oi({},e,{id:s}):oi({},e,{id:s,children:e.children?fi(e.children,i,n):void 0})}))}function di(e,t,n){void 0===n&&(n="/");let r=Pi(("string"==typeof t?pi(t):t).pathname||"/",n);if(null==r)return null;let i=mi(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=Si(i[e],Di(r));return s}function mi(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(li(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=Ti([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(li(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),mi(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Ei(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of gi(e.path))i(e,t,n);else i(e,t)})),t}function gi(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=gi(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Wr||(Wr={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Gr||(Gr={}));const yi=/^:\w+$/,vi=3,bi=2,ki=1,wi=10,xi=-2,_i=e=>"*"===e;function Ei(e,t){let n=e.split("/"),r=n.length;return n.some(_i)&&(r+=xi),t&&(r+=bi),n.filter((e=>!_i(e))).reduce(((e,t)=>e+(yi.test(t)?vi:""===t?ki:wi)),r)}function Si(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let a=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=Ai({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;s.push({params:r,pathname:Ti([i,u.pathname]),pathnameBase:Fi(Ti([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=Ti([i,u.pathnameBase]))}return s}function Ai(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),Ri("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Ri(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function Di(e){try{return decodeURI(e)}catch(t){return Ri(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Pi(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ri(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function Oi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ci(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Fi=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mi=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ni=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class ji extends Error{}class Ii{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,li(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,n)=>t=n)),this.controller=new AbortController;let n=()=>t(new ji("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof ji)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:()=>n}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),i&&i(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach(((e,t)=>this.pendingKeys.delete(t)));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return li(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:Bi(r)})}),{})}}function Bi(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}class Hi{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Li(e){return e instanceof Hi}const qi=["post","put","patch","delete"],zi=new Set(qi),Ui=["get",...qi],Vi=new Set(Ui),Ki=new Set([301,302,303,307,308]),Yi=new Set([307,308]),$i={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Wi={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Gi=!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement);function Ji(e,t,n){void 0===n&&(n=!1);let r,i="string"==typeof e?e:ci(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&(s=t.formMethod,!Vi.has(s)))return{path:i,error:os(405,{method:t.formMethod})};var s;if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:us(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},fs(r.formMethod)))return{path:i,submission:r};let a=pi(i);try{let e=ns(t.formData);n&&a.search&&gs(a.search)&&e.append("index",""),a.search="?"+e}catch(e){return{path:i,error:os(400)}}return{path:ci(a),submission:r}}function Qi(e,t,n,r,i,s,a,o,l,u){let c=l?Object.values(l)[0]:o?Object.values(o)[0]:void 0,p=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(t,l?Object.keys(l)[0]:void 0).filter(((t,a)=>null!=t.route.loader&&(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[a],t)||s.some((e=>e===t.route.id))||Zi(e.location,e.matches[a],n,r,t,i,c)))),h=[];return u&&u.forEach(((e,t)=>{let[r,s,o]=e;(a.includes(t)||i&&Zi(r,s,n,r,s,i,c))&&h.push([t,r,s,o])})),[p,h]}function Xi(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zi(e,t,n,r,i,s,a){let o=hi(e),l=t.params,u=hi(r),c=i.params,p=Xi(t,i)||o.toString()===u.toString()||o.search!==u.search||s;if(i.route.shouldRevalidate){let e=i.route.shouldRevalidate(oi({currentUrl:o,currentParams:l,nextUrl:u,nextParams:c},n,{actionResult:a,defaultShouldRevalidate:p}));if("boolean"==typeof e)return e}return p}async function es(e,t,n,r,i,s,a,o){let l,u,c;void 0===i&&(i="/"),void 0===s&&(s=!1),void 0===a&&(a=!1);let p=new Promise(((e,t)=>c=t)),h=()=>c();t.signal.addEventListener("abort",h);try{let r=n.route[e];li(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),u=await Promise.race([r({request:t,params:n.params,context:o}),p]),li(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=Gr.error,u=e}finally{t.signal.removeEventListener("abort",h)}if(function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}(u)){let e,o=u.status;if(Ki.has(o)){let e=u.headers.get("Location");if(li(e,"Redirects returned/thrown from loaders/actions must have a Location header"),!/^[a-z+]+:\/\//i.test(e)&&!e.startsWith("//")){let s=function(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=pi(e):(i=oi({},e),li(!i.pathname||!i.pathname.includes("?"),Oi("?","pathname","search",i)),li(!i.pathname||!i.pathname.includes("#"),Oi("#","pathname","hash",i)),li(!i.search||!i.search.includes("#"),Oi("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(r||null==o)s=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?pi(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Mi(r),hash:Ni(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),c=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}(e,Ci(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(li(ci(s),"Unable to resolve redirect location: "+e),i){let e=s.pathname;s.pathname="/"===e?i:Ti([i,e])}e=ci(s)}if(s)throw u.headers.set("Location",e),u;return{type:Gr.redirect,status:o,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate")}}if(a)throw{type:l||Gr.data,response:u};let c=u.headers.get("Content-Type");return e=c&&/\bapplication\/json\b/.test(c)?await u.json():await u.text(),l===Gr.error?{type:l,error:new Hi(o,u.statusText,e),headers:u.headers}:{type:Gr.data,data:e,statusCode:u.status,headers:u.headers}}return l===Gr.error?{type:l,error:u}:u instanceof Ii?{type:Gr.deferred,deferredData:u}:{type:Gr.data,data:u}}function ts(e,t,n){let r=hi(us(e)).toString(),i={signal:t};if(n&&fs(n.formMethod)){let{formMethod:e,formEncType:t,formData:r}=n;i.method=e.toUpperCase(),i.body="application/x-www-form-urlencoded"===t?ns(r):r}return new Request(r,i)}function ns(e){let t=new URLSearchParams;for(let[n,r]of e.entries())li("string"==typeof r,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function rs(e,t,n,r,i,s,a,o){let{loaderData:l,errors:u}=function(e,t,n,r,i){let s,a={},o=null,l=!1,u={};return n.forEach(((n,c)=>{let p=t[c].route.id;if(li(!hs(n),"Cannot handle redirect results in processLoaderData"),ps(n)){let t=ss(e,p),i=n.error;r&&(i=Object.values(r)[0],r=void 0),o=o||{},null==o[t.route.id]&&(o[t.route.id]=i),a[p]=void 0,l||(l=!0,s=Li(n.error)?n.error.status:500),n.headers&&(u[p]=n.headers)}else cs(n)?(i&&i.set(p,n.deferredData),a[p]=n.deferredData.data):(a[p]=n.data,null==n.statusCode||200===n.statusCode||l||(s=n.statusCode),n.headers&&(u[p]=n.headers))})),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:u}}(t,n,r,i,o);for(let t=0;t<s.length;t++){let[n,,r]=s[t];li(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let i=a[t];if(ps(i)){let t=ss(e.matches,r.route.id);u&&u[t.route.id]||(u=oi({},u,{[t.route.id]:i.error})),e.fetchers.delete(n)}else{if(hs(i))throw new Error("Unhandled fetcher revalidation redirect");if(cs(i))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(n,t)}}}return{loaderData:l,errors:u}}function is(e,t,n,r){let i=oi({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ss(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function as(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function os(e,t){let{pathname:n,routeId:r,method:i}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a=i&&n&&r?"You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"Cannot submit binary form data using GET"):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Hi(e||500,s,new Error(a),!0)}function ls(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(hs(n))return n}}function us(e){return ci(oi({},"string"==typeof e?pi(e):e,{hash:""}))}function cs(e){return e.type===Gr.deferred}function ps(e){return e.type===Gr.error}function hs(e){return(e&&e.type)===Gr.redirect}function fs(e){return zi.has(e)}async function ds(e,t,n,r,i,s){for(let a=0;a<n.length;a++){let o=n[a],l=t[a],u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!Xi(u,l)&&void 0!==(s&&s[l.route.id]);cs(o)&&(i||c)&&await ms(o,r,i).then((e=>{e&&(n[a]=e||n[a])}))}}async function ms(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Gr.data,data:e.deferredData.unwrappedData}}catch(e){return{type:Gr.error,error:e}}return{type:Gr.data,data:e.deferredData.data}}}function gs(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ys(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function vs(e,t){let n="string"==typeof t?pi(t).search:t.search;if(e[e.length-1].route.index&&gs(n||""))return e[e.length-1];let r=Ci(e);return r[r.length-1]}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}const ks="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:ws,useEffect:xs,useLayoutEffect:_s,useDebugValue:Es}=n;function Ss(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!ks(n,e)}catch(e){return!0}}const As="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:i},s]=ws({inst:{value:r,getSnapshot:t}});return _s((()=>{i.value=r,i.getSnapshot=t,Ss(i)&&s({inst:i})}),[e,r,t]),xs((()=>(Ss(i)&&s({inst:i}),e((()=>{Ss(i)&&s({inst:i})})))),[e]),Es(r),r},Ds=As,Ps=t.createContext(null),Rs=t.createContext(null),Os=t.createContext(null),Cs=t.createContext(null),Ts=t.createContext(null),Fs=t.createContext({outlet:null,matches:[]}),Ms=t.createContext(null);function Ns(){return null!=t.useContext(Ts)}function js(){let e=function(){var e;let n=t.useContext(Ms),r=function(e){let n=t.useContext(Os);return n||li(!1),n}(Ls.UseRouteError),i=function(e){let n=function(e){let n=t.useContext(Fs);return n||li(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||li(!1),r.route.id}(Ls.UseRouteError);return n||(null==(e=r.errors)?void 0:e[i])}(),n=Li(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,t.createElement("p",null,"💿 Hey developer 👋"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"errorElement")," props on ",t.createElement("code",{style:a},"<Route>")))}class Is extends t.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Fs.Provider,{value:this.props.routeContext},t.createElement(Ms.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bs(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(Ps);return s&&r.route.errorElement&&(s._deepestRenderedBoundaryId=r.route.id),t.createElement(Fs.Provider,{value:n},i)}var Hs,Ls,qs;function zs(e){let{fallbackElement:n,router:r}=e,i=Ds(r.subscribe,(()=>r.state),(()=>r.state)),s=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),a=r.basename||"/";return t.createElement(Rs.Provider,{value:{router:r,navigator:s,static:!1,basename:a}},t.createElement(Os.Provider,{value:i},t.createElement(Vs,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:s},r.state.initialized?t.createElement(Ks,null):n)))}function Us(e){li(!1)}function Vs(e){let{basename:n="/",children:r=null,location:i,navigationType:s=Wr.Pop,navigator:a,static:o=!1}=e;Ns()&&li(!1);let l=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:l,navigator:a,static:o})),[l,a,o]);"string"==typeof i&&(i=pi(i));let{pathname:c="/",search:p="",hash:h="",state:f=null,key:d="default"}=i,m=t.useMemo((()=>{let e=Pi(c,l);return null==e?null:{pathname:e,search:p,hash:h,state:f,key:d}}),[l,c,p,h,f,d]);return null==m?null:t.createElement(Cs.Provider,{value:u},t.createElement(Ts.Provider,{children:r,value:{location:m,navigationType:s}}))}function Ks(e){let{children:n,location:r}=e,i=t.useContext(Rs);return function(e,n){Ns()||li(!1);let{navigator:r}=t.useContext(Cs),i=t.useContext(Os),{matches:s}=t.useContext(Fs),a=s[s.length-1],o=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,c=(Ns()||li(!1),t.useContext(Ts).location);if(n){var p;let e="string"==typeof n?pi(n):n;"/"===l||(null==(p=e.pathname)?void 0:p.startsWith(l))||li(!1),u=e}else u=c;let h=u.pathname||"/",f=di(e,{pathname:"/"===l?h:h.slice(l.length)||"/"}),d=function(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let i=e,s=null==r?void 0:r.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||li(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,o)=>{let l=a.route.id?null==s?void 0:s[a.route.id]:null,u=r?a.route.errorElement||t.createElement(js,null):null,c=n.concat(i.slice(0,o+1)),p=()=>t.createElement(Bs,{match:a,routeContext:{outlet:e,matches:c}},l?u:void 0!==a.route.element?a.route.element:e);return r&&(a.route.errorElement||0===o)?t.createElement(Is,{location:r.location,component:u,error:l,children:p(),routeContext:{outlet:null,matches:c}}):p()}),null)}(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Ti([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ti([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i||void 0);return n&&d?t.createElement(Ts.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},d):d}(i&&!n?i.router.routes:Ys(n),r)}function Ys(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;if(e.type===t.Fragment)return void r.push.apply(r,Ys(e.props.children,n));e.type!==Us&&li(!1),e.props.index&&e.props.children&&li(!1);let s=[...n,i],a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Ys(e.props.children,s)),r.push(a)})),r}!function(e){e.UseRevalidator="useRevalidator"}(Hs||(Hs={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ls||(Ls={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(qs||(qs={})),new Promise((()=>{})),t.Component;var $s=i(3358),Ws=i.n($s),Gs=i(5072),Js=i.n(Gs),Qs=i(7825),Xs=i.n(Qs),Zs=i(7659),ea=i.n(Zs),ta=i(5056),na=i.n(ta),ra=i(540),ia=i.n(ra),sa=i(1113),aa=i.n(sa),oa=i(5399),la={};la.styleTagTransform=aa(),la.setAttributes=na(),la.insert=ea().bind(null,"head"),la.domAPI=Xs(),la.insertStyleElement=ia(),Js()(oa.A,la);const ua=oa.A&&oa.A.locals?oa.A.locals:void 0;var ca=i(2856),pa={};pa.styleTagTransform=aa(),pa.setAttributes=na(),pa.insert=ea().bind(null,"head"),pa.domAPI=Xs(),pa.insertStyleElement=ia(),Js()(ca.A,pa);const ha=ca.A&&ca.A.locals?ca.A.locals:void 0;function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}function da(e){let{type:n,size:r,className:i,children:s,to:a,...o}=e;return t.createElement("button",fa({className:Ws()(ha.button,i,n&&ha[n],r&&ha[r])},o),s)}var ma=i(5316),ga={};ga.styleTagTransform=aa(),ga.setAttributes=na(),ga.insert=ea().bind(null,"head"),ga.domAPI=Xs(),ga.insertStyleElement=ia(),Js()(ma.A,ga);const ya=ma.A&&ma.A.locals?ma.A.locals:void 0;function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function ba(e){let{onValueChange:n,onChange:r,...i}=e;const s=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&n&&n(e.currentTarget.value)}),[r,n]);return t.createElement("div",{className:ya.container},t.createElement("input",va({className:ya.input},i,{onChange:s})))}function ka(e){let{onValueChange:n,onChange:r,min:i,max:s,value:a,className:o,...l}=e;const[u,c]=(0,t.useState)((()=>String(a||0)));(0,t.useEffect)((()=>{c(String(a))}),[a]);const p=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&c(e.currentTarget.value)}),[r,n]),h=(0,t.useCallback)((()=>{let e=Math.floor(Number(u));i&&(e=Math.max(i,e)),s&&(e=Math.min(s,e)),n&&n(e),c(String(e))}),[u,a]),f=(0,t.useCallback)((()=>{a<s&&n&&n(a+1)}),[a,s]),d=(0,t.useCallback)((()=>{a>i&&n&&n(a-1)}),[a,i]);return t.createElement("div",{className:ya.container},t.createElement(da,{disabled:a<=i,className:ya.btn,onClick:d},"-"),t.createElement("input",va({className:Ws()(ya.input,ya.inputNum,o)},l,{value:u,onChange:p,onBlur:h,inputMode:"numeric"})),t.createElement(da,{disabled:a>=s,className:ya.btn,onClick:f},"+"))}function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(this,arguments)}function xa(e){let{className:n,numberOfLines:r,style:i,onPress:s,...a}=e;return t.createElement("span",wa({className:Ws()(ua.text,n,r&&ua["numberOfLine"+r]),onClick:s},a))}const _a=(0,t.forwardRef)((function(e,n){let{className:r,...i}=e;return t.createElement("div",wa({ref:n,className:Ws()(ua.view,r)},i))}));function Ea(e){let{activeOpacity:n,className:r,onPress:i,onLongPress:s,disabled:a,...o}=e,l=(0,t.useMemo)((()=>({})));const u=(0,t.useCallback)((()=>{a||i()}),[a,i]),c=(0,t.useCallback)((()=>{l.timer=setTimeout((()=>{s()}),800)}),[s]),p=(0,t.useCallback)((()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),[s]);return t.createElement("div",wa({className:Ws()(ua.touchable,a&&ua.disabled,r),onClick:u},o,{onMouseDown:c,onTouchStart:c,onMouseUp:p,onTouchEnd:p,role:"button"}))}const Sa=t.forwardRef((function(e,n){let{className:r,children:i,contentContainerClassName:s,horizontal:a,bounces:o=!0,...l}=e;return t.createElement("div",wa({className:Ws()(a?ua.scrollViewH:ua.scrollView,o&&ua.bounces,r)},l,{ref:n}),t.createElement("div",{className:Ws()(a?ua.scrollViewContentH:ua.scrollViewContent,s)},i))})),Aa=t.memo((function(e){let{render:t,data:n}=e;return t(n)}));function Da(e){let{enableEmptySections:n,dataSource:r,renderFooter:i,renderRow:s,...a}=e;return t.createElement(Sa,a,r&&r.map((e=>t.createElement(Aa,{render:s,data:e,key:e.key||e[0]}))),i&&t.createElement(Aa,{render:i}))}function Pa(e){let{value:n,onValueChange:r}=e;const i=t.useCallback((e=>{r(e.currentTarget.checked)}));return t.createElement("input",{type:"checkbox",checked:n,onChange:i})}Da.DataSource=class{constructor(){}cloneWithRows(e){return[...e]}};var Ra=i(5516),Oa=function(){};function Ca(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var Ta=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(Ta(Object.getPrototypeOf(e))||[])},Fa=function(e){return function(e){var t=Ta(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},Ma="pending",Na="fulfilled",ja="rejected";function Ia(e){switch(this.state){case Ma:return e.pending&&e.pending(this.value);case ja:return e.rejected&&e.rejected(this.value);case Na:return e.fulfilled?e.fulfilled(this.value):this.value}}function Ba(e,t){if(Ca(arguments.length<=2,"fromPromise expects up to two arguments"),Ca("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Ft("observableFromPromise-resolve",(function(e){n.value=e,n.state=Na})),Ft("observableFromPromise-reject",(function(e){n.value=e,n.state=ja}))),n.isPromiseBasedObservable=!0,n.case=Ia;var r=t&&t.state===Na?t.value:void 0;return $t(n,{value:r,state:Ma},{},{deep:!1}),n}function Ha(e,t,n){void 0===t&&(t=Oa),void 0===n&&(n=void 0);var r=!1,i=!1,s=n,a=function(){r&&(r=!1,t())},o=$("ResourceBasedObservable",(function(){Ca(!r&&!i),r=!0,e((function(e){ze(!0,(function(){s=e,o.reportChanged()}))}))}),a);return{current:function(){return Ca(!i,"subscribingObservable has already been disposed"),o.reportObserved()||r||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),s},dispose:function(){i=!0,a()},isAlive:function(){return r}}}!function(e){e.reject=Ft("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=ja,n.value=t,n})),e.resolve=Ft("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=Na,n.value=t,n}))}(Ba||(Ba={}));var La=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),bn(this),Nt((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),La([Oe.ref],e.prototype,"current",void 0),La([Ft.bound],e.prototype,"next",null),La([Ft.bound],e.prototype,"complete",null),La([Ft.bound],e.prototype,"error",null)}();var qa=function(){return qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qa.apply(this,arguments)},za=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},Ua=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function Va(e,t){var n=lr(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return an(n,(function(){}))}!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:Oe.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:Oe.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),bn(this),Ca(Jn(e),"createViewModel expects an observable object");var n=Fa(this);Fa(e).forEach((function(r){var i;if(!n.includes(r)&&r!==V&&"__mobxDidRunLazyInitializers"!==r){if(Ca(-1===Ua.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),rn(e,r)){var s=ur(e,r),a=s.derivation.bind(t),o=null===(i=s.setter_)||void 0===i?void 0:i.bind(t);t.localComputedValues.set(r,Me(a,{set:o}))}var l=Object.getOwnPropertyDescriptor(e,r),u=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,r,qa(qa({},u),{configurable:!0,get:function(){return rn(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Ft((function(n){rn(e,r)?t.localComputedValues.get(r).set(n):n!==t.model[r]?t.localValues.set(r,n):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(function(e){return Jn(e)?e[V].keys_():Ln(e)||Un(e)?Array.from(e.keys()):Fn(e)?e.map((function(e,t){return t})):void r(5)})(this.localValues).forEach((function(t){var n=e.localValues.get(t),r=e.model[t];Fn(r)?r.replace(n):Ln(r)?(r.clear(),r.merge(n)):nn(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),za([Me],e.prototype,"isDirty",null),za([Me],e.prototype,"changedValues",null),za([Ft.bound],e.prototype,"submit",null),za([Ft.bound],e.prototype,"reset",null),za([Ft.bound],e.prototype,"resetProperty",null)}();var Ka={};function Ya(e){return tt()||console.warn("'expr' should only be used inside other reactive functions."),Me(e).get()}var $a,Wa,Ga,Ja,Qa=($a=function(e,t){return $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$a(e,t)},function(e,t){function n(){this.constructor=e}$a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xa=(function(e){function t(t,n,r){var i=void 0===r?{}:r,s=i.name,a=void 0===s?"ogm"+(1e3*Math.random()|0):s,o=i.keyToName,l=void 0===o?function(e){return""+e}:o,u=e.call(this)||this;Object.defineProperty(u,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._keyToName=l,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+a),u._base=t;for(var c=0;c<t.length;c++)u._addItem(t[c]);return u._disposeBaseObserver=an(u._base,(function(e){if("splice"===e.type)cn((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var i=0,s=e.added;i<s.length;i++){var a=s[i];u._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");cn((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}Qa(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Oe([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),r=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:r.length,reaction:Lt((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var s=t._getGroupArr(n),a=s.length;s.push(e),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),r.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(Hn),function(){function e(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(e.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),e}());Object.defineProperty(function(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new Xa(this.store,e)}});class Za{constructor(e){(function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"items",[]),this.compare=e}add(e){return this.bubbleUp(this.items.length,e)}minimum(){return this.items[0]}removeMin(){1!==this.items.length?this.bubbleDown(0,this.items.pop()):this.items.pop()}bubbleUp(e,t){let n;for(;e>0&&(n=e-1>>1,this.compare(t,this.items[n]));)this.items[e]=this.items[n],e=n;return this.items[e]=t,e}bubbleDown(e,t){for(;;){let n=1+(e<<1);if(n>=this.items.length)break;if(n+1<this.items.length&&this.compare(this.items[n+1],this.items[n])&&(n+=1),!this.compare(this.items[n],t))break;this.items[e]=this.items[n],e=n}return this.items[e]=t,e}}function eo(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function to(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const no={setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:e=>window.clearTimeout(e),getTime:()=>Date.now(),tryUpdate:()=>{},get now(){return void 0===(e="frame")&&(e=1e3),tt()?(Ka[e]||(Ka[e]="number"==typeof e?function(e){var t;return Ha((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=Ha((function(e){e(Date.now()),function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}()}),(function(){}),Date.now())),Ka[e].current()):Date.now();var e,t}};let ro=0,io=(Ga=to((Wa=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no;eo(this,"rate",Ga,this),eo(this,"paused",Ja,this),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"lastEnd",Date.now()),bn(this),this.tree=new Za(((e,t)=>e.at<t.at)),this.parent=e,this.parentCurrent=e.getTime(),this.isUpdating=!1,this.timer=null,this.current=0,this.onTimer=()=>{this.timer=null,this.update(),this.resetTimer()}}get now(){return this.paused?this.current:(this.parent.now-this.parentCurrent)*this.rate+this.current}dispose(){this.clearTimer()}getTime(){return this.current}tryUpdate(){this.isUpdating||this.paused||(this.parent.tryUpdate(),this.update())}setTimeout(e,t){if(isNaN(t))throw new Error("Invalid delay.");this.tryUpdate();const n={id:++ro,at:this.current+t,func:e};return 0===this.tree.add(n)&&(this.isUpdating||this.paused||(this.clearTimer(),this.resetTimer())),n}clearTimeout(e){e.removed=!0}pause(){this.paused||(this.isUpdating||(this.clearTimer(),this.tryUpdate()),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.parentCurrent=this.parent.getTime(),this.isUpdating||(this.tryUpdate(),this.resetTimer()))}setRate(e){this.rate!==e&&(this.isUpdating||(this.clearTimer(),this.update()),this.rate=e,this.isUpdating||this.resetTimer())}clearTimer(){this.timer&&(this.parent.clearTimeout(this.timer),this.timer=null)}resetTimer(){if(this.paused)return;const e=this.tree.minimum();e&&(this.timer=this.parent.setTimeout(this.onTimer,(e.at-this.current)/this.rate+.01))}update(){this.isUpdating=!0;const e=this.parent.getTime(),t=this.current+(e-this.parentCurrent)*this.rate;for(;;){const e=this.tree.minimum();if(!e||e.at>t)break;this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func())}this.current=t,this.parentCurrent=e,this.isUpdating=!1}stepPaused(e){this.isUpdating=!0;const t=this.lastEnd,n=this.current+e;let r=0;for(;;){const e=this.tree.minimum();if(!e||e.at>n)return this.current=n,this.parentCurrent=this.parent.getTime(),this.savedCurrent=n,this.isUpdating=!1,0;if(this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func()),r+=1,r%100==0&&Date.now()-t>=48){this.lastEnd=Date.now();break}}return this.isUpdating=!1,n-this.current}}).prototype,"rate",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ja=to(Wa.prototype,"paused",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),to(Wa.prototype,"pause",[Ft],Object.getOwnPropertyDescriptor(Wa.prototype,"pause"),Wa.prototype),to(Wa.prototype,"resume",[Ft],Object.getOwnPropertyDescriptor(Wa.prototype,"resume"),Wa.prototype),to(Wa.prototype,"setRate",[Ft],Object.getOwnPropertyDescriptor(Wa.prototype,"setRate"),Wa.prototype),Wa);var so=i(7615),ao=i(5041),oo={};oo.styleTagTransform=aa(),oo.setAttributes=na(),oo.insert=ea().bind(null,"head"),oo.domAPI=Xs(),oo.insertStyleElement=ia(),Js()(ao.A,oo);const lo=ao.A&&ao.A.locals?ao.A.locals:void 0;function uo(e){const t=document.createElement("div");t.className=lo.root;const n=document.createElement("div");n.className=lo.container,n.appendChild(document.createTextNode(e)),t.appendChild(n),document.body.appendChild(t),setTimeout((()=>{n.className=lo.container+" "+lo.visible}));let r=!1;function i(){r||(r=!0,n.className=lo.container,setTimeout((()=>{document.body.removeChild(t)}),300))}n.addEventListener("click",i),setTimeout(i,1700)}var co,po,ho,fo,mo,go,yo;function vo(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bo(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let wo=(co=class{constructor(e,t,n){bo(this,"onTimer",(()=>{if(this.timer=null,this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total)return;let e=0;if(this.config.quality){const t=this.config.quality.reduce(((e,t)=>e+t),0);let n=Math.random()*t;e=this.config.quality.findIndex((e=>n<e||(n-=e,!1)))}const{type:t,types:n}=this.config;yu.addEnemy(t||function(e){const t=Object.keys(e),n=t.reduce(((t,n)=>e[n]+t),0);let r=Math.random()*n;for(let n=0;n<t.length;n++){if(r<e[t[n]])return t[n];r-=e[t[n]]}return t[0]}(n),this,e),this.count+=1,this.total+=1,this.setTimer()})),vo(this,"over",po,this),bo(this,"count",0),bo(this,"total",0),bo(this,"config",null),bo(this,"timeline",null),bo(this,"timer",null),bo(this,"disposed",!1),bn(this),this.timeline=e,this.config=t,n?(this.over=n.over,this.total=n.total,this.setTimer(n.timer)):this.setTimer(!0)}testTimer(){this.config.max&&this.count>=this.config.max&&this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}setTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total))if("number"!=typeof e){if(!this.timer&&!this.disposed){let t=e?this.config.warmup||0:this.config.delay&&this.config.delay+1e3*Math.random()-500;if(t=Math.round(t/Mm.sweetlv),!e&&!t)return;this.timer=this.timeline.setTimeout(this.onTimer,t)}}else this.timer=this.timeline.setTimeout(this.onTimer,e)}dispose(){this.disposed=!0,this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}onEnemyKilled(){this.count-=1,this.total>=this.config.total&&this.count<=0?this.over=!0:this.setTimer()}dumpState(){return{over:this.over,total:this.total,timer:this.timer&&this.timer.at-this.timeline.getTime()}}},po=ko(co.prototype,"over",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),co),xo=(yo=ko((go=class{constructor(e,t,n){bo(this,"timeline",void 0),bo(this,"borns",null),vo(this,"map",yo,this),this.timeline=e,this.map=t;const{monsters:r}=this.mapData;this.borns=r&&r.map(((t,r)=>t&&new wo(e,t,n&&n.borns&&n.borns[r])))}dispose(){this.borns&&(this.borns.forEach((e=>e.dispose())),this.borns=null)}get mapData(){return so.maps[this.map]}dumpState(){return{borns:this.borns&&this.borns.map((e=>e&&e.dumpState()))}}onPlayerDeath(){}}).prototype,"map",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ko(go.prototype,"mapData",[Me],Object.getOwnPropertyDescriptor(go.prototype,"mapData"),go.prototype),go),_o=(ho=class extends xo{constructor(e,t,n){super(e,t,n),vo(this,"phaseBorn",fo,this),vo(this,"currentPhase",mo,this),bn(this),this.switchToPhase(n?n.currentPhase:0,n&&n.phaseBorn),this.autoDispose=It((()=>{const{phaseBorn:e,disposed:t}=this;!t&&e&&e.every((e=>!e||!e.config.total||e.over))&&this.switchToPhase(this.currentPhase+1)}))}get phaseData(){return this.mapData.phases[this.currentPhase]}switchToPhase(e,t){this.currentPhase=e,this.phaseBorn&&(this.phaseBorn.forEach((e=>e.dispose())),this.phaseBorn=null);const{phaseData:n}=this;if(n)this.phaseBorn=n.monsters&&n.monsters.map(((e,n)=>new wo(this.timeline,e,t&&t[n])));else{const{player:e}=yu,t=yu._endlessLevel?"nightmare."+yu._endlessLevel:this.mapData.group||this.map;if(e.countTicket(t)>0){const{exp:n=0,level:r,loots:i,special:s,specialrate:a}=this.mapData;yu.gotExp(n,Uc(r)),yu.loots(i,r,0),s&&yu.specialloots(s,a,r),yu.lootEndless(),yu._endlessLevel&&yu._endlessLevel>e.hdlv&&(e.hdlv=yu._endlessLevel),e.costTicket(t)}if(this.currentPhase=null,yu.player.pendingMaps.size>0){const e=yu.player.pendingMaps.keys().next().value;yu._map=e,yu._endlessLevel=yu.player.pendingMaps.get(e).endlessLevel,yu.onMapChanged(),yu.player.pendingMaps.get(e).count-=1,yu.player.pendingMaps.get(e).count<1&&yu.player.pendingMaps.delete(e)}else yu.map=yu.player.outsidemap||"home";yu.player.save()}}dispose(){this.disposed=!0,this.autoDispose&&this.autoDispose(),this.borns&&this.borns.forEach((e=>e.dispose())),this.phaseBorn&&this.phaseBorn.forEach((e=>e.dispose()))}dumpState(){const e=super.dumpState();return e.phaseBorn=this.phaseBorn&&this.phaseBorn.map((e=>e&&e.dumpState())),e.currentPhase=this.currentPhase,e}onPlayerDeath(){if(this.currentPhase=null,yu.player.pendingMaps.size>0){const e=yu.player.pendingMaps.keys().next().value;yu._map=e,yu._endlessLevel=yu.player.pendingMaps.get(e).endlessLevel,yu.onMapChanged(),yu.player.pendingMaps.get(e).count-=1,yu.player.pendingMaps.get(e).count<1&&yu.player.pendingMaps.delete(e)}else yu.map=yu.player.outsidemap||"home"}},fo=ko(ho.prototype,"phaseBorn",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mo=ko(ho.prototype,"currentPhase",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ko(ho.prototype,"phaseData",[Me],Object.getOwnPropertyDescriptor(ho.prototype,"phaseData"),ho.prototype),ko(ho.prototype,"switchToPhase",[Ft],Object.getOwnPropertyDescriptor(ho.prototype,"switchToPhase"),ho.prototype),ho);const Eo=/[\p{Lu}]/u,So=/[\p{Ll}]/u,Ao=/^[\p{Lu}](?![\p{Lu}])/gu,Do=/([\p{Alpha}\p{N}_]|$)/u,Po=/[_.\- ]+/,Ro=new RegExp("^"+Po.source),Oo=new RegExp(Po.source+Do.source,"gu"),Co=new RegExp("\\d+"+Do.source,"gu");function To(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),r=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?Po.test(e)?"":t.pascalCase?r(e):n(e):(e!==n(e)&&(e=((e,t,n,r)=>{let i=!1,s=!1,a=!1,o=!1;for(let l=0;l<e.length;l++){const u=e[l];o=!(l>2)||"-"===e[l-3],i&&Eo.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,a=s,s=!0,l++):s&&a&&So.test(u)&&(!o||r)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),a=s,s=!1,i=!0):(i=t(u)===u&&n(u)!==u,a=s,s=n(u)===u&&t(u)!==u)}return e})(e,n,r,t.preserveConsecutiveUppercase)),e=e.replace(Ro,""),e=t.preserveConsecutiveUppercase?((e,t)=>(Ao.lastIndex=0,e.replace(Ao,(e=>t(e)))))(e,n):n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),((e,t)=>(Oo.lastIndex=0,Co.lastIndex=0,e.replace(Oo,((e,n)=>t(n))).replace(Co,(e=>t(e)))))(e,r))}class Fo extends Ra.EventEmitter{send(e){yu.paused||this.emit("message",e)}sendGeneral(e){this.send({type:"general",message:e})}sendSystem(e,t){this.send({type:"other.system",subType:e,options:t})}sendDodge(e,t,n){this.send({type:"battle.dodge",from:e,to:t,skill:n})}sendDamage(e,t,n,r,i,s,a,o){r&&this.send({type:"battle.damage",damageType:e,from:t,to:n,skill:r,value:i,isCrit:s,isblock:a,absorbed:o})}sendHeal(e,t,n,r){this.send({type:"battle.heal",from:e,to:t,skill:n,value:r})}sendPlayerDeath(e,t){this.send({type:"player.death",who:e,rebornIn:t})}sendDeath(e,t){this.send({type:"battle.death",who:e,rebornIn:t})}sendEnterMap(e){this.send({type:"map.enter",map:e})}sendEnemyAppear(e,t){this.send({type:"enemy.appear",enemy:e,summoner:t})}sendGotExp(e,t){this.send({type:"player.gotExp",who:e,value:t})}sendLoot(e,t,n){this.send({type:"player.loot",who:e,what:t,showToast:n})}sendSkillUsage(e,t,n){this.send({type:"battle.skill",from:e,targets:t,skill:n})}sendBuff(e,t){this.send({type:"battle.buff",who:e,what:t})}sendBuffOff(e,t){this.send({type:"battle.buffOff",who:e,what:t})}sendBreakCasting(e,t){this.send({type:"battle.breakCasting",who:e,what:t})}}const Mo=new Fo;var No,jo,Io,Bo,Ho,Lo,qo,zo,Uo,Vo,Ko,Yo,$o,Wo,Go,Jo,Qo,Xo,Zo,el,tl,nl,rl,il,sl,al,ol,ll,ul,cl,pl,hl,fl,dl,ml,gl,yl;function vl(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kl(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const wl=.5,xl="ghost",_l="neutral",El="player",Sl="enemy",Al={ghost:{},neutral:{player:!0,alien:!0},player:{neutral:!0,enemy:"hate"},alien:{neutral:!0,enemy:"hate"},enemy:{player:"hate",alien:"hate"},shrine:{},story:{}},Dl={ghost:{},neutral:{neutral:!0,enemy:!0},player:{player:!0,alien:!0},alien:{player:!0,alien:!0},enemy:{neutral:!0,enemy:!0},shrine:{}};let Pl=0,Rl=(jo=kl((No=class{constructor(e,t,n,r){vl(this,"type",jo,this),bl(this,"timeline",null),bl(this,"unit",null),bl(this,"coolDownTimer",null),vl(this,"cooleddown",Io,this),vl(this,"coolDownAt",Bo,this),vl(this,"effect",Ho,this),vl(this,"onCoolDown",Lo,this),bn(this),this.timeline=e,this.type=n,this.unit=t,r?r.coolDown&&this.setupCoolDown(r.coolDown):this.setupCoolDown()}getLevel(){return 0}addSkillExp(){}reduceCoolDown(e,t){if(!this.cooleddown){const t=Math.max(this.coolDownAt-this.timeline.getTime()-e,1);this.setupCoolDown(t,!0)}}setupCoolDown(e,t){const{skillData:n}=this;n||alert(this.type);const r=e||("function"==typeof n.coolDown?n.coolDown(this.getLevel(),this.unit):n.coolDown);!t&&this.coolDownAt-this.timeline.getTime()>=r||(this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null),r&&r>0?(this.coolDownAt=this.timeline.getTime()+r,this.cooleddown=!1,this.coolDownTimer=this.timeline.setTimeout(this.onCoolDown,r)):this.cooleddown=!0)}get shouldUse(){if(!this.canUse)return!1;const{skillData:e}=this;return!e.shouldUse||e.shouldUse.call(this,yu,this.unit,this.getLevel())}get canUse(){if(!this.cooleddown)return!1;const{skillData:e}=this;return!(e.cost&&["hp","mp","rp","ep","comboPoint"].some((t=>{let n=e.cost[t];return"function"==typeof n&&(n=n(this.unit)),n&&n>this.unit[t]}))||e.canUse&&!e.canUse.call(this,yu,this.unit,this.getLevel()))}get notBreakable(){return this.skillData.notBreakable}get skillData(){return so.skills[this.type]}get name(){return this.skillData.name}dispose(){this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null);for(const e of yu.units.filter((e=>e.summonSkill===this)))e.kill()}dumpState(){const e={};return this.cooleddown||(e.coolDown=this.coolDownTimer.at-this.timeline.getTime()),e}testBreak(){const{antiBreak:e}=this.skillData;return!e||Math.random()<1-e}}).prototype,"type",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Io=kl(No.prototype,"cooleddown",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bo=kl(No.prototype,"coolDownAt",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kl(No.prototype,"setupCoolDown",[Ft],Object.getOwnPropertyDescriptor(No.prototype,"setupCoolDown"),No.prototype),Ho=kl(No.prototype,"effect",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{skillData:e}=this;let t=this.getLevel()+yu.getexsklv(e.key);t=so.skills[e.key].MaxLv?Math.min(t,so.skills[e.key].MaxLv):t,e.effect.call(this,yu,this.unit,t),e.cost&&["hp","mp","rp","ep","comboPoint"].forEach((n=>{let r=e.cost[n];"function"==typeof r&&(r=r(this.unit,t)),r&&("rp"===n&&(this.unit.hp+=r*(this.unit.rpRecHp||0)),r=this.unit.runAttrHooks(r,To("postCost-"+n)),r=this.unit.runAttrHooks(r,To("Cost-"+n)),this.unit[n]-=r,this.unit.runAttrHooks(r,To("reCost-"+n)))})),this.setupCoolDown(),this.addSkillExp()}}}),Lo=kl(No.prototype,"onCoolDown",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.coolDownTimer=null,this.coolDownAt=0,this.cooleddown=!0}}}),kl(No.prototype,"shouldUse",[Me],Object.getOwnPropertyDescriptor(No.prototype,"shouldUse"),No.prototype),kl(No.prototype,"canUse",[Me],Object.getOwnPropertyDescriptor(No.prototype,"canUse"),No.prototype),kl(No.prototype,"notBreakable",[Me],Object.getOwnPropertyDescriptor(No.prototype,"notBreakable"),No.prototype),kl(No.prototype,"skillData",[Me],Object.getOwnPropertyDescriptor(No.prototype,"skillData"),No.prototype),kl(No.prototype,"name",[Me],Object.getOwnPropertyDescriptor(No.prototype,"name"),No.prototype),No),Ol=(qo=class{constructor(e,t,n,r,i,s){bl(this,"expireAt",null),bl(this,"timeline",null),bl(this,"unit",null),bl(this,"timer",null),bl(this,"group",null),bl(this,"hookDisposes",[]),vl(this,"type",zo,this),vl(this,"arg",Uo,this),vl(this,"stack",Vo,this),bl(this,"effect",(()=>{this.effectTimer=this.timeline.setTimeout(this.effect,this.effectInterval),Nt((()=>{this.buffData.effect.call(this,yu)}))})),bl(this,"over",(()=>{this.timer=null,this.unit.removeBuff(this)})),bn(this),this.timeline=e,this.unit=t,this.type=n,this.arg=i,this.group=s,r&&(this.totalTime=r,this.expireAt=this.timeline.getTime()+r,this.timer=e.setTimeout(this.over,r))}resetTimer(e){const{timeline:t}=this;this.timer&&t.clearTimeout(this.timer),e?(this.expireAt=t.getTime()+e,this.timer=t.setTimeout(this.over,e)):this.expireAt=null}get buffData(){return so.buffs[this.type]}get effectInterval(){const{effectInterval:e}=this.buffData;return"function"==typeof e?e.call(this):e}dispose(){this.didRemove()}runAttrHook(e,t){const{buffData:{hooks:n}}=this;return n&&n[t]?n[t].call(this,e):e}willAppear(){const{willAppear:e}=this.buffData;return!e||e.call(this)}didAppear(){const{timeline:e,unit:t,buffData:{didAppear:n,hooks:r},effectInterval:i}=this;if(i&&(this.effectTimer=e.setTimeout(this.effect,i)),r)for(const e of Object.keys(r))this.hookDisposes.push(t.addAttrHook(e,r[e].bind(this)));n&&n.call(this)}willRemove(){const{willRemove:e}=this.buffData;e&&e.call(this,yu)}didRemove(){const{didRemove:e}=this.buffData;e&&e.call(this,yu),this.timer&&this.timeline.clearTimeout(this.timer),this.effectTimer&&(this.timeline.clearTimeout(this.effectTimer),this.effectTimer=null);const{buffData:t}=this;t.onOver&&t.onOver.call(this,yu),this.hookDisposes&&(this.hookDisposes.forEach((e=>e())),this.hookDisposes=null),this.unit.reading===this&&(this.unit.reading=null)}dumpState(){if(this.buffData.notSave)return;const e={type:this.type,group:this.group,arg:this.arg};return this.expireAt&&(e.time=this.expireAt-this.timeline.getTime()),e}},zo=kl(qo.prototype,"type",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Uo=kl(qo.prototype,"arg",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vo=kl(qo.prototype,"stack",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),kl(qo.prototype,"buffData",[Me],Object.getOwnPropertyDescriptor(qo.prototype,"buffData"),qo.prototype),kl(qo.prototype,"effectInterval",[Me],Object.getOwnPropertyDescriptor(qo.prototype,"effectInterval"),qo.prototype),qo),Cl=0,Tl=(Ko=class{constructor(e,t){bl(this,"key",0),bl(this,"timeline",null),bl(this,"keepAlives",[]),bl(this,"autoDisposes",[]),vl(this,"_hp",Yo,this),vl(this,"_mp",$o,this),vl(this,"_rp",Wo,this),vl(this,"_ep",Go,this),vl(this,"_fp",Jo,this),vl(this,"_cp",Qo,this),vl(this,"comboPoint",Xo,this),vl(this,"camp",Zo,this),vl(this,"target",el,this),vl(this,"skills",tl,this),vl(this,"buffs",nl,this),vl(this,"combos",rl,this),bl(this,"hooks",Oe.map()),bl(this,"recoveryTimer",null),vl(this,"casting",il,this),bl(this,"castingTimer",null),vl(this,"reading",sl,this),bl(this,"canUseSkill",(()=>this.camp===xl||this.casting||this.reading||this.timeline.paused||this.runAttrHooks(!1,"stunned")?null:this.skills.find((e=>e.shouldUse)))),vl(this,"tryUseSkill",al,this),vl(this,"recovery",ol,this),bn(this),this.timeline=new io(e),this.disposeUseSkill=Lt(this.canUseSkill,this.tryUseSkill),this.disposeSpeed=It((()=>{this.timeline.setRate(this.speedRate)})),this.autoDisposes.push(It((()=>{const{target:e}=this;e&&e.camp===xl&&this.findTarget()}))),this.key=Pl+=1}initKeepAlives(){[Va(this,"maxHp")].forEach((e=>this.keepAlives.push(e)))}get hp(){return this._hp}set hp(e){this._hp=Math.max(0,Math.min(e,this.maxHp))}get mp(){return this._mp}set mp(e){this._mp=Math.max(0,Math.min(e,this.maxMp))}get rp(){return this._rp}set rp(e){this._rp=Math.max(0,Math.min(e,this.maxRp))}get ep(){return this._ep}set ep(e){this._ep=Math.max(0,Math.min(e,this.maxEp))}get fp(){return this._fp}set fp(e){this._fp=Math.max(0,Math.min(e,this.maxFp))}get cp(){return this._cp}set cp(e){this._cp=Math.max(0,Math.min(e,this.maxCp))}setTarget(e){this.target=e,e&&e.runAttrHooks(this,"becomeTarget")}get targetDisplayName(){return this.target?this.target.displayName:""}get rpRecHp(){let e=0;return e=this.runAttrHooks(e,"rpRecHp"),e}get castingName(){return this.casting&&this.casting.skillData.name||this.reading&&this.reading.buffData.name}get castingTime(){return this.casting?this.casting.skillData.castTime:this.reading?this.reading.totalTime:1}setCamp(e){this.camp=e,this.target=null,this.findTarget();for(const e of yu.units)e.target!==this||e.canAttack(this)||(e.target=null,e.findTarget())}get castingRest(){return this.casting?this.castingTime+this.timeline.now-this.castingTimer.at:this.reading?this.reading.expireAt-this.timeline.now:0}startRead(e,t,n,r){if(this.camp===xl)return;const i=new Ol(this.timeline,this,e,t,n);i.skill=r,i.willAppear(),Mo.sendBuff(this,e),this.buffs.push(i),i.didAppear(),this.reading=i}get speedRate(){let e=1;return e=this.runAttrHooks(e,"speedRateAdd"),Math.min(e,4)}breakCasting(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{casting:n,reading:r}=this;if(n&&!n.notBreakable){if(!t&&!n.testBreak())return;Mo.sendBreakCasting(this,n),this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null,e&&n.setupCoolDown(e)}if(r&&r.skill&&!r.skill.notBreakable){if(!t&&!r.skill.testBreak())return;Mo.sendBreakCasting(this,r),this.reading=null,this.removeBuff(r),e&&r.skill&&r.skill.setupCoolDown(e)}}get stunResist(){return this.runAttrHooks(0,"stunResist")}damage(e,t,n){return this.camp!==xl&&(this.hp-=n,this.hp<=0?this.kill():t&&null===this.target&&this.canAttack(t)&&this.setTarget(t),!0)}kill(){this.camp=xl,this.target=null,this.rp=0,this.mp=0,this.ep=0,this.comboPoint=0,this.casting&&(this.timeline.clearTimeout(this.castingTimer),this.casting=null,this.castingTimer=null),this.recoveryTimer&&(this.timeline.parent.clearTimeout(this.recoveryTimer),this.recoveryTimer=null);for(const e of this.buffs.slice(0))this.removeBuff(e)}findTarget(){const e=yu.units.filter((e=>this.willAttack(e))),t=e[Math.floor(Math.random()*e.length)];this.setTarget(t||null)}willAttack(e){const t=Al[this.camp][e.camp];return this.runAttrHooks("hate"===t,"willAttack",e)}canAttack(e){return!!Al[this.camp][e.camp]}willAssist(e){return!!Dl[this.camp][e.camp]}addSkill(e,t){this.skills.unshift(new Rl(this.timeline,this,e,t))}removeSkill(e){const t=this.skills.findIndex((t=>t.type===e));this.skills.splice(t,1)[0].dispose()}startRecovery(){this.recoveryTimer||(this.recoveryTimer=this.timeline.parent.setTimeout(this.recovery,500/this.speedRate))}addAttrHook(e,t){let n=this.hooks.get(e);n||(n=Oe.map(),this.hooks.set(e,n));let r=++Cl;for(Cl>=1e5&&(Cl=0);n.has(r);)r=++Cl,Cl>=1e5&&(Cl=0);return n.set(r,t),Ft((()=>{n.delete(r)}))}runAttrHooks(e,t){if(!this)return;let n=e;const r=this.hooks.get(t);if(r){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];for(const e of r.values())n=e(n,...s)}return n}equpoint(e){const{plastron:t,gaiter:n,weapon:r,assistant:i,ornament:s}=this.player.equipments;return[r,i,t,n,s].reduce(((t,n)=>t+(n.empty?0:n[e])),0)}dispose(){this.disposeUseSkill(),this.disposeSpeed(),this.keepAlives.forEach((e=>e())),this.keepAlives=[],this.skills.forEach((e=>e.dispose())),this.skills.clear();const{casting:e,reading:t}=this;e&&(this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null);for(const e of this.buffs.slice(0))this.removeBuff(e,!0);t&&(this.reading=null,this.removeBuff(t)),this.recoveryTimer&&(this.timeline.clearTimeout(this.recoveryTimer),this.recoveryTimer=null),this.timeline.dispose();for(const e of this.autoDisposes.splice(0))e()}addBuff(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;if(this.camp===xl)return;if(r){const a=this.buffs.filter((e=>e.group===r)).sort(((e,t)=>{let n=0;if(e.buffData.compBuff&&(n=e.buffData.compBuff(e,t)),!n)return e.expireAt-t.expireAt})),o=a.slice(0,a.length-i+1),l=o.shift();if(l&&l.type===e)return l.arg=n,l.resetTimer(t),l;const u=new Ol(this.timeline.parent,this,e,t,n,r);if(!u.willAppear())return;return l&&this.removeBuff(l),o.forEach((e=>this.removeBuff(e))),u.skill=s||0,Mo.sendBuff(this,e),this.buffs.push(u),u.didAppear(),u}const a=new Ol(this.timeline.parent,this,e,t,n,r);return a.willAppear()?(a.skill=s||0,Mo.sendBuff(this,e),this.buffs.push(a),a.didAppear(),a):void 0}removeBuff(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.buffs.indexOf(e);n<0||(t||Mo.sendBuffOff(this,e.type),e.willRemove(),this.buffs.splice(n,1),e.didRemove())}dumpState(){const e={};for(const t of this.skills)e[t.type]=t.dumpState();return{camp:this.camp,hp:this.hp,rp:this.rp,ep:this.ep,mp:this.mp,target:this.target&&yu.units.indexOf(this.target),skills:e,buffs:this.buffs.map((e=>e.dumpState())),casting:this.casting&&this.skills.indexOf(this.casting),castingTimer:this.casting&&this.castingTimer.at-this.timeline.getTime(),reading:this.reading&&this.buffs.indexOf(this.reading)}}stun(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stunned",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{casting:r,reading:i}=this;if(r&&r.notBreakable&&!n)return!1;if(i&&i.skill&&!i.skill.notBreakable&&!n)return!1;const{stunResist:s}=this,a=n?e:e/(1+s/100);let o=Math.floor(a);const l=a-o;return Math.random()<l&&(o+=1),o>0&&(this.breakCasting(null,!0),this.addBuff(t,1e3*o),!0)}testCrit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=0;const n=Math.min(this.critRate+e,1);return Math.random()<n&&++t,this.runAttrHooks("testCrit",t),t}getCritBonus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+(this.critBonus-1+t)*e}},Yo=kl(Ko.prototype,"_hp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$o=kl(Ko.prototype,"_mp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wo=kl(Ko.prototype,"_rp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Go=kl(Ko.prototype,"_ep",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jo=kl(Ko.prototype,"_fp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qo=kl(Ko.prototype,"_cp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xo=kl(Ko.prototype,"comboPoint",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zo=kl(Ko.prototype,"camp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xl}}),el=kl(Ko.prototype,"target",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(Ko.prototype,"setTarget",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"setTarget"),Ko.prototype),tl=kl(Ko.prototype,"skills",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nl=kl(Ko.prototype,"buffs",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rl=kl(Ko.prototype,"combos",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kl(Ko.prototype,"targetDisplayName",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"targetDisplayName"),Ko.prototype),kl(Ko.prototype,"rpRecHp",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"rpRecHp"),Ko.prototype),il=kl(Ko.prototype,"casting",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sl=kl(Ko.prototype,"reading",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(Ko.prototype,"castingName",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"castingName"),Ko.prototype),kl(Ko.prototype,"castingTime",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"castingTime"),Ko.prototype),kl(Ko.prototype,"setCamp",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"setCamp"),Ko.prototype),kl(Ko.prototype,"castingRest",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"castingRest"),Ko.prototype),kl(Ko.prototype,"startRead",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"startRead"),Ko.prototype),kl(Ko.prototype,"speedRate",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"speedRate"),Ko.prototype),kl(Ko.prototype,"breakCasting",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"breakCasting"),Ko.prototype),al=kl(Ko.prototype,"tryUseSkill",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(this.runAttrHooks(e,"preskill",yu),!this.casting&&e&&e.canUse){const{castTime:t}=e.skillData;t?(this.castingTimer=this.timeline.setTimeout(Ft((()=>{e.canUse&&(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect")),this.castingTimer=null,this.casting=null})),t),this.casting=e):(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect"))}}}}),kl(Ko.prototype,"stunResist",[Me],Object.getOwnPropertyDescriptor(Ko.prototype,"stunResist"),Ko.prototype),kl(Ko.prototype,"damage",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"damage"),Ko.prototype),kl(Ko.prototype,"kill",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"kill"),Ko.prototype),kl(Ko.prototype,"findTarget",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"findTarget"),Ko.prototype),kl(Ko.prototype,"addSkill",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"addSkill"),Ko.prototype),kl(Ko.prototype,"removeSkill",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"removeSkill"),Ko.prototype),ol=kl(Ko.prototype,"recovery",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.camp!==xl?(this.hpRecovery&&(this.hp+=(this.hpRecovery||0)*wl),this.mpRecovery&&(this.mp+=(this.mpRecovery||0)*wl),this.rpRecovery&&(this.rp+=(this.rpRecovery||0)*wl),this.epRecovery&&(this.ep+=(this.epRecovery||0)*wl),this.fpRecovery&&(this.fp+=(this.fpRecovery||0)*wl),this.cpRecovery&&(this.cp+=(this.cpRecovery||0)*wl),this.recoveryTimer=null,this.startRecovery()):this.recoveryTimer=null}}}),kl(Ko.prototype,"addAttrHook",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"addAttrHook"),Ko.prototype),kl(Ko.prototype,"addBuff",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"addBuff"),Ko.prototype),kl(Ko.prototype,"removeBuff",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"removeBuff"),Ko.prototype),kl(Ko.prototype,"stun",[Ft],Object.getOwnPropertyDescriptor(Ko.prototype,"stun"),Ko.prototype),Ko),Fl=(ll=class extends Tl{constructor(e,t,n){var r;super(e,n),r=this,vl(this,"player",ul,this),vl(this,"reborn",cl,this),bn(this),Nt((()=>{this.player=t,["weapon","assistant","plastron","gaiter","ornament"].forEach((e=>{let t=[];this.autoDisposes.push(It((()=>{const n=this.player.equipments[e];for(const e of t.splice(0))e();if(!n.empty&&this.canEquip(n))for(const e of n.affixes)if(e.isLegend){const{hooks:n}=e.affixData;for(const r of Object.keys(n))t.push(this.addAttrHook(r,n[r].bind(this,e.value)))}else{const{hooks:r}=e.affixData,i=Math.round(so.affixes[e.key].generate(n.level)*(1+Math.min(1,n.rflevel/10)));for(const e of Object.keys(r))t.push(this.addAttrHook(e,r[e].bind(this,i)))}})))}));{let e=[];this.autoDisposes.push(It((()=>{for(const t of e.splice(0))t();Object.keys(this.player.careerData.passives).forEach((t=>{if(Ya((()=>this.player.careerData.passives[t]<=this.player.level))){const n=so.passives[t],{hooks:r}=n;if(r)for(const t of Object.keys(r))e.push(this.addAttrHook(t,r[t].bind(this,yu)))}}))})))}{let e=[];this.autoDisposes.push(It((()=>{for(const t of e.splice(0))t();this.player.careerInfo.selectedEnhances.forEach((t=>{const{hooks:n}=so.enhances[t];if(n)for(const t of Object.keys(n))e.push(this.addAttrHook(t,n[t].bind(this,yu)))}))})))}for(const e of Object.keys(so.medicines)){const{hooks:t}=so.medicines[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t[n].apply(r,[Mm.medicineLevel.get(e)||0,...s])}))}for(const e of Object.keys(so.cookings)){const{hooks:t}=so.cookings[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t[n].apply(r,[Mm.cookingLevel.get(e)||0,...s])}))}}));const i=this.player.careerInfo.selectedSkills,s=n&&n.skills;for(let e=i.length-1;e>=0;e--)this.addSkill(i[e],s&&s[i[e]]);if(n){if(Nt((()=>{this.camp=n.camp})),n.rebornTimer)Mo.sendPlayerDeath(this,(n.rebornTimer/1e3).toFixed(1)),this.timeline.parent.setTimeout(this.reborn,n.rebornTimer);else if(this.camp===xl){const e=10;Mo.sendPlayerDeath(this,e),this.rebornTimer=this.timeline.parent.setTimeout(this.reborn,1e3*e)}if(n.buffs)for(const e of n.buffs)e&&e.time>0&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=n.hp,this.mp=n.mp,this.rp=n.rp,this.ep=n.ep,"number"==typeof n.reading)this.reading=this.buffs[n.reading];else if("number"==typeof n.casting){const e=this.skills[n.casting],t=n.castingTimer;e&&(this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e)}}else this.hp=this.maxHp,this.mp=this.maxMp,this.camp=El;this.startRecovery()}initKeepAlives(){super.initKeepAlives(),[Va(this,"maxMp"),Va(this,"maxRp"),Va(this,"maxEp"),Va(this,"atk"),Va(this,"def"),Va(this,"hpRecovery"),Va(this,"mpRecovery"),Va(this,"rpRecovery"),Va(this,"epRecovery"),Va(this,"critRate"),Va(this,"critBonus"),Va(this,"leech"),Va(this,"meleeAbsorb"),Va(this,"fireResist"),Va(this,"fireAbsorb"),Va(this,"darkResist"),Va(this,"darkAbsorb"),Va(this,"coldResist"),Va(this,"coldAbsorb"),Va(this,"lightningResist"),Va(this,"lightningAbsorb"),Va(this,"mf"),Va(this,"gf")].forEach((e=>this.keepAlives.push(e)))}selectCareer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const e of this.skills.splice(0))e.dispose();this.player.selectCareer(e,t);const n=this.player.careerInfo.selectedSkills;for(let e=n.length-1;e>=0;e--)this.addSkill(n[e])}get name(){return this.player?this.player.name:""}get displayName(){return this.runAttrHooks(this.name,"displayName")}get str(){let e=0;return this.player&&(e+=this.player.roleData.attrBase.str,e+=this.player.careerData.attrGrow.str*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"strAdd"),e*=this.runAttrHooks(1,"strMul"),e}get dex(){let e=0;return this.player&&(e+=this.player.roleData.attrBase.dex,e+=this.player.careerData.attrGrow.dex*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"dexAdd"),e*=this.runAttrHooks(1,"dexMul"),e}get int(){let e=0;return e+=this.equpoint("int"),this.player&&(e+=this.player.roleData.attrBase.int,e+=this.player.careerData.attrGrow.int*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"intAdd"),e*=this.runAttrHooks(1,"intMul"),e}get sta(){let e=0;return e+=this.equpoint("sta"),this.player&&(e+=this.player.roleData.attrBase.sta,e+=this.player.careerData.attrGrow.sta*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"staAdd"),e*=this.runAttrHooks(1,"staMul"),e}get maxHp_self(){let e=0;return e+=this.equpoint("maxHp"),e=this.runAttrHooks(e,"maxHp_Add"),e}get maxHp(){let e=this.maxHp_self;return e=this.runAttrHooks(e,"maxHpAdd"),e*=this.runAttrHooks(1,"maxHpMul"),e}get maxCombo(){let e=0;return e=this.runAttrHooks(e,"maxCombo"),e}get hpRecovery(){let e=1;return"home"===yu.map&&(e+=this.maxHp/10),e=this.runAttrHooks(e,"hpRecovery"),e}get maxMp(){let e=0;return e=this.runAttrHooks(e,"maxMpAdd"),e*=this.runAttrHooks(1,"maxMpMul"),e*=this.runAttrHooks(1,"nomp"),e}get mpRecovery(){let e=0;return"home"===yu.map&&(e+=this.maxMp/10),e=this.runAttrHooks(e,"mpRecovery"),e}get mpFromKill(){let e=0;return e=this.runAttrHooks(e,"mpFromKill"),e}get hpFromKill(){let e=0;return e=this.runAttrHooks(e,"hpFromKill"),e}get maxRp(){let e=0;return e=this.runAttrHooks(e,"maxRp"),e}get rpRecovery(){let e=0;return e=this.runAttrHooks(e,"rpRecovery"),e}get rpFromKill(){let e=0;return e=this.runAttrHooks(e,"rpFromKill"),e}get maxEp(){let e=0;return e=this.runAttrHooks(e,"maxEp"),Math.max(e,1)}get epRecovery(){let e=0;return e=this.runAttrHooks(e,"epRecovery"),e}get maxFp(){let e=0;return e=this.runAttrHooks(e,"maxFpAdd"),e}get fpRecovery(){let e=1;return e=this.runAttrHooks(e,"fpRecovery"),e}get maxCp(){let e=0;return e=this.runAttrHooks(e,"maxCpAdd"),e}get cpRecovery(){let e=1;return e=this.runAttrHooks(e,"cpRecovery"),e}get exp(){return this.player.level>=this.player.maxLevel?this.player.peakExp:this.player.exp}get maxExp(){return this.player.level>=this.player.maxLevel?this.player.maxPeakExp:this.player.maxExp}get atk_self(){let e=1;e+=this.equpoint("atk_self");const{weapon:t}=this.player.equipments;return t.empty||(e*=1+t.atkMul),e=this.runAttrHooks(e,"atk_self_Add"),e*=this.runAttrHooks(1,"atk_Mul"),e}get atk(){let e=0;return e+=this.atk_self||0,e=this.runAttrHooks(e,"atk_Add"),e}get critRate(){let e=this.critR_level/(4e3+this.critR_level)*.9;return e+=this.equpoint("critRate"),e=this.runAttrHooks(e,"critRateAdd"),e=this.runAttrHooks(e,"critRate"),e=Math.min(.9,e),e}get critR_level(){let e=0;return e=this.runAttrHooks(e,"critRLAdd"),e=this.runAttrHooks(e,"critRL"),e}get critBonus(){let e=1.5+this.critB_level/(1500+1.1*this.critB_level)*1.5+this.critB_level/15e4;return e+=this.equpoint("critBonus"),e=this.runAttrHooks(e,"critBonusAdd"),e=this.runAttrHooks(e,"critBonus"),e}get critB_level(){let e=0;return e=this.runAttrHooks(e,"critBLAdd"),e=this.runAttrHooks(e,"critBL"),e}get leech(){let e=0;return e=this.runAttrHooks(e,"leech"),e}get leech2(){let e=0;return e=this.runAttrHooks(e,"leech2"),e}get def_self(){let e=0;return e+=this.equpoint("def"),e=this.runAttrHooks(e,"defselfAdd"),e*=this.runAttrHooks(1,"defselfMul"),Math.max(e,0)}get def(){let e=this.def_self;return e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get defRate(){let e=1-2e3/(2e3+this.def);return e=this.runAttrHooks(e,"defRate"),Math.min(e,.9999)}get missing(){let e=0;return e=this.runAttrHooks(e,"missing"),e}get missrate(){let e=this.missing/(4e3+this.missing)*.5;return e=this.runAttrHooks(e,"missrate"),e=Math.min(.5,e),e}get block(){let e=0;return e=this.runAttrHooks(e,"block"),e}get blockrate(){let e=this.block/(2e3+this.block)*.5;return e=this.runAttrHooks(e,"blockrate"),e=Math.min(.5,e),e}get blockeffect(){let e=.1+this.block/(3e3+this.block)*.75;return e=this.runAttrHooks(e,"blockeffect"),e=Math.min(.75,e),e}get allResist_self(){let e=0;return e+=this.equpoint("allResist"),e=this.runAttrHooks(e,"allResselfAdd"),Math.max(e,0)}get speRes(){let e=0;return e=this.runAttrHooks(e,"speResAdd"),Math.max(e,0)}get allResist(){let e=this.allResist_self;return e=this.runAttrHooks(e,"allResAdd"),e*=this.runAttrHooks(1,"allResMul"),Math.max(e,0)}get allresRate(){let e=1-2e3/(2e3+this.allResist);return e=this.runAttrHooks(e,"allresRate"),e}get allAbsorb(){let e=0;return e=this.runAttrHooks(e,"allAbsAdd"),e}get meleeAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"meleeAbsorb"),Math.min(e,.95)}get fireAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"fireAbsorb"),Math.min(e,.95)}get fireResist(){let e=this.allResist;return e=this.runAttrHooks(e,"fireResist"),Math.max(e,0)}get fireResRate(){let e=1-2e3/(2e3+this.fireResist);return e=this.runAttrHooks(e,"fireResRate"),Math.min(e,.9999)}get coldAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"coldAbsorb"),Math.min(e,.95)}get coldResist(){let e=this.allResist;return e=this.runAttrHooks(e,"coldResist"),Math.max(e,0)}get coldResRate(){let e=1-2e3/(2e3+this.coldResist);return e=this.runAttrHooks(e,"coldResRate"),Math.min(e,.9999)}get lightningAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"lightningAbsorb"),Math.min(e,.95)}get lightningResist(){let e=this.allResist;return e=this.runAttrHooks(e,"lightningResist"),Math.max(e,0)}get lightningResRate(){let e=1-2e3/(2e3+this.lightningResist);return e=this.runAttrHooks(e,"lightningResRate"),Math.min(e,.9999)}get poisonAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"poisonAbsorb"),Math.min(e,.95)}get poisonResist(){let e=this.speRes;return e=this.runAttrHooks(e,"poisonResist"),Math.max(e,0)}get poisonResRate(){let e=1-2e3/(2e3+this.poisonResist);return e=this.runAttrHooks(e,"poisonResRate"),Math.min(e,.9999)}get lightAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"lightAbsorb"),Math.min(e,.95)}get lightResist(){let e=this.speRes;return e=this.runAttrHooks(e,"lightResist"),Math.max(e,0)}get lightResRate(){let e=1-2e3/(2e3+this.lightResist);return e=this.runAttrHooks(e,"lightResRate"),Math.min(e,.9999)}get darkAbsorb(){let e=0+this.allAbsorb;return e=this.runAttrHooks(e,"darkAbsorb"),Math.min(e,.95)}get darkResist(){let e=this.speRes;return e=this.runAttrHooks(e,"darkResist"),Math.max(e,0)}get darkResRate(){let e=1-2e3/(2e3+this.darkResist);return e=this.runAttrHooks(e,"darkResRate"),Math.min(e,.9999)}damage(e,t,n){if(super.damage(e,t,n)&&"melee"!==e){const e=this.runAttrHooks(0,"rpFromNonPhy");this.rp+=e}}get skexp(){let e=1;return e=this.runAttrHooks(e,"skExpadd"),e*=this.runAttrHooks(1,"skillExpMul"),e}get skillExpInc(){let e=1;return e+=.05*this.player.hdlv,e=this.runAttrHooks(e,"skillExpInc"),e}addSkill(e){const t=new Rl(this.timeline,this,e);t.getLevel=()=>this.player.getSkillLevel(e),t.addSkillExp=()=>this.player.addSkillExp(e,this.skexp*this.skillExpInc),this.skills.unshift(t)}get canGetExp(){return this.camp===El}get level(){return this.player.level}get mf(){let e=1+.03*this.player.peakLevel;return e+=.2*this.player.hdlv,e=this.runAttrHooks(e,"mf"),e}get gf(){return 1}get dmgAdd(){let e=1+this.dmgLevel/(1500+1.5*this.dmgLevel)+this.dmgLevel/15e4;return e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get dmgLevel(){let e=0;return e=this.runAttrHooks(e,"dmgLAdd"),e=this.runAttrHooks(e,"dmgLMul"),e}get fireDmgadd(){let e=1+this.firedmgLevel/(1500+1.5*this.firedmgLevel)+this.firedmgLevel/15e4;return e=this.runAttrHooks(e,"fireDmgadd"),e=this.runAttrHooks(e,"firedmgMul"),Math.max(e,1)}get firedmgLevel(){let e=0;return e=this.runAttrHooks(e,"firedmgLAdd"),e=this.runAttrHooks(e,"firedmgLMul"),e}get coldDmgadd(){let e=1+this.colddmgLevel/(1500+1.5*this.colddmgLevel)+this.colddmgLevel/15e4;return e=this.runAttrHooks(e,"coldDmgadd"),e=this.runAttrHooks(e,"colddmgMul"),Math.max(e,1)}get colddmgLevel(){let e=0;return e=this.runAttrHooks(e,"colddmgLAdd"),e=this.runAttrHooks(e,"colddmgLMul"),e}get lightningDmgadd(){let e=1+this.lightningdmgLevel/(1500+1.5*this.lightningdmgLevel)+this.lightningdmgLevel/15e4;return e=this.runAttrHooks(e,"lightningDmgadd"),e=this.runAttrHooks(e,"lightningdmgMul"),Math.max(e,1)}get lightningdmgLevel(){let e=0;return e=this.runAttrHooks(e,"lightningdmgLAdd"),e=this.runAttrHooks(e,"lightningdmgLMul"),e}get poisonDmgadd(){let e=1+this.poisondmgLevel/(1500+1.5*this.poisondmgLevel)+this.poisondmgLevel/15e4;return e=this.runAttrHooks(e,"poisonDmgadd"),e=this.runAttrHooks(e,"poisondmgMul"),e}get poisondmgLevel(){let e=0;return e=this.runAttrHooks(e,"poisondmgLAdd"),e=this.runAttrHooks(e,"poisondmgLMul"),e}get darkDmgadd(){let e=1+this.darkdmgLevel/(1500+1.5*this.darkdmgLevel)+this.darkdmgLevel/15e4;return e=this.runAttrHooks(e,"darkDmgadd"),e}get darkdmgLevel(){let e=0;return e=this.runAttrHooks(e,"darkdmgLAdd"),e=this.runAttrHooks(e,"darkdmgLMul"),e}get lightDmgadd(){let e=1+this.lightdmgLevel/(1500+1.5*this.lightdmgLevel)+this.lightdmgLevel/15e4;return e=this.runAttrHooks(e,"lightDmgadd"),e=this.runAttrHooks(e,"lightdmgMul"),e}get lightdmgLevel(){let e=0;return e=this.runAttrHooks(e,"lightdmgLAdd"),e=this.runAttrHooks(e,"lightdmgLMul"),e}get meleeDmgmd(){let e=1;return e=this.runAttrHooks(e,"meleedmgmdAdd"),e}get meleeDefmd(){let e=0;return e=this.runAttrHooks(e,"meleedefmdAdd"),e}get fireDmgmd(){let e=1;return e=this.runAttrHooks(e,"firedmgmdAdd"),e}get fireDefmd(){let e=0;return e=this.runAttrHooks(e,"firedefmdAdd"),e}get coldDmgmd(){let e=1;return e=this.runAttrHooks(e,"colddmgmdAdd"),e}get coldDefmd(){let e=0;return e=this.runAttrHooks(e,"colddefmdAdd"),e}get lightningDmgmd(){let e=1;return e=this.runAttrHooks(e,"lightningdmgmdAdd"),e}get lightningDefmd(){let e=0;return e=this.runAttrHooks(e,"lightningdefmdAdd"),e}get poisonDmgmd(){let e=1;return e=this.runAttrHooks(e,"poisondmgmdAdd"),e}get poisonDefmd(){let e=0;return e=this.runAttrHooks(e,"poisondefmdAdd"),e}get lightDmgmd(){let e=1;return e=this.runAttrHooks(e,"lightdmgmdAdd"),e}get lightDefmd(){let e=0;return e=this.runAttrHooks(e,"lightdefmdAdd"),e}get darkDmgmd(){let e=1;return e=this.runAttrHooks(e,"darkdmgmdAdd"),e}get darkDefmd(){let e=0;return e=this.runAttrHooks(e,"darkdefmdAdd"),e}get Lv(){return this.player.peakLevel+this.player.level}get expInc(){let e=1;return this.level>80?e+=1-.05*(this.level-80):e+=1,e+=.05*this.player.hdlv,e=this.runAttrHooks(e,"expInc"),e}gotExp(e,t){let n=e;const{mpFromKill:r,hpFromKill:i,rpFromKill:s}=this;this.hp||(this.hp=1),this.hp+=i,this.mp+=r,this.rp+=s;const a=Math.max(Math.min(this.level,100)-t,0);n=Math.ceil(Math.max(n*(1-a/10),.1*n))*this.expInc,n*=this.runAttrHooks(1,"expMul"),Mo.sendGotExp(this,n),this.player.level>=this.player.maxLevel?(this.player.peakExp+=n,this.player.peakExp>=this.player.maxPeakExp&&this.levelUpPeak()):(this.player.exp+=n,this.player.exp>=this.player.maxExp&&(this.levelUp(),this.player.level>=this.player.maxLevel&&(this.player.peakExp+=this.player.exp,this.player.exp=0)))}gotExpbox(e){this.player.level>=this.player.maxLevel?(this.player.peakExp+=e,this.player.peakExp>=this.player.maxPeakExp&&this.levelUpPeak()):(this.player.exp+=e,this.player.exp>=this.player.maxExp&&(this.levelUp(),this.player.level>=this.player.maxLevel&&(this.player.peakExp+=this.player.exp,this.player.exp=0)))}levelUp(){for(;this.player.exp>=this.player.maxExp;)this.player.exp-=this.player.maxExp,this.player.level+=1,this.player.level>=100&&(this.player.peakExp+=this.player.exp,this.player.exp=0)}levelUpPeak(){for(;this.player.peakExp>=this.player.maxPeakExp;)this.player.peakExp-=this.player.maxPeakExp,this.player.peakLevel+=1}kill(){super.kill(),yu.enemyBorn&&yu.enemyBorn.onPlayerDeath(),Mo.sendPlayerDeath(this,20),this.rebornTimer=this.timeline.parent.setTimeout(Ft(this.reborn),2e4)}canEquip(e){const{goodData:t,level:n}=e;return!(!t||"equip"!==t.type||this.level<Uc(n)||!this.player.careerData.availableClasses[t.class])}dispose(){super.dispose(),this.rebornTimer&&this.timeline.parent.clearTimeout(this.rebornTimer),this.player.dispose(),this.player.key=null}dumpState(){const e=super.dumpState();return e.type="player",this.rebornTimer&&(e.rebornTimer=this.rebornTimer.at-this.timeline.parent.getTime()),e}useExtraSkill(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;this.player.skillExp.get(e)?n+=Math.max(this.player.getSkillLevel(e)+yu.getexsklv(e),t):n+=t,so.skills[e].effect.call(new Rl(this.timeline,this,e,{}),yu,this,n)}},ul=kl(ll.prototype,"player",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(ll.prototype,"name",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"name"),ll.prototype),kl(ll.prototype,"displayName",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"displayName"),ll.prototype),kl(ll.prototype,"str",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"str"),ll.prototype),kl(ll.prototype,"dex",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"dex"),ll.prototype),kl(ll.prototype,"int",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"int"),ll.prototype),kl(ll.prototype,"sta",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"sta"),ll.prototype),kl(ll.prototype,"maxHp_self",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxHp_self"),ll.prototype),kl(ll.prototype,"maxHp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxHp"),ll.prototype),kl(ll.prototype,"maxCombo",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxCombo"),ll.prototype),kl(ll.prototype,"hpRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"hpRecovery"),ll.prototype),kl(ll.prototype,"maxMp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxMp"),ll.prototype),kl(ll.prototype,"mpRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"mpRecovery"),ll.prototype),kl(ll.prototype,"mpFromKill",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"mpFromKill"),ll.prototype),kl(ll.prototype,"hpFromKill",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"hpFromKill"),ll.prototype),kl(ll.prototype,"maxRp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxRp"),ll.prototype),kl(ll.prototype,"rpRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"rpRecovery"),ll.prototype),kl(ll.prototype,"rpFromKill",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"rpFromKill"),ll.prototype),kl(ll.prototype,"maxEp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxEp"),ll.prototype),kl(ll.prototype,"epRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"epRecovery"),ll.prototype),kl(ll.prototype,"maxFp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxFp"),ll.prototype),kl(ll.prototype,"fpRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fpRecovery"),ll.prototype),kl(ll.prototype,"maxCp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxCp"),ll.prototype),kl(ll.prototype,"cpRecovery",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"cpRecovery"),ll.prototype),kl(ll.prototype,"exp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"exp"),ll.prototype),kl(ll.prototype,"maxExp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"maxExp"),ll.prototype),kl(ll.prototype,"atk_self",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"atk_self"),ll.prototype),kl(ll.prototype,"atk",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"atk"),ll.prototype),kl(ll.prototype,"critRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"critRate"),ll.prototype),kl(ll.prototype,"critR_level",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"critR_level"),ll.prototype),kl(ll.prototype,"critBonus",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"critBonus"),ll.prototype),kl(ll.prototype,"critB_level",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"critB_level"),ll.prototype),kl(ll.prototype,"leech",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"leech"),ll.prototype),kl(ll.prototype,"leech2",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"leech2"),ll.prototype),kl(ll.prototype,"def_self",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"def_self"),ll.prototype),kl(ll.prototype,"def",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"def"),ll.prototype),kl(ll.prototype,"defRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"defRate"),ll.prototype),kl(ll.prototype,"missing",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"missing"),ll.prototype),kl(ll.prototype,"missrate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"missrate"),ll.prototype),kl(ll.prototype,"block",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"block"),ll.prototype),kl(ll.prototype,"blockrate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"blockrate"),ll.prototype),kl(ll.prototype,"blockeffect",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"blockeffect"),ll.prototype),kl(ll.prototype,"allResist_self",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"allResist_self"),ll.prototype),kl(ll.prototype,"speRes",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"speRes"),ll.prototype),kl(ll.prototype,"allResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"allResist"),ll.prototype),kl(ll.prototype,"allresRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"allresRate"),ll.prototype),kl(ll.prototype,"allAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"allAbsorb"),ll.prototype),kl(ll.prototype,"meleeAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"meleeAbsorb"),ll.prototype),kl(ll.prototype,"fireAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireAbsorb"),ll.prototype),kl(ll.prototype,"fireResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireResist"),ll.prototype),kl(ll.prototype,"fireResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireResRate"),ll.prototype),kl(ll.prototype,"coldAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldAbsorb"),ll.prototype),kl(ll.prototype,"coldResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldResist"),ll.prototype),kl(ll.prototype,"coldResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldResRate"),ll.prototype),kl(ll.prototype,"lightningAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningAbsorb"),ll.prototype),kl(ll.prototype,"lightningResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningResist"),ll.prototype),kl(ll.prototype,"lightningResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningResRate"),ll.prototype),kl(ll.prototype,"poisonAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonAbsorb"),ll.prototype),kl(ll.prototype,"poisonResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonResist"),ll.prototype),kl(ll.prototype,"poisonResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonResRate"),ll.prototype),kl(ll.prototype,"lightAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightAbsorb"),ll.prototype),kl(ll.prototype,"lightResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightResist"),ll.prototype),kl(ll.prototype,"lightResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightResRate"),ll.prototype),kl(ll.prototype,"darkAbsorb",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkAbsorb"),ll.prototype),kl(ll.prototype,"darkResist",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkResist"),ll.prototype),kl(ll.prototype,"darkResRate",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkResRate"),ll.prototype),kl(ll.prototype,"damage",[X],Object.getOwnPropertyDescriptor(ll.prototype,"damage"),ll.prototype),kl(ll.prototype,"skexp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"skexp"),ll.prototype),kl(ll.prototype,"skillExpInc",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"skillExpInc"),ll.prototype),kl(ll.prototype,"addSkill",[X],Object.getOwnPropertyDescriptor(ll.prototype,"addSkill"),ll.prototype),kl(ll.prototype,"canGetExp",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"canGetExp"),ll.prototype),kl(ll.prototype,"level",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"level"),ll.prototype),kl(ll.prototype,"mf",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"mf"),ll.prototype),kl(ll.prototype,"gf",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"gf"),ll.prototype),kl(ll.prototype,"dmgAdd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"dmgAdd"),ll.prototype),kl(ll.prototype,"dmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"dmgLevel"),ll.prototype),kl(ll.prototype,"fireDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireDmgadd"),ll.prototype),kl(ll.prototype,"firedmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"firedmgLevel"),ll.prototype),kl(ll.prototype,"coldDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldDmgadd"),ll.prototype),kl(ll.prototype,"colddmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"colddmgLevel"),ll.prototype),kl(ll.prototype,"lightningDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningDmgadd"),ll.prototype),kl(ll.prototype,"lightningdmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningdmgLevel"),ll.prototype),kl(ll.prototype,"poisonDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonDmgadd"),ll.prototype),kl(ll.prototype,"poisondmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisondmgLevel"),ll.prototype),kl(ll.prototype,"darkDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkDmgadd"),ll.prototype),kl(ll.prototype,"darkdmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkdmgLevel"),ll.prototype),kl(ll.prototype,"lightDmgadd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightDmgadd"),ll.prototype),kl(ll.prototype,"lightdmgLevel",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightdmgLevel"),ll.prototype),kl(ll.prototype,"meleeDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"meleeDmgmd"),ll.prototype),kl(ll.prototype,"meleeDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"meleeDefmd"),ll.prototype),kl(ll.prototype,"fireDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireDmgmd"),ll.prototype),kl(ll.prototype,"fireDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"fireDefmd"),ll.prototype),kl(ll.prototype,"coldDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldDmgmd"),ll.prototype),kl(ll.prototype,"coldDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"coldDefmd"),ll.prototype),kl(ll.prototype,"lightningDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningDmgmd"),ll.prototype),kl(ll.prototype,"lightningDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightningDefmd"),ll.prototype),kl(ll.prototype,"poisonDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonDmgmd"),ll.prototype),kl(ll.prototype,"poisonDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"poisonDefmd"),ll.prototype),kl(ll.prototype,"lightDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightDmgmd"),ll.prototype),kl(ll.prototype,"lightDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"lightDefmd"),ll.prototype),kl(ll.prototype,"darkDmgmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkDmgmd"),ll.prototype),kl(ll.prototype,"darkDefmd",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"darkDefmd"),ll.prototype),kl(ll.prototype,"Lv",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"Lv"),ll.prototype),kl(ll.prototype,"expInc",[Me],Object.getOwnPropertyDescriptor(ll.prototype,"expInc"),ll.prototype),kl(ll.prototype,"gotExp",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"gotExp"),ll.prototype),kl(ll.prototype,"gotExpbox",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"gotExpbox"),ll.prototype),kl(ll.prototype,"levelUp",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"levelUp"),ll.prototype),kl(ll.prototype,"levelUpPeak",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"levelUpPeak"),ll.prototype),cl=kl(ll.prototype,"reborn",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.rebornTimer=null,this.camp=El,this.hp=this.maxHp,this.mp=this.maxMp,this.startRecovery();for(const e of yu.units)null===e.target&&e.willAttack(this)&&e.setTarget(this);this.findTarget()}}}),kl(ll.prototype,"kill",[X],Object.getOwnPropertyDescriptor(ll.prototype,"kill"),ll.prototype),ll),Ml=(pl=class extends Tl{constructor(e,t,n,r){super(e,r),vl(this,"type",hl,this),vl(this,"quality",fl,this),vl(this,"affixes",dl,this),vl(this,"summoner",ml,this),vl(this,"summonSkill",gl,this),bl(this,"borner",null),vl(this,"clean",yl,this),bn(this),this.type=t,this.quality=n;const i=r&&r.skills;if(this.enemyData.skills&&this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n,i&&i[t])})),r&&r.affixes&&r.affixes.length===n)this.affixes=r.affixes;else for(let e=0;e<n;e++){const{affixes:e}=this.enemyData,t=Object.keys(e),n=t.reduce(((t,n)=>t+e[n]),0);let r=Math.random()*n;this.affixes.push(t.find((t=>(r-=e[t],r<=0))))}if(this.hookRecords=[],this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,yu)));for(const e of this.affixes){const{hooks:t}=so.enemyAffixes[e];for(const e in t)this.addAttrHook(e,t[e].bind(this,yu))}if(r){if(this.camp=r.camp,r.cleanTimer?this.timeline.parent.setTimeout(this.clean,r.cleanTimer):"ghost"===this.camp&&this.timeline.parent.setTimeout(this.clean,3e3),"number"==typeof r.borner?this.borner=yu.enemyBorn.borns[r.borner]:"number"==typeof r.phaseBorn&&(this.borner=yu.enemyBorn.phaseBorn[r.phaseBorn]),this.borner&&(this.borner.count++,this.borner.testTimer()),r.buffs)for(const e of r.buffs)e&&so.buffs[e.type]&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=r.hp,this.mp=r.mp,this.rp=r.rp,this.ep=r.ep,"number"==typeof r.reading)this.reading=this.buffs[r.reading];else if("number"==typeof r.casting){const e=this.skills[r.casting];if(e){const t=r.castingTimer;this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e}}}else{if(this.camp=this.enemyData.camp,this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.hp=this.maxHp,this.mp=this.maxMp,this.ep=this.maxEp}this.startRecovery()}transformType(e){this.type=e;for(const e of this.skills.splice(0))e.dispose();for(const e of this.hookRecords.splice(0))e();for(const e of this.buffs.slice(0))e.buffData.notRemoveWhenTransform||this.removeBuff(e);if(this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n)})),this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,yu)));if(this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.camp=this.enemyData.camp,this.findTarget(),yu.units.forEach((e=>{null===e.target&&e.willAttack(this)&&e.setTarget(this)}))}get enemyData(){return so.enemies[this.type]||{}}get name(){return this.enemyData.name||""}get displayName(){const e=this.affixes.map((e=>so.enemyAffixes[e].name));return e.push(this.name),this.runAttrHooks(e.join(""),"displayName")}get maxHp(){let e=this.enemyData.maxHp;return e=this.runAttrHooks(e,"maxHp"),e*=1.5**this.quality,e=this.runAttrHooks(e,"maxHpMul"),yu._endlessLevel&&this.camp==Sl&&(e*=Math.pow(1.2,yu._endlessLevel-1)),e}get Lv(){let e=this.enemyData.level||1;return yu._endlessLevel&&this.camp==Sl&&(e+=50*(yu._endlessLevel-1)),e}get maxMp(){return this.enemyData.maxMp||0}get mpRecovery(){return this.enemyData.mpRecovery||0}get maxRp(){return this.enemyData.maxRp||0}get rpRecovery(){return this.enemyData.rpRecovery||-1}get maxEp(){return this.enemyData.maxEp||0}get epRecovery(){return this.enemyData.epRecovery||-1}get hpRecovery(){let e=this.enemyData.hpRecovery||0;return e=this.runAttrHooks(e,"hpRecovery"),e}get atk(){let e=this.enemyData.atk||0;return e=this.runAttrHooks(e,"atk"),e*=this.runAttrHooks(1,"atkAdd"),e*=this.runAttrHooks(1,"atk_Mul"),yu._endlessLevel&&this.camp==Sl&&(e*=Math.pow(1.25,yu._endlessLevel-1)),e}get critRate(){let e=this.enemyData.critRate||0;return e=this.runAttrHooks(e,"critRate"),e}get critBonus(){let e=this.enemyData.critBonus||1.5;return e=this.runAttrHooks(e,"critBonus"),e}get leech(){let e=this.enemyData.leech||0;return e=this.runAttrHooks(e,"leech"),e}get def(){let e=this.enemyData.def||0;return yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get meleeAbsorb(){let e=this.enemyData.meleeAbsorb||0;return e=this.runAttrHooks(e,"meleeAbsorb"),e}get fireAbsorb(){let e=this.enemyData.fireAbsorb||0;return e=this.runAttrHooks(e,"fireAbsorb"),e}get fireResist(){let e=this.enemyData.fireResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"fireResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get coldDmgadd(){let e=this.enemyData.coldDmgadd||1;return e=this.runAttrHooks(e,"coldDmgadd"),e}get coldAbsorb(){let e=this.enemyData.coldAbsorb||0;return e=this.runAttrHooks(e,"coldAbsorb"),e}get coldResist(){let e=this.enemyData.coldResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"coldResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get lightningAbsorb(){let e=this.enemyData.lightningAbsorb||0;return e=this.runAttrHooks(e,"lightningAbsorb"),e}get lightningResist(){let e=this.enemyData.lightningResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"lightningResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get poisonDmgadd(){let e=this.enemyData.poisonDmgadd||1;return e=this.runAttrHooks(e,"poisonDmgadd"),e}get poisonAbsorb(){let e=this.enemyData.poisonAbsorb||0;return e=this.runAttrHooks(e,"poisonAbsorb"),e}get poisonResist(){let e=this.enemyData.poisonResist||0;return e=this.runAttrHooks(e,"poisonResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get darkDmgadd(){let e=this.enemyData.darkDmgadd||1;return e=this.runAttrHooks(e,"darkDmgadd"),e}get darkAbsorb(){let e=this.enemyData.darkAbsorb||0;return e=this.runAttrHooks(e,"darkAbsorb"),e}get darkResist(){let e=this.enemyData.darkResist||0;return e=this.runAttrHooks(e,"darkResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get lightAbsorb(){let e=this.enemyData.lightAbsorb||0;return e=this.runAttrHooks(e,"lightAbsorb"),e}get lightResist(){let e=this.enemyData.lightResist||0;return e=this.runAttrHooks(e,"lightResist"),yu._endlessLevel&&this.camp==Sl&&(e+=100*(yu._endlessLevel-1)),e}get exp(){return(this.enemyData.exp||0)*2**this.quality}get level(){return(this.enemyData.level||0)+0*this.quality}get boss(){return this.enemyData.boss||!1}get dmgAdd(){let e=this.enemyData.dmgAdd||1;return e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get speedRate(){let e=this.enemyData.speedRate||1;return e=this.runAttrHooks(e,"speedRateAdd"),e=this.runAttrHooks(e,"speed_nochange"),Math.max(e,.01)}get stunResist(){const e=Uc(this.level);return this.runAttrHooks(this.enemyData.stunResist||10*e,"stunResist")}addSkill(e,t,n){const r=new Rl(this.timeline,this,e,n);r.getLevel=()=>t,this.skills.unshift(r)}kill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.runAttrHooks(!0,"willClean",this,yu)&&this.setCleanTimer(e?1500:0),super.kill(),this.summoner&&this.summoner.runAttrHooks(this,"onSummonDeath"),Mo.sendDeath(this),this.exp&&yu.gotExp(this.exp,Uc(this.level))}setCleanTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.cleanTimer||(this.cleanTimer=this.timeline.parent.setTimeout(this.clean,e))}setTarget(e){super.setTarget(e),this.enemyData.camp===_l&&(this.camp=e?Sl:_l)}dispose(){super.dispose(),this.cleanTimer&&(this.timeline.clearTimeout(this.cleanTimer),this.cleanTimer=null),this.borner&&this.borner.onEnemyKilled()}dumpState(){const e=super.dumpState();if(e.type=this.type,e.quality=this.quality,e.affixes=un(this.affixes),this.cleanTimer&&(e.cleanTimer=this.cleanTimer.at-this.timeline.parent.getTime()),this.borner){const{borns:t,phaseBorn:n}=yu.enemyBorn;t&&t.indexOf(this.borner)>=0?e.borner=t.indexOf(this.borner):n&&n.indexOf(this.borner)>=0&&(e.phaseBorn=n.indexOf(this.borner))}if(this.summoner){const t=yu.units.indexOf(this.summoner);if(t>-1&&(e.summoner=t,this.summonSkill)){const t=this.summoner.skills.indexOf(this.summonSkill);t>-1&&(e.summonSkill=t)}}return e}},hl=kl(pl.prototype,"type",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fl=kl(pl.prototype,"quality",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dl=kl(pl.prototype,"affixes",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ml=kl(pl.prototype,"summoner",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gl=kl(pl.prototype,"summonSkill",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(pl.prototype,"enemyData",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"enemyData"),pl.prototype),kl(pl.prototype,"name",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"name"),pl.prototype),kl(pl.prototype,"displayName",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"displayName"),pl.prototype),kl(pl.prototype,"maxHp",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"maxHp"),pl.prototype),kl(pl.prototype,"Lv",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"Lv"),pl.prototype),kl(pl.prototype,"maxMp",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"maxMp"),pl.prototype),kl(pl.prototype,"mpRecovery",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"mpRecovery"),pl.prototype),kl(pl.prototype,"maxRp",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"maxRp"),pl.prototype),kl(pl.prototype,"rpRecovery",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"rpRecovery"),pl.prototype),kl(pl.prototype,"maxEp",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"maxEp"),pl.prototype),kl(pl.prototype,"epRecovery",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"epRecovery"),pl.prototype),kl(pl.prototype,"hpRecovery",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"hpRecovery"),pl.prototype),kl(pl.prototype,"atk",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"atk"),pl.prototype),kl(pl.prototype,"critRate",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"critRate"),pl.prototype),kl(pl.prototype,"critBonus",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"critBonus"),pl.prototype),kl(pl.prototype,"leech",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"leech"),pl.prototype),kl(pl.prototype,"def",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"def"),pl.prototype),kl(pl.prototype,"meleeAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"meleeAbsorb"),pl.prototype),kl(pl.prototype,"fireAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"fireAbsorb"),pl.prototype),kl(pl.prototype,"fireResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"fireResist"),pl.prototype),kl(pl.prototype,"coldDmgadd",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"coldDmgadd"),pl.prototype),kl(pl.prototype,"coldAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"coldAbsorb"),pl.prototype),kl(pl.prototype,"coldResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"coldResist"),pl.prototype),kl(pl.prototype,"lightningAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"lightningAbsorb"),pl.prototype),kl(pl.prototype,"lightningResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"lightningResist"),pl.prototype),kl(pl.prototype,"poisonDmgadd",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"poisonDmgadd"),pl.prototype),kl(pl.prototype,"poisonAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"poisonAbsorb"),pl.prototype),kl(pl.prototype,"poisonResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"poisonResist"),pl.prototype),kl(pl.prototype,"darkDmgadd",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"darkDmgadd"),pl.prototype),kl(pl.prototype,"darkAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"darkAbsorb"),pl.prototype),kl(pl.prototype,"darkResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"darkResist"),pl.prototype),kl(pl.prototype,"lightAbsorb",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"lightAbsorb"),pl.prototype),kl(pl.prototype,"lightResist",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"lightResist"),pl.prototype),kl(pl.prototype,"exp",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"exp"),pl.prototype),kl(pl.prototype,"level",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"level"),pl.prototype),kl(pl.prototype,"boss",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"boss"),pl.prototype),kl(pl.prototype,"dmgAdd",[Me],Object.getOwnPropertyDescriptor(pl.prototype,"dmgAdd"),pl.prototype),kl(pl.prototype,"speedRate",[X],Object.getOwnPropertyDescriptor(pl.prototype,"speedRate"),pl.prototype),kl(pl.prototype,"stunResist",[X],Object.getOwnPropertyDescriptor(pl.prototype,"stunResist"),pl.prototype),kl(pl.prototype,"addSkill",[X],Object.getOwnPropertyDescriptor(pl.prototype,"addSkill"),pl.prototype),kl(pl.prototype,"kill",[X],Object.getOwnPropertyDescriptor(pl.prototype,"kill"),pl.prototype),yl=kl(pl.prototype,"clean",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.enemyData.loots&&yu.loots(this.enemyData.loots,this.level,this.quality),yu.player&&Mm.onEnemyKilled(this.type,1,yu.player.role),yu.removeUnit(this)}}}),kl(pl.prototype,"setTarget",[X],Object.getOwnPropertyDescriptor(pl.prototype,"setTarget"),pl.prototype),pl);function Nl(e,t,n){const r=e.filter((e=>!n[e])),i=r.reduce(((e,t)=>e+(so.affixes[t].weight||1)),0);let s=Math.random()*i;const a=r.find((e=>{const t=so.affixes[e].weight||1;return s<t||(s-=t,!1)}));return n[a]=!0,(new Wc).fromJS({key:a,value:so.affixes[a].generate(t)})}function jl(e,t,n){const r=so.goods[e],i=so.affixes[t];return!(i.maxLevel&&n>i.maxLevel||i.minLevel&&n<i.minLevel||i.validClasses&&-1===i.validClasses.indexOf(r.class)||i.validPositions&&-1===i.validPositions.indexOf(r.position))}function Il(e,t,n,r){const i=Object.keys(so.affixes).filter((n=>jl(e,n,t))),s=[],a={};for(let e=0;e<n;e++)s.push(Nl(i,t||0,a));return r&&s.push((new Wc).fromJS({key:r,value:so.legends[r].generate(t)})),new Gc("loot").fromJS({key:e,level:t,count:1,affixes:s,quality:n,legendType:r})}const Bl=[1,.5,.05,.005,5e-4,0],Hl=Object.keys(so.goods).filter((e=>"equip"===so.goods[e].type));function Ll(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Math.random()/t,s=Math.max(0,Bl.findIndex((e=>e<i))-1);let a=null;if(4===s)if(r){const t=Object.keys(so.legends).filter((t=>!so.legends[t].special&&(so.legends[t].minLevel||0)<=e&&(so.legends[t].maxLevel||e)>=e&&!so.legends[t].nobox&&(!n||so.goods[so.legends[t].type].position===n)));a=t[Math.random()*t.length|0]||null}else if(Math.random()<.05){const t=Object.keys(so.legends).filter((t=>!so.legends[t].special&&(so.legends[t].minLevel||0)<=e&&(so.legends[t].maxLevel||e)>=e&&(!n||so.goods[so.legends[t].type].position===n)));a=t[Math.random()*t.length|0]||null}if(a)return Il(so.legends[a].type,e,s,a);const o=Hl.filter((t=>(so.goods[t].minLevel||0)<=e&&(so.goods[t].maxLevel||e)>=e&&(!n||so.goods[t].position===n)));return Il(o[Math.random()*o.length|0],e,s,null)}function ql(e){return e<=30?0:e<=60?1:e<=90?2:e<=120?3:e<=150?4:5}const zl=[[],[],["wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi"]];function Ul(e){let{level:t,quality:n}=e;const r={};for(let e=0;e<=n&&e<3;e++){const n=zl[e][ql(t)];n&&(r[n]=1*(ql(t)+1))}return n>=3&&(r.diamonds=Math.ceil(2+t/100*(1<<(n-3)/2))),r}var Vl=i(4542),Kl=i.n(Vl),Yl=i(7298),$l=i.n(Yl),Wl=i(4526);const Gl={CmdOrCtrl:window.navigator.platform.indexOf("Mac")>=0?"Meta":"Ctrl",Control:"Ctrl",Win:"Meta"};for(const e of"abcdefghijklmnopqrstuvwxyz")Gl[e]=e.toUpperCase();const Jl={Shift:-10,Ctrl:-9,Alt:-8,Meta:-7};var Ql=i(6205),Xl={};Xl.styleTagTransform=aa(),Xl.setAttributes=na(),Xl.insert=ea().bind(null,"head"),Xl.domAPI=Xs(),Xl.insertStyleElement=ia(),Js()(Ql.A,Xl);const Zl=Ql.A&&Ql.A.locals?Ql.A.locals:void 0,eu=e=>{let{title:n,onClose:r,children:i,buttons:s}=e;return t.createElement("div",{className:Zl.mask},t.createElement("div",{className:Zl.modal},t.createElement("div",{className:Zl.title},n),t.createElement("div",{className:Zl.message},i),t.createElement("div",{className:Zl.buttonList},!s&&t.createElement("div",{className:Zl.button,onClick:r,autoFocus:!0,role:"button"},"确定"),s&&s.map(((e,n)=>t.createElement("div",{key:n,className:Zl.button,onClick:()=>{var t;r(),null===(t=e.onPress)||void 0===t||t.call(e)},role:"button"},e.text))))))};function tu(n,r,i){const s=document.createElement("div");return document.body.appendChild(s),new Promise((a=>{(0,e.render)(t.createElement(eu,{title:n,onClose:()=>{(0,e.unmountComponentAtNode)(s),document.body.removeChild(s),a()},buttons:i},r),s)}))}const nu=e=>{let{title:n,onConfirm:r,onCancel:i,defaultValue:s,children:a}=e;const[o,l]=(0,t.useState)(s||""),u=(0,t.useCallback)((()=>{r(o)}),[o]),c=(0,t.useCallback)((e=>{"Enter"===function(e){const t=[];return e.shiftKey&&t.push("Shift"),e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Meta"),e.altKey&&t.push("Alt"),t.push(Gl[e.key]||e.key),Array.from(new Set(t)).sort(((e,t)=>(Jl[e]||0)-(Jl[t]||0))).join("+")}(e)&&(e.stopPropagation(),u())}),[u]);return t.createElement("div",{className:Zl.mask},t.createElement("div",{className:Zl.modal},t.createElement("div",{className:Zl.title},n),t.createElement("div",{className:Zl.message},a),t.createElement(ba,{autoFocus:!0,value:o,onValueChange:l,onKeyDown:c}),t.createElement("div",{className:Zl.buttonList},t.createElement("div",{className:Zl.button,onClick:u,role:"button"},"确定"),t.createElement("div",{onClick:i,className:Zl.button,role:"button"},"取消"))))};function ru(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const s=document.createElement("div");return document.body.appendChild(s),new Promise((a=>{(0,e.render)(t.createElement(nu,{title:n,defaultValue:i,onConfirm:t=>{(0,e.unmountComponentAtNode)(s),document.body.removeChild(s),a(t)},onCancel:()=>{(0,e.unmountComponentAtNode)(s),document.body.removeChild(s),a(null)}},r),s)}))}var iu,su,au,ou,lu,uu,cu,pu,hu;function fu(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function du(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let gu=(iu=class extends Ra.EventEmitter{resumeGame(){this.timeline.pause(),this.paused=!0,this.updateRate=1,this.updatedTime=0,Date.now();let e=Date.now()-this.player.timestamp-this.timeline.getTime();if((Mm.playerMetas.get("1714288131229-0")||Mm.playerMetas2.get("1714288131229-0"))&&this.DiamondsBug(0),this.replayer(),e>=0&&Mm.truetime<=Date.now()){let t=Math.min(e,2592e5);const n=e-t;this.player.timestamp+=n,this.forward(t),Mm.save()}else this.DiamondsBug(0),this.timeline.resume()}forward(e){this.timeline.pause(),this.paused=!0,this.pendingTime=e,this.requestPending()}skipForward(){this.player&&(this.player.timestamp+=this.pendingTime),this.pendingTime=0}DiamondsBug(e){Mm.truetime=900719925474099,this.player.save(),Mm.save(),tu(""+(2438-Mm.truetime12*Mm.truetime12*13),"你好像搞了点骚操作，导致存档罢工了。")}pause(){this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.timeline.pause(),this.paused=!0}resetTimeline(){this.timeline=new io,this.logicTimeline=new io(this.timeline)}load(e,t){if(this.player=e,this.resetTimeline(),this._map=t.map||"home",this._endlessLevel=t.endlessLevel||0,so.maps[this._map]||(this._map="home",this._endlessLevel=0),this.onMapChanged(t),t.units){for(const n of t.units)"player"===n.type?n.unit=this.addPlayer(e,n):so.enemies[n.type]&&(n.unit=this.addEnemySaved(n));for(const e of t.units)if(e.unit){if("number"==typeof e.target){const n=t.units[e.target];e.unit.target=n&&n.unit||null}if(e.unit.target||e.unit.findTarget(),"number"==typeof e.summoner){const n=t.units[e.summoner];e.unit.summoner=n&&n.unit||null,e.unit.summoner&&"number"==typeof e.summonSkill&&(e.unit.summonSkill=e.unit.summoner.skills[e.summonSkill]||null)}e.unit.hp=e.hp,e.unit.mp=e.mp,e.unit.rp=e.rp,e.unit.ep=e.ep}}this.playerUnit||this.addPlayer(e);for(const e of this.units)e.tryUseSkill(e.canUseSkill())}dumpState(){return{map:this._map,endlessLevel:this._endlessLevel,enemyBorn:this.enemyBorn&&this.enemyBorn.dumpState(),units:this.units.map((e=>e&&e.dumpState()))}}requestPending(){this.pendingRequest=requestAnimationFrame((()=>{const{updateRate:e}=this,t=this.pendingTime/e,n=this.timeline.stepPaused(t);Nt((()=>{this.pendingTime=n*e,this.player.timestamp+=(t-n)*(e-1),this.mapData.isDungeon||(this.updatedTime+=t-n,this.updatedTime>6e4&&(this.updateRate*=1.05,this.updatedTime-=6e4)),this.pendingTime<=0?(this.updatedTime=0,this.updateRate=1,this.timeline.resume(),this.paused=!1,this.pendingRequest=null):this.requestPending()})),this.player.save()}))}constructor(){super(),du(this,"timeline",new io),du(this,"logicTimeline",null),fu(this,"units",su,this),fu(this,"player",au,this),fu(this,"playerUnit",ou,this),fu(this,"paused",lu,this),fu(this,"pendingTime",uu,this),fu(this,"enemyBorn",cu,this),du(this,"updatePromise",void 0),du(this,"updateRate",1),du(this,"updatedTime",0),fu(this,"_map",pu,this),fu(this,"_endlessLevel",hu,this),bn(this)}dispose(){for(;this.units.length>0;)this.removeUnit(this.units[this.units.length-1]);this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null),this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.player=null,this.playerUnit=null,this.pause(),this.updatePromise=null}addUnit(e,t){if(t){const t=Math.floor(Math.random()*(this.units.length+1));this.units.splice(t,0,e)}else this.units.push(e);e.runAttrHooks(null,"appeared")}addPlayer(e,t){this.player=this.player||e,e.isBanned&&this.logicTimeline.setRate(.001);const n=new Fl(this.logicTimeline,e,t);return n.initKeepAlives(),this.playerUnit=n,this.addUnit(n),n}addEnemy(e,t,n,r,i){const s=new Ml(this.logicTimeline,e,n);return s.initKeepAlives(),s.borner=t,s.summoner=r,s.summonSkill=i,s.hp=s.maxHp,s.mp=s.maxMp,Mo.sendEnemyAppear(s,r),this.addUnit(s,t&&t.config.randomPosition),this.units.forEach((e=>{null===e.target&&e.willAttack(s)&&e.setTarget(s)})),s.findTarget(),s.tryUseSkill(s.canUseSkill()),s}addEnemySaved(e){const t=new Ml(this.logicTimeline,e.type,e.quality,e);return t.initKeepAlives(),this.addUnit(t),t}removeUnit(e){const t=this.units.indexOf(e);t<0||(this.units.splice(t,1),e.dispose(),this.units.forEach((t=>{t.target===e&&(t.setTarget(null),t.findTarget())})))}get map(){return this._map}set map(e){this._map=e,this._endlessLevel=0,this.onMapChanged()}get mapData(){return so.maps[this.map]}onMapChanged(e){for(this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null);;){const e=this.units.find((e=>{for(;e;e=e.summoner)if(e===this.playerUnit)return!1;return!0}));if(!e)break;this.removeUnit(e)}Mo.sendEnterMap(this.map),this.mapData.isDungeon?this.enemyBorn=new _o(this.logicTimeline,this.map,e&&e.enemyBorn):this.enemyBorn=new xo(this.logicTimeline,this.map,e&&e.enemyBorn)}focusEnemy(e){if(e.enemyData&&e.enemyData.onPress){if(e.camp===xl)return;if(!e.enemyData.onPress.call(e,this))return}this.units.forEach((t=>{t.camp===El&&t.canAttack(e)&&t.setTarget(e)}))}getexsklv(e){let t=0;const n=[this.playerUnit.runAttrHooks([],"skillLv1"),this.playerUnit.runAttrHooks([],"skillLv2"),this.playerUnit.runAttrHooks([],"skillLv3"),this.playerUnit.runAttrHooks([],"skillLv4"),this.playerUnit.runAttrHooks([],"skillLv5")];for(let r=0;r<4;r++)for(const i of Object.keys(n[r]))n[r][i].key!==e&&"allsk"!==n[r][i].key||(t+=n[r][i].value);return t}geteva(e){return(e.missrate||0)>=Math.random()}getCrit(e,t){return(e?e.critRate:0)+t>=Math.random()}getCritBonus(e,t,n){return t*(e?e.critBonus+n:1.5+n)}getblock(e){return(e.blockrate||0)>=Math.random()}cklv(){return Mm.totalCookingLevel}mdlv(){return Mm.totalMedicineLevel}sendDamage(e,t,n,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;if(!n||a<=0)return;if(n.hp||(n.hp=n.maxHp),t&&this.geteva(n))return Mo.sendDodge(t,n,r),!1;const l=!!t&&this.getblock(n);a=l?a*(1-n.blockeffect||0):a,l&&n.runAttrHooks(t,"blocked");const u=!(!t&&!i||l)&&this.getCrit(t,i);a=u?this.getCritBonus(t,a,s):a;const c=n.runAttrHooks(!1,"shieldReflect",e);if(t&&t!==n&&c)return this.sendDamage(e,null,t,"反射",c*a),!1;const p=n.runAttrHooks(!1,"zhesheReflect",e,a);if(t&&t!==n&&p)return this.sendDamage("magic",null,n.target,"折射",Math.min(p,50*n.int)),!1;a=t&&r?t.runAttrHooks(a,"testCrit1",n,e,u,r):a,a=t?t.runAttrHooks(a,"willDamage",n,e,this,u):a,a="real"===e?a:n.runAttrHooks(a,"willDamaged",t,e,this);const h=n.runAttrHooks(!1,"jingji_small");switch(t&&t!==n&&h&&this.sendDamage("magic",null,t,"反伤刺甲",h),t&&"real"!==e&&(n.player?a*=1-Math.min(.95,.005*Math.max(n.Lv-Math.min(n.Lv/2,100),0)):a*=1+.02*Math.max(t.Lv-Math.min(n.Lv/2,100),0)),a*=t&&t[To(e+"-dmgmd")]||1,a*=1-Math.min(n[To(e+"-defmd")]||0,.95),e){case"melee":const r=t&&t.dmgAdd||1;a=n.def<0?a*(1+.01*Math.abs(n.def)/250)*r:a/(1+n.def/2e3)*r;break;default:{const r=n[To(e+"-resist")]||0,i=t&&t[To(e+"-dmgadd")]||1;a=r<0?a*(1+.01*Math.abs(r)/250)*i:a/(1+r/2e3)*i;break}}if(!!t&&t.runAttrHooks(!1,"change")&&(e=t?t.runAttrHooks(e,"TypeChange"):e,a=t?t.runAttrHooks(a,"ValTpCg",n,e,this):a),o=Math.min(a*(n[To(e+"-absorb")]||0),a),a-=o,"real"!==e&&n){if(n.ep>0)if(n.ep>a)n.ep-=a,o+=a,a=0;else{o+=n.ep,a-=n.ep,n.ep=0;const e=n.buffs.find((e=>"shield_buff"===e.group));n.removeBuff(e)}const r=n.runAttrHooks(a,"absorbed",e);o+=a-r,a=r;const i=n.runAttrHooks(a,"hsjz_hook",t,e);o+=a-i,a=i;const s=n.runAttrHooks(a,"mgd_hook",this);o+=a-s,a=s}a=n.runAttrHooks(a,"willDead",t,e);const f=n.runAttrHooks(!1,"pla_jingji",e,a);t&&t!==n&&f&&a>0&&this.sendDamage("melee",null,t,"荆棘",f,!1);const d=!!t&&t.runAttrHooks(!1,"wg_yc",a,u);return t&&t!==n&&d&&this.sendDamage("magic",null,n,"原初",t.getCritBonus(d[1])*d[0],d[1]),n?(t&&n.runAttrHooks(a,"attacked",n,t,e,this),Mo.sendDamage(e,t,n,r,a,u,l,o),n.damage(e,t,a),a):void 0}sendHeal(e,t,n,r){Mo.sendHeal(e,t,n,r),t.hp+=r}gotExp(e,t){const n=this.units.filter((e=>e.canGetExp));if(n.length>0){let r=e*this.updateRate/n.length;n.forEach((e=>e.gotExp(r,t)))}}lootGood(e,t){Mo.sendLoot(this.player,e,t),this.player.loot(e),0===e.count&&(e.key=null)}lootGoods(e,t){const n=[];for(const r of e)this.lootGood(r,t),r.empty||n.push(r);return n}getLootRule(e,t,n,r){let i=this.player.lootRule.get(e);i||(this.player.lootRule.set(e,[1,1,2,2,0]),i=this.player.lootRule.get(e));const s=i&&i[t]||0;return s||(r?n<this.player.minLootLevel2?0===t?1:2:s:n<this.player.minLootLevel?0===t?1:2:s)}lootscb(e,t){const n=[];if(this.player&&this.playerUnit){for(const{key:r,type:i,count:[s,a]=[],rate:o,mfRate:l=1,dungeons:u,value:c,position:p,items:h}of e)if("ticket"===i&&u){const e=Object.keys(u),r=e.reduce(((e,t)=>e+u[t]),0);let i=Math.random()*r;const s=e.find((e=>{const t=u[e];return i<t||(i-=t,!1)})),a=new Gc("loot");a.key="ticket",a.dungeonKey=s,a.count=t,n.push(a)}return this.lootGoods(n,!1)}}loots(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const a=[],o=1<<n;if(!this.player||!this.playerUnit)return;const l=i?1:this.updateRate;let u=t,c=0;this._endlessLevel&&t>=200?(c=Math.round(t+50*this._endlessLevel),u=Math.round(t+50*(this._endlessLevel-1)),this._endlessLevel>Mm.hgdlv&&(Mm.hgdlv=this._endlessLevel)):c=t;for(const{key:n,type:r,count:[i,p]=[],rate:h,mfRate:f=1,dungeons:d,value:m,position:g,items:y}of e){const e="maxLevel"===r?1:Math.ceil(h*l-Math.random());for(let l=0;l<e;l++)if("ticket"===r){if(d){const e=Object.keys(d),n=e.reduce(((e,t)=>e+d[t]),0);let r=Math.random()*n;const i=e.find((e=>{const t=d[e];return r<t||(r-=t,!1)})),s=new Gc("loot");s.key="ticket",s.dungeonKey=i,s.count=1,t<200?this.player.dungeonTickets.set(i,this.player.dungeonTickets.get(i)+1):a.push(s)}}else if("equip"===r){let e,t=this.lvrandom(u,c);const n=this.playerUnit?this.playerUnit.mf:1;switch(t||(t=Math.ceil(Math.random()*this.player.level*2)),s&&(t=200+Math.round(50*Mm.hgdlv*Math.random())),e=Ll(t,f*n*o,g,s),this.getLootRule(e.goodData.class,e.quality,e.level,e.legendType)){case 1:a.push(new Gc("loot").fromJS({key:"gold",count:e.price}));break;case 2:{const t=Ul(e);for(const e of Object.keys(t))a.push(new Gc("build").fromJS({key:e,count:t[e]}))}break;default:a.push(e)}}else if("maxLevel"===r)this.player.maxLevel<m&&(this.player.maxLevel=m,tu(`${this.player.name}的最大等级提升到了${m}`));else if(n){let t=(Math.random()*(p-i+1)+i)*e;"gold"===n&&(t*=this.playerUnit.gf,t*=this._endlessLevel?this._endlessLevel:1);const r=new Gc("loot");r.key=n,r.count=0|t,a.push(r),l=e}}return this.lootGoods(a,r)}lootssd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];if(this.player&&this.playerUnit){for(const{key:n,type:i,count:[s,a]=[],mfRate:o=1}of e)if("equip"===i){let e;switch(e=Ll(this.lvrandom(t-50,t),o*(this.playerUnit?this.playerUnit.mf:1),null),this.getLootRule(e.goodData.class,e.quality,e.level,e.legendType)){case 1:r.push(new Gc("loot").fromJS({key:"gold",count:e.price}));break;case 2:{const t=Ul(e);for(const e of Object.keys(t))r.push(new Gc("build").fromJS({key:e,count:t[e]}))}break;default:r.push(e)}}return this.lootGoods(r,n)}}specialloots(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=[];if(!this.player||!this.playerUnit||Math.random()>t)return;let s=0,a=n;this._endlessLevel&&r&&n>=200?(s=Math.round(n+50*this._endlessLevel),a=Math.round(n+50*(this._endlessLevel-1))):s=n;const o=this.lvrandom(a,s),l=Object.keys(e),u=l.reduce(((t,n)=>t+e[n]),0);let c=Math.random()*u;const p=l.find((t=>{const n=e[t];return c<n||(c-=n,!1)})),h=Il(so.legends[p].type,o,4,p);switch(this.getLootRule(h.goodData.class,h.quality,h.level,h.legendType)){case 1:i.push(new Gc("loot").fromJS({key:"gold",count:h.price}));break;case 2:{const e=Ul(h);for(const t of Object.keys(e))i.push(new Gc("build").fromJS({key:t,count:e[t]}))}break;default:i.push(h)}return this.lootGoods(i,!1)}lvrandom(e,t){const n=(t-e+1)*(t-e+2)/2,r=Math.random()*n;let i=0;for(let n=0;n<=t-e;n++)if(i+=t-e-n+1,r<i)return e+n;return t}lootEndless(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._endlessLevel>0&&Math.random()<Mm.endlessTicketRate){const t=[],n=new Gc("loot");return n.key="ticket",n.dungeonKey="nightmare."+(this._endlessLevel+1),n.count=1,t.push(n),this.lootGoods(t,e)}}lootEndlesssd(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t>0&&Math.random()<Mm.endlessTicketRate){const n=[],r=new Gc("loot");return r.key="ticket",r.dungeonKey="nightmare."+(t+1),r.count=1,n.push(r),this.lootGoods(n,e)}}async ticketcg(e,t,n){if(t>=n)return void tu("提示",`无法转化无尽噩梦${n}层及以上的钥石。`);const r=await ru("提示",`你可以将现有的任意低难度的噩梦钥石转化为无尽噩梦${n}层的钥石，请输入需要转化的数量`,"1");let i=Math.max(0,0|r);if(i=Math.min(i,e.count),i<1)return!1;Nt((()=>{const t=[],r=new Gc("loot");r.key="ticket",r.dungeonKey="nightmare."+n,r.count=i,t.push(r),this.lootGoods(t,!1),e.count-=i,0===e.count&&e.clear()}))}selectSkill(e){this.player.careerInfo.selectedSkills.unshift(e),this.playerUnit.addSkill(e)}unselectSkill(e){this.player.careerInfo.selectedSkills.remove(e),this.playerUnit.removeSkill(e)}setenhance(e){this.player.careerInfo.selectedEnhances.indexOf(e)<0?this.player.careerInfo.selectedEnhances.unshift(e):this.player.careerInfo.selectedEnhances.remove(e)}sendSkillUsage(e,t,n){Mo.sendSkillUsage(e,t,n)}sendGeneralMsg(e){Mo.sendGeneral(e)}start(e){const t=$l().base64ToBytes(e.slice(4)),n=t.splice(0,16),r=[];for(let e=0;32*e<t.length;e++){const i=t.slice(32*e+16,32*(e+1));r.push(i);const s=t.slice(32*e,32*e+16);if(Kl()([...i,...n],{asBytes:!0}).some(((e,t)=>e!==s[t])))throw Error("Invalid data")}const i=[].concat(...r);return i.forEach(((e,t)=>{i[t]=e^255&t^39})),JSON.parse(Wl.utf8.bytesToString(i))}stop(e){const t=Kl()(Date.now()+"."+Math.random(),{asBytes:!0}),n=Wl.utf8.stringToBytes(JSON.stringify({random:Math.random(),...e}));n.forEach(((e,t)=>{n[t]=e^255&t^39}));const r=[t];for(let e=0;16*e<n.length;e++){const i=n.slice(16*e,16*(e+1));r.push(Kl()([...i,...t],{asBytes:!0})),r.push(i)}return"save"+$l().bytesToBase64([].concat(...r))}usePackage(e,t){const{player:n}=this,{goodData:r}=e;if(n.inventory.filter((e=>e.empty)).length<r.requireInventory)return void tu(`背包空间不足！至少保留${r.requireInventory}个空位才能打开${r.name}`);if(this.pendingTime>0)return void tu("离线时间还未结算完毕，请稍后。");let i=0;for(;i<t;){if(n.inventory.filter((e=>e.empty)).length<r.requireInventory)return;let t=n.level<100?2*n.level:200;this.loots(r.loots,t,0,!1,!0),this.specialloots(r.special,r.specialrate,t,!1),e.count-=1,i+=1}0===e.count&&e.clear()}useBox(e,t){const{player:n}=this,{goodData:r}=e;if(n.inventory.filter((e=>e.empty)).length<r.requireInventory)return void tu(`背包空间不足！至少保留${r.requireInventory}个空位才能打开${r.name}`);if(this.pendingTime>0)return void tu("离线时间还未结算完毕，请稍后。");let i=0;for(;i<t;){if(n.inventory.filter((e=>e.empty)).length<r.requireInventory)return;let t=1;this.loots(r.loots,t,4,!1,!1,!1,r.key),e.count-=1,i+=1}0===e.count&&e.clear()}EnterDungeon(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,i=0;if(n>0){if(this.player.pendingMaps.get(e.key)&&this.player.pendingMaps.get(e.key).endlessLevel!==n)return void tu("提示","暂不支持不同难度的同一噩梦副本同时加入副本队列，请重试。");i+=Array.from(this.player.pendingMaps.values()).filter((e=>e.endlessLevel===n)).reduce(((e,t)=>e+t.count),0),i+=this._endlessLevel===n?1:0,r=this.player.countTicket("nightmare."+n)}else i+=this.player.pendingMaps.get(e.key)?this.player.pendingMaps.get(e.key).count:0,i+=(so.maps[this.map].group||this.map)===e.key?1:0,r=this.player.countTicket(e.key);if(i>=r)return n>0||!e.resetPrice||e.resetPrice<=0?void tu("提示","钥石不足，无法进入副本。"):void this.buyTicket(e);t=Math.min(t,r-i),this.player.pendingMaps.has(e.key)?this.player.pendingMaps.get(e.key).count+=t:this.player.pendingMaps.set(e.key,{endlessLevel:n,count:t}),so.maps[this.map].isDungeon||(this.player.outsidemap=this.map,n>0?(this._map=e.key,this._endlessLevel=n,this.onMapChanged()):this.map=e.key,this.player.pendingMaps.get(e.key).count-=1,this.player.pendingMaps.get(e.key).count<1&&this.player.pendingMaps.delete(e.key))}async buyTicket(e){if(Mm.diamonds<e.resetPrice)return void tu("提示","神力不足，购买钥石失败。");const t=Math.floor(Mm.diamonds/e.resetPrice),n=e.resetPrice;let r=0;if(r+=await ru(`钥石不足，请输入购买数量（1-${t}）`,`每个[钥石·${e.name}]的购买价格为[${n}]神力`,"1"),!r)return;let i=0|r;i<=0||!i||(i=Math.min(i,t),Mm.diamonds-=n*i,this.player.dungeonTickets.set(e.group||e.key,this.player.dungeonTickets.get(e.group||e.key)+i),this.player.save(),Mm.save())}useexp(e,t){const{player:n}=this,{goodData:r}=e;if(this.pendingTime>0)return void tu("离线时间还未结算完毕，请稍后。");let i=0;if(n.level>99)return i=Math.round((n.level+n.peakLevel)*(250+500*Math.random())*t),this.playerUnit.gotExpbox(i),e.count-=t,tu("提示",`你一共获得了${i}点经验。`),0===e.count&&e.clear(),n.save(),void Mm.save();for(;t>0&&!(n.level>99);)t>100&&n.exp<=0?(this.playerUnit.gotExpbox(n.maxExp),i+=n.maxExp,e.count-=100,t-=100):(this.playerUnit.gotExpbox(.01*n.maxExp),i+=.01*n.maxExp,e.count-=1,t-=1);tu("提示",`你一共获得了${Math.round(i)}点经验。`),0===e.count&&e.clear(),n.save(),Mm.save()}usetime(e,t){const{player:n}=this,{goodData:r}=e;this.pendingTime>0?tu("离线时间还未结算完毕，请稍后。"):(this.player.timestamp-=3600*t*1e3,this.resumeGame(),e.count-=t,tu("提示",`你额外获得了${t}个小时的离线时间。`),0===e.count&&e.clear())}emquick(e,t,n,r){const{player:i}=this,{goodData:s}=e;if(this.pendingTime>0)return void tu("离线时间还未结算完毕，请稍后。");if(i.inventory.filter((e=>e.empty)).length<5)return;let a=0;for(;a<n;){const n=200+50*t;if(i.inventory.filter((e=>e.empty)).length<5)return tu("提示",`已完成${a}次扫荡，因背包空位不足而停止。`),i.save(),void Mm.save();if(Mm.diamonds<r)return tu("提示",`已完成${a}次扫荡，因神力不足而停止。`),i.save(),void Mm.save();const s=[{type:"equip",mfRate:500},{type:"equip",mfRate:500},{type:"equip",mfRate:500},{type:"equip",mfRate:500}];this.lootssd(s,n),this.gotExp(1e7,100),this.lootEndlesssd(!1,t),Mm.diamonds-=r,e.count-=1,a+=1}0===e.count&&e.clear(),Mm.save(),i.save(),tu("提示",`你一共完成了${a}次扫荡。`)}bank(e){"bank"===e.position?this.player.loot(e):this.player.loot(e,Mm.bank),Mm.save(),this.player.save()}replayer(){if(!so.careers[this.player.currentCareer].hidden)return;let e="";if("Eyer"===this.player.role)e="warrior";else{if("Aleanor"!==this.player.role)return;e="sorceress"}for(let e=this.player.careerInfo.selectedSkills.length-1;e>=0;e--){const t=this.player.careerInfo.selectedSkills[e];this.player.careerInfo.selectedSkills.remove(t),this.playerUnit.removeSkill(t)}for(let e=this.player.careerInfo.selectedEnhances.length-1;e>=0;e--){const t=this.player.careerInfo.selectedEnhances[e];this.player.careerInfo.selectedEnhances.remove(t)}this.playerUnit.selectCareer(e)}async buygood(e,t,n){if(this.player.inventory.filter((e=>e.empty)).length<2)return void tu("提示","背包空格不足，购买失败。");let r=[];const i=Math.min(Math.floor(Mm.diamonds/t),n);let s=await ru(`输入购买的数量(1-${i})`,"",1);if(s=Math.min(Math.max(0,0|s),i),!s)return;let a={key:e,count:[s,s],rate:1};r.push(a);let o=Math.round(t*s);Mm.diamonds>=o?(Mm.diamonds-=o,this.loots(r),Mm.save(),this.player.save()):tu("提示","神力不足，购买失败。")}hasEnough(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=this;if(t&&Mm.diamonds<t)return!1;if(n&&i.gold<n)return!1;for(const e of Object.keys(r))if(i.countGood(e)<r[e])return!1;return!0}costItems(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=this;t&&(Mm.diamonds-=t),n&&(i.gold-=n);for(const e of Object.keys(r))i.costGood(e,r[e])}getItems(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=this;t&&(Mm.diamonds+=t),n&&(i.gold+=n);for(const e of Object.keys(r))i.costGood(e,r[e])}},su=mu(iu.prototype,"units",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),au=mu(iu.prototype,"player",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ou=mu(iu.prototype,"playerUnit",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lu=mu(iu.prototype,"paused",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uu=mu(iu.prototype,"pendingTime",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cu=mu(iu.prototype,"enemyBorn",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mu(iu.prototype,"resumeGame",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"resumeGame"),iu.prototype),mu(iu.prototype,"pause",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"pause"),iu.prototype),mu(iu.prototype,"dispose",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"dispose"),iu.prototype),mu(iu.prototype,"addEnemy",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"addEnemy"),iu.prototype),mu(iu.prototype,"addEnemySaved",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"addEnemySaved"),iu.prototype),mu(iu.prototype,"removeUnit",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"removeUnit"),iu.prototype),pu=mu(iu.prototype,"_map",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"home"}}),hu=mu(iu.prototype,"_endlessLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mu(iu.prototype,"mapData",[Me],Object.getOwnPropertyDescriptor(iu.prototype,"mapData"),iu.prototype),mu(iu.prototype,"focusEnemy",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"focusEnemy"),iu.prototype),mu(iu.prototype,"getexsklv",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"getexsklv"),iu.prototype),mu(iu.prototype,"geteva",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"geteva"),iu.prototype),mu(iu.prototype,"getCrit",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"getCrit"),iu.prototype),mu(iu.prototype,"getCritBonus",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"getCritBonus"),iu.prototype),mu(iu.prototype,"getblock",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"getblock"),iu.prototype),mu(iu.prototype,"sendDamage",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"sendDamage"),iu.prototype),mu(iu.prototype,"sendHeal",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"sendHeal"),iu.prototype),mu(iu.prototype,"gotExp",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"gotExp"),iu.prototype),mu(iu.prototype,"lootGood",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootGood"),iu.prototype),mu(iu.prototype,"lootGoods",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootGoods"),iu.prototype),mu(iu.prototype,"lootscb",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootscb"),iu.prototype),mu(iu.prototype,"loots",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"loots"),iu.prototype),mu(iu.prototype,"lootssd",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootssd"),iu.prototype),mu(iu.prototype,"specialloots",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"specialloots"),iu.prototype),mu(iu.prototype,"ticketcg",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"ticketcg"),iu.prototype),mu(iu.prototype,"selectSkill",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"selectSkill"),iu.prototype),mu(iu.prototype,"unselectSkill",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"unselectSkill"),iu.prototype),mu(iu.prototype,"setenhance",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"setenhance"),iu.prototype),mu(iu.prototype,"usePackage",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"usePackage"),iu.prototype),mu(iu.prototype,"useBox",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"useBox"),iu.prototype),mu(iu.prototype,"EnterDungeon",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"EnterDungeon"),iu.prototype),mu(iu.prototype,"buyTicket",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"buyTicket"),iu.prototype),mu(iu.prototype,"useexp",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"useexp"),iu.prototype),mu(iu.prototype,"usetime",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"usetime"),iu.prototype),mu(iu.prototype,"emquick",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"emquick"),iu.prototype),mu(iu.prototype,"bank",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"bank"),iu.prototype),mu(iu.prototype,"replayer",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"replayer"),iu.prototype),mu(iu.prototype,"buygood",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"buygood"),iu.prototype),mu(iu.prototype,"hasEnough",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"hasEnough"),iu.prototype),mu(iu.prototype,"costItems",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"costItems"),iu.prototype),mu(iu.prototype,"getItems",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"getItems"),iu.prototype),iu);const yu=new gu,vu={};function bu(e){if(Array.isArray(e))return e.map(bu);if(e instanceof Map){const t={};for(const[n,r]of e.entries())t[n]=bu(r);return t}if(e&&"object"==typeof e){const t={};for(const n of Object.keys(e))t[n]=bu(e[n]);return t}return e}var ku,wu,xu,_u,Eu,Su,Au,Du,Pu,Ru,Ou,Cu,Tu,Fu,Mu,Nu,ju,Iu,Bu,Hu,Lu,qu,zu,Uu,Vu,Ku,Yu,$u,Wu,Gu,Ju,Qu,Xu,Zu,ec,tc,nc,rc,ic,sc,ac,oc,lc,uc,cc,pc,hc,fc,dc,mc,gc,yc;function vc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const wc={};Object.keys(so.goods).forEach(((e,t)=>wc[e]=t));const xc={cloth:1,lightArmor:1.5,armor:2,shield:1},_c={plastron:1,gaiter:.8,weapon:1,assistant:1},Ec={cloth:2,lightArmor:.5,armor:.5,wand:2,shield:1,books:2},Sc={plastron:1,gaiter:.8,weapon:1,assistant:1},Ac={sword:1},Dc={weapon:1},Pc={longsword:1.5},Rc={weapon:1},Oc={sword:1,machete:1,ornament:1,longsword:1,gloves_r:.8,gloves_l:.8,daggers:.8},Cc={weapon:1,assistant:1},Tc={machete:1,gloves_r:1,gloves_l:1,daggers:1},Fc={weapon:1,assistant:1},Mc={ornament:1},Nc={ornament:1},jc={ornament:1},Ic={ornament:1},Bc={wand:1,books:1},Hc={weapon:1,assistant:1},Lc={weapon:"主手",assistant:"副手",plastron:"上身",gaiter:"下身",ornament:""},qc={armor:"重甲",lightArmor:"轻甲",cloth:"布甲",ornament:"首饰",sword:"长剑",shield:"盾牌",gloves_l:"拳套（左）",gloves_r:"拳套（右）",machete:"砍刀",wand:"法杖",longsword:"太刀",books:"书籍",daggers:"匕首",base:"通用"},zc={plastron:1,gaiter:2,ornament:3,weapon:0};function Uc(e){return e<=200?Math.ceil(e/2):100}function Vc(e){if(e.startsWith("nightmare."))return 0|Number(e.substr(10))}function Kc(e){const t=Vc(e);if(t)return"无尽噩梦"+t+"层"}function Yc(e){return 250+50*(Vc(e)-1)}let $c=(ku=class{constructor(){bc(this,"type",""),vc(this,"exp",wu,this),vc(this,"level",xu,this),vc(this,"peakExp",_u,this),vc(this,"peakLevel",Eu,this),vc(this,"maxLevel",Su,this),vc(this,"equipments",Au,this),vc(this,"selectedSkills",Du,this),vc(this,"selectedEnhances",Pu,this),bn(this)}fromJS(e){return this.exp=e.exp||0,this.level=e.level||1,this.peakExp=e.peakExp||0,this.peakLevel=e.peakLevel||0,this.maxLevel=e.maxLevel||100,e.equipments&&(this.equipments.weapon.fromJS(e.equipments.weapon||{}),this.equipments.assistant.fromJS(e.equipments.assistant||{}),this.equipments.plastron.fromJS(e.equipments.plastron||{}),this.equipments.gaiter.fromJS(e.equipments.gaiter||{}),this.equipments.ornament.fromJS(e.equipments.ornament||{})),e.selectedSkills&&this.selectedSkills.replace(e.selectedSkills.filter((e=>so.careers[this.type].skills[e]&&so.skills[e]))),e.selectedEnhances&&this.selectedEnhances.replace(e.selectedEnhances.filter((e=>so.careers[this.type].enhances[e]))),this}get maxExp(){if(!so.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=so.careers[this.type];return e.map(((e,t)=>e*this.level**t)).reduce(((e,t)=>e+t),0)}get maxPeakExp(){if(!so.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=so.careers[this.type];return 1e7*(this.peakLevel+1)*1e3}},wu=kc(ku.prototype,"exp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xu=kc(ku.prototype,"level",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_u=kc(ku.prototype,"peakExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Eu=kc(ku.prototype,"peakLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Su=kc(ku.prototype,"maxLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Au=kc(ku.prototype,"equipments",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{weapon:new Gc("equip"),assistant:new Gc("equip"),plastron:new Gc("equip"),gaiter:new Gc("equip"),ornament:new Gc("equip")}}}),Du=kc(ku.prototype,"selectedSkills",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pu=kc(ku.prototype,"selectedEnhances",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kc(ku.prototype,"maxExp",[Me],Object.getOwnPropertyDescriptor(ku.prototype,"maxExp"),ku.prototype),kc(ku.prototype,"maxPeakExp",[Me],Object.getOwnPropertyDescriptor(ku.prototype,"maxPeakExp"),ku.prototype),ku),Wc=(Ou=kc((Ru=class{constructor(){vc(this,"key",Ou,this),vc(this,"value",Cu,this),vc(this,"rebuilded",Tu,this),bn(this)}get affixData(){return so.affixes[this.key]||so.legends[this.key]}get isLegend(){return!!so.legends[this.key]}get displayA(){return this.affixData.display(this.value)}generate(e){return this.affixData.generate(e)}displayB(e,t){return this.affixData.display(this.generate(e),t)}rangeDisplay(e){return this.affixData.range(e)}fromJS(e){return this.key=e.key,this.value=e.value,this.rebuilded=e.rebuilded,this}}).prototype,"key",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cu=kc(Ru.prototype,"value",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Tu=kc(Ru.prototype,"rebuilded",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kc(Ru.prototype,"affixData",[Me],Object.getOwnPropertyDescriptor(Ru.prototype,"affixData"),Ru.prototype),kc(Ru.prototype,"isLegend",[Me],Object.getOwnPropertyDescriptor(Ru.prototype,"isLegend"),Ru.prototype),kc(Ru.prototype,"displayA",[Me],Object.getOwnPropertyDescriptor(Ru.prototype,"displayA"),Ru.prototype),kc(Ru.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Ru.prototype,"fromJS"),Ru.prototype),Ru),Gc=(Mu=kc((Fu=class{constructor(e){bc(this,"position",null),vc(this,"key",Mu,this),vc(this,"count",Nu,this),vc(this,"level",ju,this),vc(this,"rflevel",Iu,this),vc(this,"affixes",Bu,this),vc(this,"quality",Hu,this),vc(this,"enchantTimes",Lu,this),vc(this,"locked",qu,this),vc(this,"legendType",zu,this),vc(this,"dungeonKey",Uu,this),bn(this),this.position=e}get goodData(){return so.goods[this.key]}get isEnergyMaterial(){const{goodData:e}=this;return e&&"material"===e.type&&!!e.energy}get legendData(){return this.legendType&&so.legends[this.legendType]}get backgroundColor(){const{goodData:e}=this;return e&&e.backgroundColor}get nameColor(){const{goodData:e}=this;return e&&e.nameColor}get description(){return this.key?this.legendData?this.legendData.itemDescription:this.goodData&&this.goodData.description:""}get name(){return this.key?"gold"===this.key?"金币":"diamonds"===this.key?"神力":"ticket"===this.key?`钥石:${Kc(this.dungeonKey)||so.maps[this.dungeonKey].name}`:this.legendData?this.legendData.itemName:this.goodData&&this.goodData.name:""}get originName(){return this.legendData?this.goodData&&this.goodData.name:null}get isEquip(){return!!this.goodData&&"equip"===this.goodData.type}get displayQuality(){return this.isEquip?this.quality:this.goodData?this.goodData.quality||0:void 0}get empty(){return!this.key}get price(){if(!this.key)return 0;if(this.isEquip){const{level:e}=this;return(.01*e*e+1*e)*2**this.quality|1}return this.goodData.price*2**this.quality}get totalPrice(){return this.price*this.count}get requireLevel(){return this.isEquip?Uc(this.level):0}get atk_self(){const{level:e,goodData:t}=this,n=Oc[t.class]*Cc[t.position]||0;return Math.ceil(e*n)}get def(){const{level:e,goodData:t}=this,n=xc[t.class]*_c[t.position]||0;return Math.round(e*n)}get allResist(){const{level:e,goodData:t}=this,n=Ec[t.class]*Sc[t.position]||0;return Math.round(e*n*.8)}get critRate(){const{level:e,goodData:t}=this;return.1*(Ac[t.class]*Dc[t.position]||0)}get atkMul(){const{level:e,goodData:t}=this;return.1*(Pc[t.class]*Rc[t.position]||0)}get critBonus(){const{level:e,goodData:t}=this;return.2*(Tc[t.class]*Fc[t.position]||0)}get equipPositionName(){const{goodData:e}=this;return Lc[e.position]+" "+qc[e.class]}get equipPositionOrder(){const{position:e}=this.goodData;return zc[e]}get maxHp(){const{level:e,goodData:t}=this;return e*(Mc[t.class]*Nc[t.position]||0)/2}get sta(){const{level:e,goodData:t}=this;return e*(jc[t.class]*Ic[t.position]||0)/4}get int(){const{level:e,goodData:t}=this;return e*(Bc[t.class]*Hc[t.position]||0)}swap(e){const t=un(this);this.fromJS(e),e.fromJS(t)}clear(){this.key=null,this.count=0,this.quality=0,this.level=0,this.rflevel=0,this.enchantTimes=0,this.legendType=null,this.dungeonKey=null,this.affixes.clear()}fromJS(e){return this.locked=e.locked||0,this.key=e.key||null,this.count=e.count?Math.ceil(e.count):null,this.quality=e.quality||0,this.level=e.level||0,this.rflevel=e.rflevel||0,this.enchantTimes=e.enchantTimes||0,this.legendType=e.legendType||null,this.dungeonKey=e.dungeonKey||null,this.isEquip&&!this.level&&(this.level=1),this.affixes.replace((e.affixes||[]).map((e=>(new Wc).fromJS(e)))),this.key&&0!==this.count||this.clear(),"ticket"!==this.key||this.dungeonKey||this.clear(),this}}).prototype,"key",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nu=kc(Fu.prototype,"count",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ju=kc(Fu.prototype,"level",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Iu=kc(Fu.prototype,"rflevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bu=kc(Fu.prototype,"affixes",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hu=kc(Fu.prototype,"quality",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lu=kc(Fu.prototype,"enchantTimes",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qu=kc(Fu.prototype,"locked",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zu=kc(Fu.prototype,"legendType",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Uu=kc(Fu.prototype,"dungeonKey",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kc(Fu.prototype,"goodData",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"goodData"),Fu.prototype),kc(Fu.prototype,"isEnergyMaterial",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"isEnergyMaterial"),Fu.prototype),kc(Fu.prototype,"legendData",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"legendData"),Fu.prototype),kc(Fu.prototype,"backgroundColor",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"backgroundColor"),Fu.prototype),kc(Fu.prototype,"nameColor",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"nameColor"),Fu.prototype),kc(Fu.prototype,"description",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"description"),Fu.prototype),kc(Fu.prototype,"name",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"name"),Fu.prototype),kc(Fu.prototype,"originName",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"originName"),Fu.prototype),kc(Fu.prototype,"isEquip",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"isEquip"),Fu.prototype),kc(Fu.prototype,"displayQuality",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"displayQuality"),Fu.prototype),kc(Fu.prototype,"empty",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"empty"),Fu.prototype),kc(Fu.prototype,"price",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"price"),Fu.prototype),kc(Fu.prototype,"totalPrice",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"totalPrice"),Fu.prototype),kc(Fu.prototype,"requireLevel",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"requireLevel"),Fu.prototype),kc(Fu.prototype,"atk_self",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"atk_self"),Fu.prototype),kc(Fu.prototype,"def",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"def"),Fu.prototype),kc(Fu.prototype,"allResist",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"allResist"),Fu.prototype),kc(Fu.prototype,"critRate",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"critRate"),Fu.prototype),kc(Fu.prototype,"atkMul",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"atkMul"),Fu.prototype),kc(Fu.prototype,"critBonus",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"critBonus"),Fu.prototype),kc(Fu.prototype,"equipPositionName",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"equipPositionName"),Fu.prototype),kc(Fu.prototype,"maxHp",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"maxHp"),Fu.prototype),kc(Fu.prototype,"sta",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"sta"),Fu.prototype),kc(Fu.prototype,"int",[Me],Object.getOwnPropertyDescriptor(Fu.prototype,"int"),Fu.prototype),kc(Fu.prototype,"swap",[Ft],Object.getOwnPropertyDescriptor(Fu.prototype,"swap"),Fu.prototype),kc(Fu.prototype,"clear",[Ft],Object.getOwnPropertyDescriptor(Fu.prototype,"clear"),Fu.prototype),kc(Fu.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Fu.prototype,"fromJS"),Fu.prototype),Fu),Jc=(Vu=class{constructor(e){bc(this,"key",null),vc(this,"role",Ku,this),vc(this,"currentCareer",Yu,this),vc(this,"currentCareerLevel",$u,this),vc(this,"currentCareerLevelExp",Wu,this),vc(this,"currentCareerpeakLevel",Gu,this),vc(this,"currentCareerpeakLevelExp",Ju,this),vc(this,"resetlv",Qu,this),vc(this,"hdlv",Xu,this),vc(this,"recartime",Zu,this),vc(this,"currentCareerequipments",ec,this),this.key=e,bn(this)}get roleData(){return so.roles[this.role]}get name(){return this.roleData.name}get careerData(){return so.careers[this.currentCareer]}get careerName(){return this.careerData&&this.careerData.name}fromJS(e){return this.role=e.role||"Eyer",this.currentCareer=e.currentCareer||this.roleData.defaultCareer,this.currentCareerLevel=e.currentCareerLevel||1,this.currentCareerLevelExp=e.currentCareerLevelExp||0,this.currentCareerpeakLevel=e.currentCareerpeakLevel||0,this.currentCareerpeakLevelExp=e.currentCareerpeakLevelExp||0,e.currentCareerequipments&&(this.currentCareerequipments.weapon.fromJS(e.currentCareerequipments.weapon||{}),this.currentCareerequipments.assistant.fromJS(e.currentCareerequipments.assistant||{}),this.currentCareerequipments.plastron.fromJS(e.currentCareerequipments.plastron||{}),this.currentCareerequipments.gaiter.fromJS(e.currentCareerequipments.gaiter||{}),this.currentCareerequipments.ornament.fromJS(e.currentCareerequipments.ornament||{})),this}},Ku=kc(Vu.prototype,"role",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eyer"}}),Yu=kc(Vu.prototype,"currentCareer",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$u=kc(Vu.prototype,"currentCareerLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wu=kc(Vu.prototype,"currentCareerLevelExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gu=kc(Vu.prototype,"currentCareerpeakLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ju=kc(Vu.prototype,"currentCareerpeakLevelExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qu=kc(Vu.prototype,"resetlv",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xu=kc(Vu.prototype,"hdlv",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zu=kc(Vu.prototype,"recartime",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ec=kc(Vu.prototype,"currentCareerequipments",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{weapon:new Gc("equip"),assistant:new Gc("equip"),plastron:new Gc("equip"),gaiter:new Gc("equip"),ornament:new Gc("equip")}}}),kc(Vu.prototype,"roleData",[Me],Object.getOwnPropertyDescriptor(Vu.prototype,"roleData"),Vu.prototype),kc(Vu.prototype,"name",[Me],Object.getOwnPropertyDescriptor(Vu.prototype,"name"),Vu.prototype),kc(Vu.prototype,"careerData",[Me],Object.getOwnPropertyDescriptor(Vu.prototype,"careerData"),Vu.prototype),kc(Vu.prototype,"careerName",[Me],Object.getOwnPropertyDescriptor(Vu.prototype,"careerName"),Vu.prototype),kc(Vu.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Vu.prototype,"fromJS"),Vu.prototype),Vu),Qc=(tc=class e extends Jc{constructor(e){super(e),vc(this,"timestamp",nc,this),vc(this,"playerstamp",rc,this),bc(this,"timelineId",null),bc(this,"banned",!1),vc(this,"careers",ic,this),vc(this,"gold",sc,this),vc(this,"inventory",ac,this),vc(this,"inventoryDiamondLevel",oc,this),vc(this,"skillExp",lc,this),vc(this,"buildInventory",uc,this),vc(this,"awardInventory",cc,this),vc(this,"migrateMap",pc,this),vc(this,"lootRule",hc,this),vc(this,"minLootLevel",fc,this),vc(this,"minLootLevel2",dc,this),vc(this,"dungeonTickets",mc,this),vc(this,"pendingMaps",gc,this),vc(this,"outsidemap",yc,this),bn(this),this.disposeAutoSave=It((()=>{this.save(),Mm.autosave()}),{delay:3e4})}static load(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=localStorage.getItem(`player-${t}`),i=new e(t);if(r){let e;"{"===r[0]?e=JSON.parse(r):"s"===r[0]&&(e=yu.start(r)),function(e){e.migrateMap||(e.migrateMap={});for(const t in vu)e.migrateMap[t]||(e.migrateMap[t]=1,vu[t](e))}(e),i.fromJS(e),n&&(e.worldState=null,e.map=null),yu.load(i,e.worldState||{map:e.map||"home"})}return i}static create(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nt((()=>{Mm.checkCanCreate();const r=`${Date.now()}-${n}`;if(Mm.playerMetas.has(r))return e.create(t,n+1);t.key=r,Mm.playerMetas.set(r,t),Mm.playerMetas2.set(r,Date.now());const i=new e(r);return Mm.currentPlayer=r,i.fromJS(t),i.postCreate(),i.save(!0),Mm.save(),i}))}get isBanned(){return this.banned||Mm.banned}get careerInfo(){return this.careers.get(this.currentCareer)}get level(){return this.careerInfo?this.careerInfo.level:0}set level(e){this.careerInfo.level=e,this.currentCareerLevel=e}get maxLevel(){return this.careerInfo?this.careerInfo.maxLevel:0}set maxLevel(e){this.careerInfo&&(this.careerInfo.maxLevel=e)}get peakLevel(){return this.careerInfo?this.careerInfo.peakLevel:0}set peakLevel(e){this.careerInfo.peakLevel=e,this.currentCareerpeakLevel=e}get exp(){return this.careerInfo.exp}get peakExp(){return this.careerInfo.peakExp}set exp(e){this.careerInfo.exp=e,this.currentCareerLevelExp=e}set peakExp(e){this.careerInfo.peakExp=e,this.currentCareerpeakLevelExp=e}get equipments(){return this.careerInfo.equipments}get maxExp(){return this.careerInfo.maxExp}get maxPeakExp(){return this.careerInfo.maxPeakExp}get maxSkillCount(){const{level:e}=this;return e>=70?6:e>=50?5:e>=30?4:3}get nextSkillUnlockLevel(){const{level:e}=this;return e>=70?null:e>=50?70:e>=30?50:30}get maxEnhanceCount(){return 10}get nextEnhanceUnlockLevel(){const{level:e}=this;return e>=60?null:e>=40?60:e>=20?40:e>=10?20:e>=5?10:5}fromJS(e){if(super.fromJS(e),this.timestamp=e.timestamp||Date.now(),this.psstamp=e.psstame||Date.now(),this.playerstamp=e.playerstamp,this.timelineId=e.timelineId,this.minLootLevel=e.minLootLevel||1,this.minLootLevel2=e.minLootLevel2||1,this.hdlv=e.hdlv||0,this.recartime=e.recartime||0,this.outsidemap=e.outsidemap||"home",this.gold=e.gold||0,this.inventoryDiamondLevel=e.inventoryDiamondLevel||0,this.inventory.clear(),this.skillExp.clear(),Ln(e.skillExp))for(const t of e.skillExp.keys()){const n=un(e.skillExp.get(t));so.skills[t]&&this.skillExp.set(t,Oe(n))}else for(const t of Object.keys(e.skillExp||{})){const n=e.skillExp[t];so.skills[t]&&this.skillExp.set(t,Oe(n))}for(let t=0;e.inventory&&t<e.inventory.length;t++){this.inventory.push(new Gc("inventory").fromJS(e.inventory[t]||{}));const{key:n,dungeonKey:r}=this.inventory[t];if("ticket"==n&&r){const e=Vc(r);e&&e>Mm.highestEndlessLevel&&(Mm.highestEndlessLevel=e)}}for(let t=0;e.buildInventory&&t<e.buildInventory.length;t++){const n=new Gc("build").fromJS(e.buildInventory[t]||{});n.empty||this.buildInventory.push(n)}for(let t=0;e.awardInventory&&t<e.awardInventory.length;t++){const n=new Gc("award").fromJS(e.awardInventory[t]||{});n.empty||this.awardInventory.push(n)}if(this.careers.clear(),Ln(e.careers))for(const t of e.careers.keys()){const n=new $c;n.type=t,n.fromJS(e.careers.get(t)),this.careers.set(t,n)}else for(const t of Object.keys(e.careers||{})){const n=new $c;n.type=t,n.fromJS(e.careers[t]),this.careers.set(t,n)}if(this.migrateMap.clear(),Ln(e.migrateMap))for(const t of e.migrateMap.keys())this.migrateMap.set(t,1);else for(const t of Object.keys(e.migrateMap||{}))this.migrateMap.set(t,1);if(this.lootRule.clear(),Ln(e.lootRule))for(const t of e.lootRule.keys())this.lootRule.set(t,e.lootRule.get(t));else for(const t of Object.keys(e.lootRule||{}))this.lootRule.set(t,e.lootRule[t]);if(this.pendingMaps.clear(),Ln(e.pendingMaps))for(const t of e.pendingMaps.keys())this.pendingMaps.set(t,e.pendingMaps.get(t));else for(const t of Object.keys(e.pendingMaps||{}))this.pendingMaps.set(t,e.pendingMaps[t]);if(this.dungeonTickets.clear(),Ln(e.dungeonTickets)){for(const t of Object.keys(so.maps))if(so.maps[t].isDungeon&&!so.maps[t].isEndless){const n="number"==typeof so.maps[t].defaultTicketCount?so.maps[t].defaultTicketCount:1,r=so.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&e.dungeonTickets.has(r)&&void 0!==e.dungeonTickets.get(r)?e.dungeonTickets.get(t):n)}}else for(const t of Object.keys(so.maps))if(so.maps[t].isDungeon&&!so.maps[t].isEndless){const n="number"==typeof so.maps[t].defaultTicketCount?so.maps[t].defaultTicketCount:1,r=so.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&void 0!==e.dungeonTickets[r]?e.dungeonTickets[r]:n)}return this}postCreate(){for(this.selectCareer(this.roleData.defaultCareer);this.inventory.length<12;)this.inventory.push(new Gc("inventory"));const{startup:e}=this.roleData;for(const t of Object.keys(e||{}))if("number"==typeof e[t]){const n=this.awardInventory.find((e=>e.key===t));n?n.count+=e[t]:this.awardInventory.push(new Gc("award").fromJS({key:t,count:e[t]}))}else{const{quality:n,affixes:r}=e[t];this.awardInventory.push(new Gc("award").fromJS({key:t,count:1,quality:n,affixes:r}))}}postLoad(){for(this.selectCareer(this.currentCareer);this.inventory.length<12;)this.inventory.push(new Gc("inventory"))}selectCareer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.currentCareer=e,!this.careers.has(e)){const t=so.careers[e],n=new $c;n.type=e,t.equipments&&t.equipments.weapon&&n.equipments.weapon.fromJS({key:t.equipments.weapon,count:1}),this.careers.set(e,n)}this.level=this.currentCareerLevel,this.exp=this.currentCareerLevelExp,this.peakLevel=this.currentCareerpeakLevel,this.peakExp=this.currentCareerpeakLevelExp,this.currentCareerequipments.weapon.count>0&&this.equipments.weapon.fromJS(this.currentCareerequipments.weapon),this.currentCareerequipments.assistant.count>0&&this.equipments.assistant.fromJS(this.currentCareerequipments.assistant),this.currentCareerequipments.plastron.count>0&&this.equipments.plastron.fromJS(this.currentCareerequipments.plastron),this.currentCareerequipments.gaiter.count>0&&this.equipments.gaiter.fromJS(this.currentCareerequipments.gaiter),this.currentCareerequipments.ornament.count>0&&this.equipments.ornament.fromJS(this.currentCareerequipments.ornament),t&&(this.skillExp.clear(),this.careerInfo.selectedEnhances.clear(),this.careerInfo.selectedSkills.clear(),this.hdlv=0,this.recartime+=1,this.save()),Object.keys(this.careerData.skills).forEach((e=>{so.skills[e]&&!this.skillExp.has(e)&&this.skillExp.set(e,{level:0,exp:0})})),t&&location.reload()}emptySlot(e){for(let t=0;t<e.length;t++)if(!e[t].key)return t;return-1}notFullSlot(e,t,n,r){for(let i=0;i<e.length;i++){const s=e[i];if(s&&s.key===t&&("ticket"!==t||r===s.dungeonKey)&&s.count<n)return i}const i=this.emptySlot(e);return i>=0&&(e[i].key=t,"ticket"===t&&(e[i].dungeonKey=r)),i}loot(e,t){const n=t||this.inventory,{key:r}=e;if(e.empty)return;if("gold"===r)return this.gold+=e.count,void e.clear();if("diamonds"===r)return Mm.diamonds+=e.count,void e.clear();const i="ticket"===r?99999999:so.goods[r].stack;if(!i){const t=this.emptySlot(n);if(t<0)return;return n[t].fromJS(e),void e.clear()}for(;e.count>0;){const t=this.notFullSlot(n,r,i,e.dungeonKey);if(t<0)return;const s=Math.min(e.count,i-n[t].count);n[t].count+=s,e.count-=s}if("ticket"===r){const t=Vc(e.dungeonKey);t&&t>Mm.highestEndlessLevel&&(Mm.highestEndlessLevel=t)}e.clear()}save(e){try{if(!this.key)return void console.warn("No player key , failed to save");const t=Mm.playerMetas.get(this.key);if(!t)return void console.warn("可能角色已经被删除。不再保存。");let n=localStorage.getItem(`player-${this.key}`);n&&(n="s"===n[0]?yu.start(n).playerstamp:JSON.parse(n).playerstamp,n!==this.playerstamp&&location.reload(),Nt((()=>{this.playerstamp=Date.now()}))),t.fromJS(this);const r=bu(this.toJS());e?r.timestamp=this.timestamp:(r.timestamp=this.timestamp+yu.timeline.getTime(),r.worldState=yu.dumpState()),localStorage.setItem(`player-${this.key}`,yu.stop(r))}catch(e){console.error(e.stack),alert("保存失败，请将以下信息发送给作者："+e.stack)}}toJS(){return un(this)}sellItem(e,t){null!==e.key&&(this.gold+=e.price*t,"build"===e.position?this.buildInventory.remove(e):"award"===e.position?this.awardInventory.remove(e):(e.count-=t,0===e.count&&e.clear()))}decomposeItem(e){if(null===e.key)return;const t=Ul(e),n=[];for(const e of Object.keys(t))n.push(new Gc("build").fromJS({key:e,count:t[e]}));yu.lootGoods(n,!1),e.clear()}countTicket(e){let t=0;return t+=this.dungeonTickets.get(e)||0,t+=this.inventory.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t+=Mm.bank.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t}costTicket(e){const t=this.dungeonTickets.get(e);if(t>0)return void this.dungeonTickets.set(e,t-1);const n=this.inventory.find((t=>"ticket"===t.key&&t.dungeonKey===e))||Mm.bank.find((t=>"ticket"===t.key&&t.dungeonKey===e));n&&(n.count--,0===n.count&&n.clear())}countGood(e){return this.inventory.reduce(((t,n)=>n.key===e?t+n.count:t),0)}costGood(e,t){let n=t;for(let t=this.inventory.length-1;t>=0;t--){const r=this.inventory[t];if(r.key===e){const e=Math.min(n,r.count);if(r.count-=e,r.count<=0&&r.clear(),n-=e,n<=0)return 0}}return n}getInventory(e){e.replace(yu.lootGoods(e)),this.save()}getSkillLevel(e){const t=this.skillExp.get(e);return t?t.level:0}addSkillExp(e,t){const n=this.skillExp.get(so.skills[e].expGroup||e),r=so.skills[e];if(!(r.MaxLv&&n.level>=r.MaxLv)){const r=so.skills[e].maxExp(n.level);n.exp+=yu.updateRate*t,n.exp>=r&&(n.exp-=r,n.level+=1)}}equip(e){const{goodData:t}=e;t&&"equip"===t.type&&(this.equipments[t.position].swap(e),Nt((()=>{this.currentCareerequipments[t.position]=this.equipments[t.position]})))}unequip(e){const{goodData:t}=e,n=this.emptySlot(this.inventory);n>=0&&(this.inventory[n].swap(e),Nt((()=>{this.currentCareerequipments.weapon.fromJS(this.equipments.weapon||{}),this.currentCareerequipments.assistant.fromJS(this.equipments.assistant||{}),this.currentCareerequipments.plastron.fromJS(this.equipments.plastron||{}),this.currentCareerequipments.gaiter.fromJS(this.equipments.gaiter||{}),this.currentCareerequipments.ornament.fromJS(this.equipments.ornament||{})})))}sortInventory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.inventory;const t=e.filter((e=>e.key)).map((e=>new Gc("inventory").fromJS(e)));function n(e,t,n){return n[e]-n[t]}t.sort(((e,t)=>{const r=e.goodData?e.goodData.type:e.key,i=t.goodData?t.goodData.type:t.key;if(r!==i)return n(r,i,{junk:0,package:1,material:2,ticket:3,equip:4});if("ticket"===r&&e.dungeonKey!==t.dungeonKey){const n=so.maps[e.dungeonKey],r=so.maps[t.dungeonKey],i=Yc(e.dungeonKey)||n&&n.level||0,s=Yc(t.dungeonKey)||n&&r.level||0;return i!==s?i-s:e.dungeonKey<t.dungeonKey?-1:1}if(e.displayQuality!==t.displayQuality)return e.displayQuality-t.displayQuality;if("equip"===r){if(e.equipPositionOrder!==t.equipPositionOrder)return e.equipPositionOrder-t.equipPositionOrder;if(e.level!==t.level)return e.level-t.level}return n(e.key,t.key,wc)})),e.forEach((e=>e.clear()));for(const n of t)this.loot(n,e)}getCareerLevel(e){const t=this.careers.get(e);return t?t.level:0}dispose(){this.disposeAutoSave&&(this.disposeAutoSave(),this.disposeAutoSave=null)}},kc(tc,"load",[Ft],Object.getOwnPropertyDescriptor(tc,"load"),tc),nc=kc(tc.prototype,"timestamp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rc=kc(tc.prototype,"playerstamp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=kc(tc.prototype,"careers",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),sc=kc(tc.prototype,"gold",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ac=kc(tc.prototype,"inventory",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oc=kc(tc.prototype,"inventoryDiamondLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lc=kc(tc.prototype,"skillExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),uc=kc(tc.prototype,"buildInventory",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cc=kc(tc.prototype,"awardInventory",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pc=kc(tc.prototype,"migrateMap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),hc=kc(tc.prototype,"lootRule",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),fc=kc(tc.prototype,"minLootLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dc=kc(tc.prototype,"minLootLevel2",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mc=kc(tc.prototype,"dungeonTickets",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),gc=kc(tc.prototype,"pendingMaps",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),yc=kc(tc.prototype,"outsidemap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"home"}}),kc(tc.prototype,"careerInfo",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"careerInfo"),tc.prototype),kc(tc.prototype,"level",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"level"),tc.prototype),kc(tc.prototype,"maxLevel",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"maxLevel"),tc.prototype),kc(tc.prototype,"peakLevel",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"peakLevel"),tc.prototype),kc(tc.prototype,"exp",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"exp"),tc.prototype),kc(tc.prototype,"peakExp",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"peakExp"),tc.prototype),kc(tc.prototype,"equipments",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"equipments"),tc.prototype),kc(tc.prototype,"maxExp",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"maxExp"),tc.prototype),kc(tc.prototype,"maxPeakExp",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"maxPeakExp"),tc.prototype),kc(tc.prototype,"maxSkillCount",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"maxSkillCount"),tc.prototype),kc(tc.prototype,"nextSkillUnlockLevel",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"nextSkillUnlockLevel"),tc.prototype),kc(tc.prototype,"maxEnhanceCount",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"maxEnhanceCount"),tc.prototype),kc(tc.prototype,"nextEnhanceUnlockLevel",[Me],Object.getOwnPropertyDescriptor(tc.prototype,"nextEnhanceUnlockLevel"),tc.prototype),kc(tc.prototype,"fromJS",[X],Object.getOwnPropertyDescriptor(tc.prototype,"fromJS"),tc.prototype),kc(tc.prototype,"postCreate",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"postCreate"),tc.prototype),kc(tc.prototype,"postLoad",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"postLoad"),tc.prototype),kc(tc.prototype,"selectCareer",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"selectCareer"),tc.prototype),kc(tc.prototype,"loot",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"loot"),tc.prototype),kc(tc.prototype,"sellItem",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"sellItem"),tc.prototype),kc(tc.prototype,"getInventory",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"getInventory"),tc.prototype),kc(tc.prototype,"addSkillExp",[Ft],Object.getOwnPropertyDescriptor(tc.prototype,"addSkillExp"),tc.prototype),tc);class Xc extends Error{constructor(e,t){super(e),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"code",500),this.code=t}static forbidden(){throw new Xc("Forbidden",403)}}var Zc="delete",ep=5,tp=1<<ep,np=tp-1,rp={};function ip(e){e&&(e.value=!0)}function sp(){}function ap(e){return void 0===e.size&&(e.size=e.__iterate(lp)),e.size}function op(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?ap(e)+t:t}function lp(){return!0}function up(e,t,n){return(0===e&&!fp(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function cp(e,t){return hp(e,t,0)}function pp(e,t){return hp(e,t,t)}function hp(e,t,n){return void 0===e?n:fp(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function fp(e){return e<0||0===e&&1/e==-1/0}var dp="@@__IMMUTABLE_ITERABLE__@@";function mp(e){return Boolean(e&&e[dp])}var gp="@@__IMMUTABLE_KEYED__@@";function yp(e){return Boolean(e&&e[gp])}var vp="@@__IMMUTABLE_INDEXED__@@";function bp(e){return Boolean(e&&e[vp])}function kp(e){return yp(e)||bp(e)}var wp=function(e){return mp(e)?e:$p(e)},xp=function(e){function t(e){return yp(e)?e:Wp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wp),_p=function(e){function t(e){return bp(e)?e:Gp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wp),Ep=function(e){function t(e){return mp(e)&&!kp(e)?e:Jp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wp);wp.Keyed=xp,wp.Indexed=_p,wp.Set=Ep;var Sp="@@__IMMUTABLE_SEQ__@@";function Ap(e){return Boolean(e&&e[Sp])}var Dp="@@__IMMUTABLE_RECORD__@@";function Pp(e){return Boolean(e&&e[Dp])}function Rp(e){return mp(e)||Pp(e)}var Op="@@__IMMUTABLE_ORDERED__@@";function Cp(e){return Boolean(e&&e[Op])}var Tp=0,Fp=1,Mp=2,Np="function"==typeof Symbol&&Symbol.iterator,jp="@@iterator",Ip=Np||jp,Bp=function(e){this.next=e};function Hp(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Lp(){return{value:void 0,done:!0}}function qp(e){return!!Array.isArray(e)||!!Vp(e)}function zp(e){return e&&"function"==typeof e.next}function Up(e){var t=Vp(e);return t&&t.call(e)}function Vp(e){var t=e&&(Np&&e[Np]||e[jp]);if("function"==typeof t)return t}Bp.prototype.toString=function(){return"[Iterator]"},Bp.KEYS=Tp,Bp.VALUES=Fp,Bp.ENTRIES=Mp,Bp.prototype.inspect=Bp.prototype.toSource=function(){return this.toString()},Bp.prototype[Ip]=function(){return this};var Kp=Object.prototype.hasOwnProperty;function Yp(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var $p=function(e){function t(e){return null==e?th():Rp(e)?e.toSeq():function(e){var t,n,r=ih(e);if(r)return(n=Vp(t=e))&&n===t.entries?r.fromEntrySeq():function(e){var t=Vp(e);return t&&t===e.keys}(e)?r.toSetSeq():r;if("object"==typeof e)return new Xp(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var s=n[t?r-++i:i++];if(!1===e(s[1],s[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new Bp((function(){if(i===r)return{value:void 0,done:!0};var s=n[t?r-++i:i++];return Hp(e,s[0],s[1])}))}return this.__iteratorUncached(e,t)},t}(wp),Wp=function(e){function t(e){return null==e?th().toKeyedSeq():mp(e)?yp(e)?e.toSeq():e.fromEntrySeq():Pp(e)?e.toSeq():nh(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}($p),Gp=function(e){function t(e){return null==e?th():mp(e)?yp(e)?e.entrySeq():e.toIndexedSeq():Pp(e)?e.toSeq().entrySeq():rh(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}($p),Jp=function(e){function t(e){return(mp(e)&&!kp(e)?e:Gp(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}($p);$p.isSeq=Ap,$p.Keyed=Wp,$p.Set=Jp,$p.Indexed=Gp,$p.prototype[Sp]=!0;var Qp=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[op(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var s=t?r-++i:i++;if(!1===e(n[s],s,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new Bp((function(){if(i===r)return{value:void 0,done:!0};var s=t?r-++i:i++;return Hp(e,s,n[s])}))},t}(Gp),Xp=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Kp.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,s=0;s!==i;){var a=r[t?i-++s:s++];if(!1===e(n[a],a,this))break}return s},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,s=0;return new Bp((function(){if(s===i)return{value:void 0,done:!0};var a=r[t?i-++s:s++];return Hp(e,a,n[a])}))},t}(Wp);Xp.prototype[Op]=!0;var Zp,eh=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=Up(this._collection),r=0;if(zp(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=Up(this._collection);if(!zp(n))return new Bp(Lp);var r=0;return new Bp((function(){var t=n.next();return t.done?t:Hp(e,r++,t.value)}))},t}(Gp);function th(){return Zp||(Zp=new Qp([]))}function nh(e){var t=ih(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new Xp(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function rh(e){var t=ih(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ih(e){return Yp(e)?new Qp(e):qp(e)?new eh(e):void 0}var sh="@@__IMMUTABLE_MAP__@@";function ah(e){return Boolean(e&&e[sh])}function oh(e){return ah(e)&&Cp(e)}function lh(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function uh(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(lh(e)&&lh(t)&&e.equals(t))}var ch="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ph(e){return e>>>1&1073741824|3221225471&e}var hh=Object.prototype.valueOf;function fh(e){if(null==e)return dh(e);if("function"==typeof e.hashCode)return ph(e.hashCode(e));var t,n,r,i=(t=e).valueOf!==hh&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==i)return dh(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return ph(t)}(i);case"string":return i.length>Eh?(void 0===(r=Dh[n=i])&&(r=mh(n),Ah===Sh&&(Ah=0,Dh={}),Ah++,Dh[n]=r),r):mh(i);case"object":case"function":return function(e){var t;if(kh&&void 0!==(t=bh.get(e)))return t;if(void 0!==(t=e[_h]))return t;if(!yh){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[_h]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=vh(),kh)bh.set(e,t);else{if(void 0!==gh&&!1===gh(e))throw new Error("Non-extensible objects are not allowed as keys.");if(yh)Object.defineProperty(e,_h,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[_h]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[_h]=t}}return t}(i);case"symbol":return function(e){var t=wh[e];return void 0!==t||(t=vh(),wh[e]=t),t}(i);default:if("function"==typeof i.toString)return mh(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function dh(e){return null===e?1108378658:1108378659}function mh(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ph(t)}var gh=Object.isExtensible,yh=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function vh(){var e=++xh;return 1073741824&xh&&(xh=0),e}var bh,kh="function"==typeof WeakMap;kh&&(bh=new WeakMap);var wh=Object.create(null),xh=0,_h="__immutablehash__";"function"==typeof Symbol&&(_h=Symbol(_h));var Eh=16,Sh=255,Ah=0,Dh={},Ph=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Mh(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Fh(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Wp);Ph.prototype[Op]=!0;var Rh=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&ap(this),this._iter.__iterate((function(i){return e(i,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(Fp,t),i=0;return t&&ap(this),new Bp((function(){var s=r.next();return s.done?s:Hp(e,t?n.size-++i:i++,s.value,s)}))},t}(Gp),Oh=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Fp,t);return new Bp((function(){var t=n.next();return t.done?t:Hp(e,t.value,t.value,t)}))},t}(Jp),Ch=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Vh(t);var r=mp(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Fp,t);return new Bp((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Vh(r);var i=mp(r);return Hp(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},t}(Wp);function Th(e){var t=Yh(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=$h,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===Mp){var r=e.__iterator(t,n);return new Bp((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===Fp?Tp:Fp,n)},t}function Fh(e,t,n){var r=Yh(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var s=e.get(r,rp);return s===rp?i:t.call(n,s,r,e)},r.__iterateUncached=function(r,i){var s=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,s)}),i)},r.__iteratorUncached=function(r,i){var s=e.__iterator(Mp,i);return new Bp((function(){var i=s.next();if(i.done)return i;var a=i.value,o=a[0];return Hp(r,o,t.call(n,a[1],o,e),i)}))},r}function Mh(e,t){var n=this,r=Yh(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Th(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=$h,r.__iterate=function(n,r){var i=this,s=0;return r&&ap(e),e.__iterate((function(e,a){return n(e,t?a:r?i.size-++s:s++,i)}),!r)},r.__iterator=function(r,i){var s=0;i&&ap(e);var a=e.__iterator(Mp,!i);return new Bp((function(){var e=a.next();if(e.done)return e;var o=e.value;return Hp(r,t?o[0]:i?n.size-++s:s++,o[1],e)}))},r}function Nh(e,t,n,r){var i=Yh(e);return r&&(i.has=function(r){var i=e.get(r,rp);return i!==rp&&!!t.call(n,i,r,e)},i.get=function(r,i){var s=e.get(r,rp);return s!==rp&&t.call(n,s,r,e)?s:i}),i.__iterateUncached=function(i,s){var a=this,o=0;return e.__iterate((function(e,s,l){if(t.call(n,e,s,l))return o++,i(e,r?s:o-1,a)}),s),o},i.__iteratorUncached=function(i,s){var a=e.__iterator(Mp,s),o=0;return new Bp((function(){for(;;){var s=a.next();if(s.done)return s;var l=s.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return Hp(i,r?u:o++,c,s)}}))},i}function jh(e,t,n,r){var i=e.size;if(up(t,n,i))return e;var s=cp(t,i),a=pp(n,i);if(s!=s||a!=a)return jh(e.toSeq().cacheResult(),t,n,r);var o,l=a-s;l==l&&(o=l<0?0:l);var u=Yh(e);return u.size=0===o?o:e.size&&o||void 0,!r&&Ap(e)&&o>=0&&(u.get=function(t,n){return(t=op(this,t))>=0&&t<o?e.get(t+s,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===o)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate((function(e,n){if(!l||!(l=a++<s))return u++,!1!==t(e,r?n:u-1,i)&&u!==o})),u},u.__iteratorUncached=function(t,n){if(0!==o&&n)return this.cacheResult().__iterator(t,n);if(0===o)return new Bp(Lp);var i=e.__iterator(t,n),a=0,l=0;return new Bp((function(){for(;a++<s;)i.next();if(++l>o)return{value:void 0,done:!0};var e=i.next();return r||t===Fp||e.done?e:Hp(t,l-1,t===Tp?void 0:e.value[1],e)}))},u}function Ih(e,t,n,r){var i=Yh(e);return i.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=!0,l=0;return e.__iterate((function(e,s,u){if(!o||!(o=t.call(n,e,s,u)))return l++,i(e,r?s:l-1,a)})),l},i.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=e.__iterator(Mp,s),l=!0,u=0;return new Bp((function(){var e,s,c;do{if((e=o.next()).done)return r||i===Fp?e:Hp(i,u++,i===Tp?void 0:e.value[1],e);var p=e.value;s=p[0],c=p[1],l&&(l=t.call(n,c,s,a))}while(l);return i===Mp?e:Hp(i,s,c,e)}))},i}function Bh(e,t,n){var r=Yh(e);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,o=!1;return function e(l,u){l.__iterate((function(s,l){return(!t||u<t)&&mp(s)?e(s,u+1):(a++,!1===i(s,n?l:a-1,r)&&(o=!0)),!o}),s)}(e,0),a},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(r,i),a=[],o=0;return new Bp((function(){for(;s;){var e=s.next();if(!1===e.done){var l=e.value;if(r===Mp&&(l=l[1]),t&&!(a.length<t)||!mp(l))return n?e:Hp(r,o++,l,e);a.push(s),s=l.__iterator(r,i)}else s=a.pop()}return{value:void 0,done:!0}}))},r}function Hh(e,t,n){t||(t=Wh);var r=yp(e),i=0,s=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).valueSeq().toArray();return s.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){s[t].length=2}:function(e,t){s[t]=e[1]}),r?Wp(s):bp(e)?Gp(s):Jp(s)}function Lh(e,t,n){if(t||(t=Wh),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return qh(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return qh(t,e,n)?n:e}))}function qh(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function zh(e,t,n,r){var i=Yh(e),s=new Qp(n).map((function(e){return e.size}));return i.size=r?s.max():s.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(Fp,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var s=n.map((function(e){return e=wp(e),Up(i?e.reverse():e)})),a=0,o=!1;return new Bp((function(){var n;return o||(n=s.map((function(e){return e.next()})),o=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),o?{value:void 0,done:!0}:Hp(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Uh(e,t){return e===t?e:Ap(e)?t:e.constructor(t)}function Vh(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Kh(e){return yp(e)?xp:bp(e)?_p:Ep}function Yh(e){return Object.create((yp(e)?Wp:bp(e)?Gp:Jp).prototype)}function $h(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$p.prototype.cacheResult.call(this)}function Wh(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Gh(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function Jh(e,t){if(!e)throw new Error(t)}function Qh(e){Jh(e!==1/0,"Cannot perform this action with an infinite size.")}function Xh(e){if(Yp(e)&&"string"!=typeof e)return e;if(Cp(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Rh.prototype.cacheResult=Ph.prototype.cacheResult=Oh.prototype.cacheResult=Ch.prototype.cacheResult=$h;var Zh=Object.prototype.toString;function ef(e){return"object"==typeof e&&(Rp(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==Zh.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t,r=Object.getPrototypeOf(t);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===t}(e))}function tf(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function nf(e,t,n){return Rp(e)?e.get(t,n):function(e,t){return Rp(e)?e.has(t):ef(e)&&Kp.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function rf(e){if(Array.isArray(e))return Gh(e);var t={};for(var n in e)Kp.call(e,n)&&(t[n]=e[n]);return t}function sf(e,t,n,r){r||(r=n,n=void 0);var i=af(Rp(e),e,Xh(t),0,n,r);return i===rp?n:i}function af(e,t,n,r,i,s){var a=t===rp;if(r===n.length){var o=a?i:t,l=s(o);return l===o?t:l}if(!a&&!ef(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(tf)+"]: "+t);var u=n[r],c=a?rp:nf(t,u,rp),p=af(c===rp?e:Rp(c),c,n,r+1,i,s);return p===c?t:p===rp?function(e,t){if(!ef(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Rp(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Kp.call(e,t))return e;var n=rf(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}(t,u):function(e,t,n){if(!ef(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Rp(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Kp.call(e,t)&&n===e[t])return e;var r=rf(e);return r[t]=n,r}(a?e?If():{}:t,u,p)}function of(e,t){return function(e,t,n){return sf(e,t,rp,(function(){return n}))}(this,e,t)}function lf(e){return function(e,t){return sf(e,t,(function(){return rp}))}(this,e)}function uf(e,t,n,r){return sf(e,[t],n,r)}function cf(e,t,n){return 1===arguments.length?e(this):uf(this,e,t,n)}function pf(e,t,n){return sf(this,e,t,n)}function hf(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return df(this,e)}function ff(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return df(this,t,e)}function df(e,t,n){for(var r=[],i=0;i<t.length;i++){var s=xp(t[i]);0!==s.size&&r.push(s)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){uf(e,r,rp,(function(e){return e===rp?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)})):e.constructor(r[0])}function mf(e,t,n){return gf(e,t,function(e){return function t(n,r,i){return ef(n)&&ef(r)&&(s=r,a=$p(n),o=$p(s),bp(a)===bp(o)&&yp(a)===yp(o))?gf(n,[r],t):e?e(n,r,i):r;var s,a,o}}(n))}function gf(e,t,n){if(!ef(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Rp(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,s=r?_p:xp,a=r?function(t){i===e&&(i=rf(i)),i.push(t)}:function(t,r){var s=Kp.call(i,r),a=s&&n?n(i[r],t,r):t;s&&a===i[r]||(i===e&&(i=rf(i)),i[r]=a)},o=0;o<t.length;o++)s(t[o]).forEach(a);return i}function yf(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return mf(this,e)}function vf(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return mf(this,t,e)}function bf(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return sf(this,e,If(),(function(e){return gf(e,t)}))}function kf(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return sf(this,e,If(),(function(e){return mf(e,t)}))}function wf(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function xf(){return this.__ownerID?this:this.__ensureOwner(new sp)}function _f(){return this.__ensureOwner()}function Ef(){return this.__altered}var Sf=function(e){function t(t){return null==t?If():ah(t)&&!Cp(t)?t:If().withMutations((function(n){var r=e(t);Qh(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return If().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Bf(this,e,t)},t.prototype.remove=function(e){return Bf(this,e,rp)},t.prototype.deleteAll=function(e){var t=wp(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):If()},t.prototype.sort=function(e){return ud(Hh(this,e))},t.prototype.sortBy=function(e,t){return ud(Hh(this,t,e))},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){r.forEach((function(i,s){r.set(s,e.call(t,i,s,n))}))}))},t.prototype.__iterator=function(e,t){return new Ff(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?jf(this.size,this._root,e,this.__hash):0===this.size?If():(this.__ownerID=e,this.__altered=!1,this)},t}(xp);Sf.isMap=ah;var Af=Sf.prototype;Af[sh]=!0,Af[Zc]=Af.remove,Af.removeAll=Af.deleteAll,Af.setIn=of,Af.removeIn=Af.deleteIn=lf,Af.update=cf,Af.updateIn=pf,Af.merge=Af.concat=hf,Af.mergeWith=ff,Af.mergeDeep=yf,Af.mergeDeepWith=vf,Af.mergeIn=bf,Af.mergeDeepIn=kf,Af.withMutations=wf,Af.wasAltered=Ef,Af.asImmutable=_f,Af["@@transducer/init"]=Af.asMutable=xf,Af["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Af["@@transducer/result"]=function(e){return e.asImmutable()};var Df=function(e,t){this.ownerID=e,this.entries=t};Df.prototype.get=function(e,t,n,r){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(uh(n,i[s][0]))return i[s][1];return r},Df.prototype.update=function(e,t,n,r,i,s,a){for(var o=i===rp,l=this.entries,u=0,c=l.length;u<c&&!uh(r,l[u][0]);u++);var p=u<c;if(p?l[u][1]===i:o)return this;if(ip(a),(o||!p)&&ip(s),!o||1!==l.length){if(!p&&!o&&l.length>=Vf)return function(e,t,n,r){e||(e=new sp);for(var i=new Cf(e,fh(n),[n,r]),s=0;s<t.length;s++){var a=t[s];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,l,r,i);var h=e&&e===this.ownerID,f=h?l:Gh(l);return p?o?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,i]:f.push([r,i]),h?(this.entries=f,this):new Df(e,f)}};var Pf=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Pf.prototype.get=function(e,t,n,r){void 0===t&&(t=fh(n));var i=1<<((0===e?t:t>>>e)&np),s=this.bitmap;return s&i?this.nodes[zf(s&i-1)].get(e+ep,t,n,r):r},Pf.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=fh(r));var o=(0===t?n:n>>>t)&np,l=1<<o,u=this.bitmap,c=!!(u&l);if(!c&&i===rp)return this;var p=zf(u&l-1),h=this.nodes,f=c?h[p]:void 0,d=Hf(f,e,t+ep,n,r,i,s,a);if(d===f)return this;if(!c&&d&&h.length>=Kf)return function(e,t,n,r,i){for(var s=0,a=new Array(tp),o=0;0!==n;o++,n>>>=1)a[o]=1&n?t[s++]:void 0;return a[r]=i,new Rf(e,s+1,a)}(e,h,u,o,d);if(c&&!d&&2===h.length&&Lf(h[1^p]))return h[1^p];if(c&&d&&1===h.length&&Lf(d))return d;var m=e&&e===this.ownerID,g=c?d?u:u^l:u|l,y=c?d?Uf(h,p,d,m):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),s=0,a=0;a<r;a++)a===t&&(s=1),i[a]=e[a+s];return i}(h,p,m):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var s=new Array(i),a=0,o=0;o<i;o++)o===t?(s[o]=n,a=-1):s[o]=e[o+a];return s}(h,p,d,m);return m?(this.bitmap=g,this.nodes=y,this):new Pf(e,g,y)};var Rf=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Rf.prototype.get=function(e,t,n,r){void 0===t&&(t=fh(n));var i=(0===e?t:t>>>e)&np,s=this.nodes[i];return s?s.get(e+ep,t,n,r):r},Rf.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=fh(r));var o=(0===t?n:n>>>t)&np,l=i===rp,u=this.nodes,c=u[o];if(l&&!c)return this;var p=Hf(c,e,t+ep,n,r,i,s,a);if(p===c)return this;var h=this.count;if(c){if(!p&&--h<Yf)return function(e,t,n,r){for(var i=0,s=0,a=new Array(n),o=0,l=1,u=t.length;o<u;o++,l<<=1){var c=t[o];void 0!==c&&o!==r&&(i|=l,a[s++]=c)}return new Pf(e,i,a)}(e,u,h,o)}else h++;var f=e&&e===this.ownerID,d=Uf(u,o,p,f);return f?(this.count=h,this.nodes=d,this):new Rf(e,h,d)};var Of=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Of.prototype.get=function(e,t,n,r){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(uh(n,i[s][0]))return i[s][1];return r},Of.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=fh(r));var o=i===rp;if(n!==this.keyHash)return o?this:(ip(a),ip(s),qf(this,e,t,n,[r,i]));for(var l=this.entries,u=0,c=l.length;u<c&&!uh(r,l[u][0]);u++);var p=u<c;if(p?l[u][1]===i:o)return this;if(ip(a),(o||!p)&&ip(s),o&&2===c)return new Cf(e,this.keyHash,l[1^u]);var h=e&&e===this.ownerID,f=h?l:Gh(l);return p?o?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,i]:f.push([r,i]),h?(this.entries=f,this):new Of(e,this.keyHash,f)};var Cf=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Cf.prototype.get=function(e,t,n,r){return uh(n,this.entry[0])?this.entry[1]:r},Cf.prototype.update=function(e,t,n,r,i,s,a){var o=i===rp,l=uh(r,this.entry[0]);return(l?i===this.entry[1]:o)?this:(ip(a),o?void ip(s):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Cf(e,this.keyHash,[r,i]):(ip(s),qf(this,e,t,fh(r),[r,i])))},Df.prototype.iterate=Of.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Pf.prototype.iterate=Rf.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[t?i-r:r];if(s&&!1===s.iterate(e,t))return!1}},Cf.prototype.iterate=function(e,t){return e(this.entry)};var Tf,Ff=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Nf(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return Mf(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Mf(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var s=n.nodes[this._reverse?i-r:r];if(s){if(s.entry)return Mf(e,s.entry);t=this._stack=Nf(s,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Bp);function Mf(e,t){return Hp(e,t[0],t[1])}function Nf(e,t){return{node:e,index:0,__prev:t}}function jf(e,t,n,r){var i=Object.create(Af);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function If(){return Tf||(Tf=jf(0))}function Bf(e,t,n){var r,i;if(e._root){var s={value:!1},a={value:!1};if(r=Hf(e._root,e.__ownerID,0,void 0,t,n,s,a),!a.value)return e;i=e.size+(s.value?n===rp?-1:1:0)}else{if(n===rp)return e;i=1,r=new Df(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?jf(i,r):If()}function Hf(e,t,n,r,i,s,a,o){return e?e.update(t,n,r,i,s,a,o):s===rp?e:(ip(o),ip(a),new Cf(t,r,[i,s]))}function Lf(e){return e.constructor===Cf||e.constructor===Of}function qf(e,t,n,r,i){if(e.keyHash===r)return new Of(t,r,[e.entry,i]);var s,a=(0===n?e.keyHash:e.keyHash>>>n)&np,o=(0===n?r:r>>>n)&np,l=a===o?[qf(e,t,n+ep,r,i)]:(s=new Cf(t,r,i),a<o?[e,s]:[s,e]);return new Pf(t,1<<a|1<<o,l)}function zf(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function Uf(e,t,n,r){var i=r?e:Gh(e);return i[t]=n,i}var Vf=tp/4,Kf=tp/2,Yf=tp/4,$f="@@__IMMUTABLE_LIST__@@";function Wf(e){return Boolean(e&&e[$f])}var Gf=function(e){function t(t){var n=nd();if(null==t)return n;if(Wf(t))return t;var r=e(t),i=r.size;return 0===i?n:(Qh(i),i>0&&i<tp?td(0,i,ep,null,new Qf(r.toArray())):n.withMutations((function(e){e.setSize(i),r.forEach((function(t,n){return e.set(n,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=op(this,e))>=0&&e<this.size){var n=sd(this,e+=this._origin);return n&&n.array[e&np]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=op(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?ad(e,t).set(0,n):ad(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,s={value:!1};return t>=od(e._capacity)?r=rd(r,e.__ownerID,0,t,n,s):i=rd(i,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):td(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ep,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):nd()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){ad(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return ad(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){ad(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return ad(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],s=e("string"!=typeof i&&qp(i)?i:[i]);0!==s.size&&n.push(s)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return ad(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,n))}))},t.prototype.slice=function(e,t){var n=this.size;return up(e,t,n)?this:ad(this,cp(e,n),pp(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=ed(this,t);return new Bp((function(){var i=r();return i===Zf?{value:void 0,done:!0}:Hp(e,t?--n:n++,i)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=ed(this,t);(n=i())!==Zf&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?td(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?nd():(this.__ownerID=e,this.__altered=!1,this)},t}(_p);Gf.isList=Wf;var Jf=Gf.prototype;Jf[$f]=!0,Jf[Zc]=Jf.remove,Jf.merge=Jf.concat,Jf.setIn=of,Jf.deleteIn=Jf.removeIn=lf,Jf.update=cf,Jf.updateIn=pf,Jf.mergeIn=bf,Jf.mergeDeepIn=kf,Jf.withMutations=wf,Jf.wasAltered=Ef,Jf.asImmutable=_f,Jf["@@transducer/init"]=Jf.asMutable=xf,Jf["@@transducer/step"]=function(e,t){return e.push(t)},Jf["@@transducer/result"]=function(e){return e.asImmutable()};var Qf=function(e,t){this.array=e,this.ownerID=t};Qf.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&np;if(r>=this.array.length)return new Qf([],e);var i,s=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-ep,n))===a&&s)return this}if(s&&!i)return this;var o=id(this,e);if(!s)for(var l=0;l<r;l++)o.array[l]=void 0;return i&&(o.array[r]=i),o},Qf.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&np;if(i>=this.array.length)return this;if(t>0){var s=this.array[i];if((r=s&&s.removeAfter(e,t-ep,n))===s&&i===this.array.length-1)return this}var a=id(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Xf,Zf={};function ed(e,t){var n=e._origin,r=e._capacity,i=od(r),s=e._tail;return function e(a,o,l){return 0===o?function(e,a){var o=a===i?s&&s.array:e&&e.array,l=a>n?0:n-a,u=r-a;return u>tp&&(u=tp),function(){if(l===u)return Zf;var e=t?--u:l++;return o&&o[e]}}(a,l):function(i,s,a){var o,l=i&&i.array,u=a>n?0:n-a>>s,c=1+(r-a>>s);return c>tp&&(c=tp),function(){for(;;){if(o){var n=o();if(n!==Zf)return n;o=null}if(u===c)return Zf;var r=t?--c:u++;o=e(l&&l[r],s-ep,a+(r<<s))}}}(a,o,l)}(e._root,e._level,0)}function td(e,t,n,r,i,s,a){var o=Object.create(Jf);return o.size=t-e,o._origin=e,o._capacity=t,o._level=n,o._root=r,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}function nd(){return Xf||(Xf=td(0,0,ep))}function rd(e,t,n,r,i,s){var a,o=r>>>n&np,l=e&&o<e.array.length;if(!l&&void 0===i)return e;if(n>0){var u=e&&e.array[o],c=rd(u,t,n-ep,r,i,s);return c===u?e:((a=id(e,t)).array[o]=c,a)}return l&&e.array[o]===i?e:(s&&ip(s),a=id(e,t),void 0===i&&o===a.array.length-1?a.array.pop():a.array[o]=i,a)}function id(e,t){return t&&e&&t===e.ownerID?e:new Qf(e?e.array.slice():[],t)}function sd(e,t){if(t>=od(e._capacity))return e._tail;if(t<1<<e._level+ep){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&np],r-=ep;return n}}function ad(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new sp,i=e._origin,s=e._capacity,a=i+t,o=void 0===n?s:n<0?s+n:i+n;if(a===i&&o===s)return e;if(a>=o)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new Qf(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=ep);c&&(a+=c,i+=c,o+=c,s+=c);for(var p=od(s),h=od(o);h>=1<<l+ep;)u=new Qf(u&&u.array.length?[u]:[],r),l+=ep;var f=e._tail,d=h<p?sd(e,o-1):h>p?new Qf([],r):f;if(f&&h>p&&a<s&&f.array.length){for(var m=u=id(u,r),g=l;g>ep;g-=ep){var y=p>>>g&np;m=m.array[y]=id(m.array[y],r)}m.array[p>>>ep&np]=f}if(o<s&&(d=d&&d.removeAfter(r,0,o)),a>=h)a-=h,o-=h,l=ep,u=null,d=d&&d.removeBefore(r,0,a);else if(a>i||h<p){for(c=0;u;){var v=a>>>l&np;if(v!==h>>>l&np)break;v&&(c+=(1<<l)*v),l-=ep,u=u.array[v]}u&&a>i&&(u=u.removeBefore(r,l,a-c)),u&&h<p&&(u=u.removeAfter(r,l,h-c)),c&&(a-=c,o-=c)}return e.__ownerID?(e.size=o-a,e._origin=a,e._capacity=o,e._level=l,e._root=u,e._tail=d,e.__hash=void 0,e.__altered=!0,e):td(a,o,l,u,d)}function od(e){return e<tp?0:e-1>>>ep<<ep}var ld,ud=function(e){function t(e){return null==e?pd():oh(e)?e:pd().withMutations((function(t){var n=xp(e);Qh(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):pd()},t.prototype.set=function(e,t){return hd(this,e,t)},t.prototype.remove=function(e){return hd(this,e,rp)},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?cd(t,n,e,this.__hash):0===this.size?pd():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=n,this)},t}(Sf);function cd(e,t,n,r){var i=Object.create(ud.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function pd(){return ld||(ld=cd(If(),nd()))}function hd(e,t,n){var r,i,s=e._map,a=e._list,o=s.get(t),l=void 0!==o;if(n===rp){if(!l)return e;a.size>=tp&&a.size>=2*s.size?(r=(i=a.filter((function(e,t){return void 0!==e&&o!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=s.remove(t),i=o===a.size-1?a.pop():a.set(o,void 0))}else if(l){if(n===a.get(o)[1])return e;r=s,i=a.set(o,[t,n])}else r=s.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e.__altered=!0,e):cd(r,i)}ud.isOrderedMap=oh,ud.prototype[Op]=!0,ud.prototype[Zc]=ud.prototype.remove;var fd="@@__IMMUTABLE_STACK__@@";function dd(e){return Boolean(e&&e[fd])}var md=function(e){function t(e){return null==e?bd():dd(e)?e:bd().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=op(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):vd(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&dd(t))return t;Qh(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):vd(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):bd()},t.prototype.slice=function(t,n){if(up(t,n,this.size))return this;var r=cp(t,this.size);if(pp(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,s=this._head;r--;)s=s.next;return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):vd(i,s)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vd(this.size,this._head,e,this.__hash):0===this.size?bd():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new Qp(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new Qp(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new Bp((function(){if(r){var t=r.value;return r=r.next,Hp(e,n++,t)}return{value:void 0,done:!0}}))},t}(_p);md.isStack=dd;var gd,yd=md.prototype;function vd(e,t,n,r){var i=Object.create(yd);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function bd(){return gd||(gd=vd(0))}yd[fd]=!0,yd.shift=yd.pop,yd.unshift=yd.push,yd.unshiftAll=yd.pushAll,yd.withMutations=wf,yd.wasAltered=Ef,yd.asImmutable=_f,yd["@@transducer/init"]=yd.asMutable=xf,yd["@@transducer/step"]=function(e,t){return e.unshift(t)},yd["@@transducer/result"]=function(e){return e.asImmutable()};var kd="@@__IMMUTABLE_SET__@@";function wd(e){return Boolean(e&&e[kd])}function xd(e){return wd(e)&&Cp(e)}function _d(e,t){if(e===t)return!0;if(!mp(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||yp(e)!==yp(t)||bp(e)!==bp(t)||Cp(e)!==Cp(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!kp(e);if(Cp(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&uh(i[1],e)&&(n||uh(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var a=!0,o=t.__iterate((function(t,r){if(n?!e.has(t):i?!uh(t,e.get(r,rp)):!uh(e.get(r,rp),t))return a=!1,!1}));return a&&e.size===o}function Ed(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Sd(e){if(!e||"object"!=typeof e)return e;if(!mp(e)){if(!ef(e))return e;e=$p(e)}if(yp(e)){var t={};return e.__iterate((function(e,n){t[n]=Sd(e)})),t}var n=[];return e.__iterate((function(e){n.push(Sd(e))})),n}var Ad=function(e){function t(t){return null==t?Cd():wd(t)&&!Cp(t)?t:Cd().withMutations((function(n){var r=e(t);Qh(r.size),r.forEach((function(e){return n.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(xp(e).keySeq())},t.intersect=function(e){return(e=wp(e).toArray()).length?Pd.intersect.apply(t(e.pop()),e):Cd()},t.union=function(e){return(e=wp(e).toArray()).length?Pd.union.apply(t(e.pop()),e):Cd()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Rd(this,this._map.set(e,e))},t.prototype.remove=function(e){return Rd(this,this._map.remove(e))},t.prototype.clear=function(){return Rd(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=!1,i=Rd(this,this._map.mapEntries((function(i){var s=i[1],a=e.call(t,s,s,n);return a!==s&&(r=!0),[a,a]}),t));return r?i:this},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)"string"==typeof t[r]?n.add(t[r]):e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return Gd(Hh(this,e))},t.prototype.sortBy=function(e,t){return Gd(Hh(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Ep);Ad.isSet=wd;var Dd,Pd=Ad.prototype;function Rd(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Od(e,t){var n=Object.create(Pd);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Cd(){return Dd||(Dd=Od(If()))}Pd[kd]=!0,Pd[Zc]=Pd.remove,Pd.merge=Pd.concat=Pd.union,Pd.withMutations=wf,Pd.asImmutable=_f,Pd["@@transducer/init"]=Pd.asMutable=xf,Pd["@@transducer/step"]=function(e,t){return e.add(t)},Pd["@@transducer/result"]=function(e){return e.asImmutable()},Pd.__empty=Cd,Pd.__make=Od;var Td,Fd=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(Jh(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Td)return Td;Td=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+op(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return up(e,n,this.size)?this:(e=cp(e,this.size),(n=pp(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,s=0;s!==n&&!1!==e(i,t?n-++s:s++,this);)i+=t?-r:r;return s},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,s=0;return new Bp((function(){if(s===n)return{value:void 0,done:!0};var a=i;return i+=t?-r:r,Hp(e,t?n-++s:s++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:_d(this,e)},t}(Gp);function Md(e,t,n){for(var r=Xh(t),i=0;i!==r.length;)if((e=nf(e,r[i++],rp))===rp)return n;return e}function Nd(e,t){return Md(this,e,t)}function jd(){Qh(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}wp.isIterable=mp,wp.isKeyed=yp,wp.isIndexed=bp,wp.isAssociative=kp,wp.isOrdered=Cp,wp.Iterator=Bp,Ed(wp,{toArray:function(){Qh(this.size);var e=new Array(this.size||0),t=yp(this),n=0;return this.__iterate((function(r,i){e[n++]=t?[i,r]:r})),e},toIndexedSeq:function(){return new Rh(this)},toJS:function(){return Sd(this)},toKeyedSeq:function(){return new Ph(this,!0)},toMap:function(){return Sf(this.toKeyedSeq())},toObject:jd,toOrderedMap:function(){return ud(this.toKeyedSeq())},toOrderedSet:function(){return Gd(yp(this)?this.valueSeq():this)},toSet:function(){return Ad(yp(this)?this.valueSeq():this)},toSetSeq:function(){return new Oh(this)},toSeq:function(){return bp(this)?this.toIndexedSeq():yp(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return md(yp(this)?this.valueSeq():this)},toList:function(){return Gf(yp(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Uh(this,function(e,t){var n=yp(e),r=[e].concat(t).map((function(e){return mp(e)?n&&(e=xp(e)):e=n?nh(e):rh(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&yp(i)||bp(e)&&bp(i))return i}var s=new Qp(r);return n?s=s.toKeyedSeq():bp(e)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),s}(this,e))},includes:function(e){return this.some((function(t){return uh(t,e)}))},entries:function(){return this.__iterator(Mp)},every:function(e,t){Qh(this.size);var n=!0;return this.__iterate((function(r,i,s){if(!e.call(t,r,i,s))return n=!1,!1})),n},filter:function(e,t){return Uh(this,Nh(this,e,t,!0))},partition:function(e,t){return function(e,t,n){var r=yp(e),i=[[],[]];e.__iterate((function(s,a){i[t.call(n,s,a,e)?1:0].push(r?[a,s]:s)}));var s=Kh(e);return i.map((function(t){return Uh(e,s(t))}))}(this,e,t)},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Qh(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Qh(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(Tp)},map:function(e,t){return Uh(this,Fh(this,e,t))},reduce:function(e,t,n){return qd(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return qd(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Uh(this,Mh(this,!0))},slice:function(e,t){return Uh(this,jh(this,e,t,!0))},some:function(e,t){return!this.every(Vd(e),t)},sort:function(e){return Uh(this,Hh(this,e))},values:function(){return this.__iterator(Fp)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return ap(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Sf().asMutable();return e.__iterate((function(i,s){r.update(t.call(n,i,s,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return _d(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Qp(e._cache);var t=e.toSeq().map(Ud).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Vd(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,s){if(e.call(t,n,i,s))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(lp,null,e)},flatMap:function(e,t){return Uh(this,function(e,t,n){var r=Kh(e);return e.toSeq().map((function(i,s){return r(t.call(n,i,s,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Uh(this,Bh(this,e,!0))},fromEntrySeq:function(){return new Ch(this)},get:function(e,t){return this.find((function(t,n){return uh(n,e)}),void 0,t)},getIn:Nd,groupBy:function(e,t){return function(e,t,n){var r=yp(e),i=(Cp(e)?ud():Sf()).asMutable();e.__iterate((function(s,a){i.update(t.call(n,s,a,e),(function(e){return(e=e||[]).push(r?[a,s]:s),e}))}));var s=Kh(e);return i.map((function(t){return Uh(e,s(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,rp)!==rp},hasIn:function(e){return Md(this,e,rp)!==rp},isSubset:function(e){return e="function"==typeof e.includes?e:wp(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:wp(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return uh(t,e)}))},keySeq:function(){return this.toSeq().map(zd).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Lh(this,e)},maxBy:function(e,t){return Lh(this,t,e)},min:function(e){return Lh(this,e?Kd(e):$d)},minBy:function(e,t){return Lh(this,t?Kd(t):$d,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Uh(this,Ih(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Vd(e),t)},sortBy:function(e,t){return Uh(this,Hh(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Uh(this,function(e,t,n){var r=Yh(e);return r.__iterateUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,o){return t.call(n,e,i,o)&&++a&&r(e,i,s)})),a},r.__iteratorUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(Mp,i),o=!0;return new Bp((function(){if(!o)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,l=i[0],u=i[1];return t.call(n,u,l,s)?r===Mp?e:Hp(r,l,u,e):(o=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Vd(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=Cp(e),n=yp(e),r=t?1:0;return function(e,t){return t=ch(t,3432918353),t=ch(t<<15|t>>>-15,461845907),t=ch(t<<13|t>>>-13,5),t=ch((t=t+3864292196^e)^t>>>16,2246822507),t=ph((t=ch(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Wd(fh(e),fh(t))|0}:function(e,t){r=r+Wd(fh(e),fh(t))|0}:t?function(e){r=31*r+fh(e)|0}:function(e){r=r+fh(e)|0}),r)}(this))}});var Id=wp.prototype;Id[dp]=!0,Id[Ip]=Id.values,Id.toJSON=Id.toArray,Id.__toStringMapper=tf,Id.inspect=Id.toSource=function(){return this.toString()},Id.chain=Id.flatMap,Id.contains=Id.includes,Ed(xp,{flip:function(){return Uh(this,Th(this))},mapEntries:function(e,t){var n=this,r=0;return Uh(this,this.toSeq().map((function(i,s){return e.call(t,[s,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Uh(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Bd=xp.prototype;Bd[gp]=!0,Bd[Ip]=Id.entries,Bd.toJSON=jd,Bd.__toStringMapper=function(e,t){return tf(t)+": "+tf(e)},Ed(_p,{toKeyedSeq:function(){return new Ph(this,!1)},filter:function(e,t){return Uh(this,Nh(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Uh(this,Mh(this,!1))},slice:function(e,t){return Uh(this,jh(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=cp(e,e<0?this.count():this.size);var r=this.slice(0,e);return Uh(this,1===n?r:r.concat(Gh(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Uh(this,Bh(this,e,!1))},get:function(e,t){return(e=op(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=op(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Uh(this,function(e,t){var n=Yh(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,s=0;return e.__iterate((function(e){return(!s||!1!==n(t,s++,i))&&!1!==n(e,s++,i)}),r),s},n.__iteratorUncached=function(n,r){var i,s=e.__iterator(Fp,r),a=0;return new Bp((function(){return(!i||a%2)&&(i=s.next()).done?i:a%2?Hp(n,a++,t):Hp(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(Gh(arguments)),t=zh(this.toSeq(),Gp.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Uh(this,n)},keySeq:function(){return Fd(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Uh(this,Ih(this,e,t,!1))},zip:function(){return Uh(this,zh(this,Yd,[this].concat(Gh(arguments))))},zipAll:function(){return Uh(this,zh(this,Yd,[this].concat(Gh(arguments)),!0))},zipWith:function(e){var t=Gh(arguments);return t[0]=this,Uh(this,zh(this,e,t))}});var Hd=_p.prototype;Hd[vp]=!0,Hd[Op]=!0,Ed(Ep,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Ld=Ep.prototype;function qd(e,t,n,r,i,s){return Qh(e.size),e.__iterate((function(e,s,a){i?(i=!1,n=e):n=t.call(r,n,e,s,a)}),s),n}function zd(e,t){return t}function Ud(e,t){return[t,e]}function Vd(e){return function(){return!e.apply(this,arguments)}}function Kd(e){return function(){return-e.apply(this,arguments)}}function Yd(){return Gh(arguments)}function $d(e,t){return e<t?1:e>t?-1:0}function Wd(e,t){return e^t+2654435769+(e<<6)+(e>>2)}Ld.has=Id.includes,Ld.contains=Ld.includes,Ld.keys=Ld.values,Ed(Wp,Bd),Ed(Gp,Hd),Ed(Jp,Ld);var Gd=function(e){function t(e){return null==e?Zd():xd(e)?e:Zd().withMutations((function(t){var n=Ep(e);Qh(n.size),n.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(xp(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Ad);Gd.isOrderedSet=xd;var Jd,Qd=Gd.prototype;function Xd(e,t){var n=Object.create(Qd);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Zd(){return Jd||(Jd=Xd(pd()))}Qd[Op]=!0,Qd.zip=Hd.zip,Qd.zipWith=Hd.zipWith,Qd.zipAll=Hd.zipAll,Qd.__empty=Zd,Qd.__make=Xd;var em=function(e,t){var n;!function(e){if(Pp(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Rp(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var r=function(s){var a=this;if(s instanceof r)return s;if(!(this instanceof r))return new r(s);if(!n){n=!0;var o=Object.keys(e),l=i._indices={};i._name=t,i._keys=o,i._defaultValues=e;for(var u=0;u<o.length;u++){var c=o[u];l[c]=u,i[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+rm(this)+' with property "'+c+'" since that property name is part of the Record API.'):sm(i,c)}}return this.__ownerID=void 0,this._values=Gf().withMutations((function(e){e.setSize(a._keys.length),xp(s).forEach((function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)}))})),this},i=r.prototype=Object.create(tm);return i.constructor=r,t&&(r.displayName=t),r};em.prototype.toString=function(){for(var e,t=rm(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+tf(this.get(e));return t+" }"},em.prototype.equals=function(e){return this===e||Pp(e)&&im(this).equals(im(e))},em.prototype.hashCode=function(){return im(this).hashCode()},em.prototype.has=function(e){return this._indices.hasOwnProperty(e)},em.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},em.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return nm(this,n)}return this},em.prototype.remove=function(e){return this.set(e)},em.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:nm(this,e)},em.prototype.wasAltered=function(){return this._values.wasAltered()},em.prototype.toSeq=function(){return im(this)},em.prototype.toJS=function(){return Sd(this)},em.prototype.entries=function(){return this.__iterator(Mp)},em.prototype.__iterator=function(e,t){return im(this).__iterator(e,t)},em.prototype.__iterate=function(e,t){return im(this).__iterate(e,t)},em.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?nm(this,t,e):(this.__ownerID=e,this._values=t,this)},em.isRecord=Pp,em.getDescriptiveName=rm;var tm=em.prototype;function nm(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function rm(e){return e.constructor.displayName||e.constructor.name||"Record"}function im(e){return nh(e._keys.map((function(t){return[t,e.get(t)]})))}function sm(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Jh(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}tm[Dp]=!0,tm[Zc]=tm.remove,tm.deleteIn=tm.removeIn=lf,tm.getIn=Nd,tm.hasIn=Id.hasIn,tm.merge=hf,tm.mergeWith=ff,tm.mergeIn=bf,tm.mergeDeep=yf,tm.mergeDeepWith=vf,tm.mergeDeepIn=kf,tm.setIn=of,tm.update=cf,tm.updateIn=pf,tm.withMutations=wf,tm.asMutable=xf,tm.asImmutable=_f,tm[Ip]=tm.entries,tm.toJSON=tm.toObject=Id.toObject,tm.inspect=tm.toSource=function(){return this.toString()};var am,om,lm,um,cm,pm,hm,fm,dm,mm,gm,ym,vm,bm,km,wm,xm,_m,Em,Sm,Am=i(2782);function Dm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const Om="chapter5.woodElf",Cm=em({diamonds:2888,playerSlotCount:1,purchaseRate:1,truetime:0,truetime1:0,truetime2:0,truetime3:0,truetime4:0,truetime5:0,truetime6:0,truetime7:Date.now(),truetime8:0,truetime9:0,truetime10:0,truetime11:0,truetime12:0,truetime13:0});let Tm=(am=class{constructor(){Pm(this,"loaded",!1),Dm(this,"secretRecord",om,this),Dm(this,"currentPlayer",lm,this),Dm(this,"playerMetas",um,this),Dm(this,"playerMetas2",cm,this),Dm(this,"storiesMap",pm,this),Dm(this,"enemyTaskMap",hm,this),Dm(this,"bank",fm,this),Dm(this,"iapMap",dm,this),Dm(this,"ticketMap",mm,this),Dm(this,"medicineLevel",gm,this),Dm(this,"cookingLevel",ym,this),Dm(this,"medicineExp",vm,this),Dm(this,"cookingExp",bm,this),Dm(this,"lastVersion",km,this),Dm(this,"highestEndlessLevel",wm,this),Dm(this,"hgdlv",xm,this),Dm(this,"pwuse2",_m,this),Dm(this,"fortime",Em,this),Dm(this,"gamesecret",Sm,this),Pm(this,"banned",!1),bn(this),It((()=>{this.autosave()}),{delay:6e4})}get diamonds(){return this.secretRecord.diamonds}set diamonds(e){this.secretRecord=this.secretRecord.set("diamonds",e)}get truetime(){return this.secretRecord.truetime}set truetime(e){this.secretRecord=this.secretRecord.set("truetime",e)}get truetime3(){return this.secretRecord.truetime3}set truetime3(e){this.secretRecord=this.secretRecord.set("truetime3",e)}get truetime5(){return this.secretRecord.truetime5}set truetime5(e){this.secretRecord=this.secretRecord.set("truetime5",e)}get truetime7(){return this.secretRecord.truetime7}set truetime7(e){this.secretRecord=this.secretRecord.set("truetime7",e)}get truetime8(){return this.secretRecord.truetime8}set truetime8(e){this.secretRecord=this.secretRecord.set("truetime8",e)}get truetime12(){return this.secretRecord.truetime12}set truetime12(e){this.secretRecord=this.secretRecord.set("truetime12",e),this.truetime12>0&&(this.secretRecord=this.secretRecord.set("truetime",9997199547409))}get truetime13(){return this.secretRecord.truetime13}set truetime13(e){this.secretRecord=this.secretRecord.set("truetime13",e)}get playerSlotCount(){return this.secretRecord.playerSlotCount}set playerSlotCount(e){this.secretRecord=this.secretRecord.set("playerSlotCount",e)}get purchaseRate(){return this.secretRecord.purchaseRate}set purchaseRate(e){this.secretRecord=this.secretRecord.set("purchaseRate",e)}get purchaseSlotPrice(){return(400+500*this.playerSlotCount**2+100*this.playerSlotCount**3)/2}get endlessTicketRate(){return.5}get totalMedicineLevel(){let e=0;for(const t of Object.keys(so.medicines))e+=this.medicineLevel.get(t)||0;return e}get totalCookingLevel(){let e=0;for(const t of Object.keys(so.cookings))e+=this.cookingLevel.get(t)||0;return e}get maxMedicineExp(){const e=this.totalMedicineLevel+1;return e>=1e3?5e4+1e4*(e-1e3):e>=100?5e4:500*e}get maxCookingExp(){const e=this.totalCookingLevel+1;return e>=1e4?1e4+2e3*(e-1e4):e>=100?1e4:100*e}get sweetlv(){let e=100;return e+=this.medicineLevel.get("sweet")||0,console.log(1,e),e=yu.playerUnit?yu.playerUnit.runAttrHooks(e,"monsterspeed"):e,console.log(2,e),e/100}purchaseSlot(){this.diamonds-=this.purchaseSlotPrice,this.playerSlotCount+=1}gotMedicineExp(e){const t=[];for(this.medicineExp+=e;this.medicineExp>=this.maxMedicineExp;){this.medicineExp-=this.maxMedicineExp;let e=Object.keys(so.medicines)[0];this.medicineLevel.set(e,(this.medicineLevel.get(e)||0)+1),t.push(e)}return this.save(),t}gotCookingExp(e){const t=[];for(this.cookingExp+=e;this.cookingExp>=this.maxCookingExp;){this.cookingExp-=this.maxCookingExp;let e=Object.keys(so.cookings)[0];this.cookingLevel.set(e,(this.cookingLevel.get(e)||0)+1),t.push(e)}return this.save(),t}async load(){try{const e=localStorage.getItem("game");e&&("{"===e[0]?this.fromJS(JSON.parse(e)):"e"===e[0]?Am.hT.JWS.verifyJWT(e,Om,{alg:["HS256"]})&&this.fromJS(Am.hT.JWS.readSafeJSONString((0,Am.kT)(e.split(".")[1]))):"s"===e[0]&&this.fromJS(yu.start(e))),console.log("Game info loaded."),this.loaded=!0}catch(e){}}fromJS(e){e.secretRecord?this.secretRecord=this.secretRecord.merge(e.secretRecord):(this.diamonds=e.diamonds||0,this.playerSlotCount=e.playerSlotCount||1,this.purchaseRate=e.purchaseRate||1),e.highestEndlessLevel&&(this.highestEndlessLevel=e.highestEndlessLevel),this.hgdlv=e.hgdlv||0,this.gamesecret=e.gamesecret||null,this.playerMetas.clear();for(const t of Object.keys(e.playerMetas||{}))this.playerMetas.set(t,new Jc(t).fromJS(e.playerMetas[t]));this.playerMetas2.clear();for(const t of Object.keys(e.playerMetas2||{}))this.playerMetas2.set(t,e.playerMetas2[t]);for(const t of Object.keys(e.playerMetas||{}))Fm.playerMetas2.get(t)||this.playerMetas2.set(t,0);const t=Array.from(this.playerMetas)[0],n=Array.from(this.playerMetas2)[0];for(const t of Object.keys(e.playerMetas)){let e=0;for(let n=0;n<localStorage.length;n++)localStorage.key(n)===`player-${t}`&&(e+=1);e<1&&(Fm.truetime12+=222)}this.storiesMap.clear();for(const t of Object.keys(e.storiesMap||{}))this.storiesMap.set(t,e.storiesMap[t]);this.enemyTaskMap.clear();for(const t of Object.keys(e.enemyTaskMap||{}))this.enemyTaskMap.set(t,Oe.map(e.enemyTaskMap[t]));this.iapMap.clear();for(const t of Object.keys(e.iapMap||{}))this.iapMap.set(t,e.iapMap[t]);this.ticketMap.clear();for(const t of Object.keys(e.ticketMap||{}))this.ticketMap.set(t,e.ticketMap[t]);this.bank.clear();for(let t=0;e.bank&&t<e.bank.length;t++){this.bank.push(new Gc("bank").fromJS(e.bank[t]||{}));const{key:n,dungeonKey:r}=this.bank[t];if("ticket"===n&&r){const e=Vc(r);e&&e>this.highestEndlessLevel&&(this.highestEndlessLevel=e)}}const r=Array.from(this.bank)[0];this.medicineLevel.clear();for(const t of Object.keys(so.medicines))this.medicineLevel.set(t,e.medicineLevel&&e.medicineLevel[t]||0);this.medicineExp=e.medicineExp||0,this.cookingLevel.clear();for(const t of Object.keys(so.cookings))this.cookingLevel.set(t,e.cookingLevel&&e.cookingLevel[t]||0);this.cookingExp=e.cookingExp||0,this.lastVersion=e.lastVersion||null,this.banned=e.banned,this.playerSlotCount<Object.keys(e.playerMetas).length&&(this.playerSlotCount=Object.keys(e.playerMetas).length),this.pwuse2.clear();for(let t=0;e.pwuse2&&t<e.pwuse2.length;t++)this.pwuse2.push(e.pwuse2[t]);return this.fortime?this.truetime8>this.fortime?this.truetime12+=11:this.truetime8=this.fortime:!this.fortime&&this.truetime8>0&&(this.truetime12+=11),t||n||!r||(this.truetime12+=9),!t&&!n&&this.diamonds>28888&&(this.diamonds=2889,this.truetime12+=7),t||n||!(Fm.totalCookingLevel>0||Fm.totalMedicineLevel>0)||(this.truetime12+=5),t||n||!(this.medicineExp>5e4||this.cookingExp>1e4)||(this.medicineExp=0,this.cookingExp=0,this.truetime12+=3),this}save(){if(this.loaded){if(yu.player){let e=localStorage.getItem(`player-${yu.player.key}`);e&&(e="s"===e[0]?yu.start(e).playerstamp:JSON.parse(e).playerstamp,e!==yu.player.playerstamp&&location.reload());let t=0;const n=localStorage.getItem("game");n&&("{"===n[0]?t=JSON.parse(n).secretRecord.truetime:"e"===n[0]?Am.hT.JWS.verifyJWT(n,Om,{alg:["HS256"]})&&(t=Am.hT.JWS.readSafeJSONString((0,Am.kT)(n.split(".")[1])).secretRecord.truetime):"s"===n[0]&&(t=yu.start(n).secretRecord.truetime)),t!==this.truetime&&location.reload(),this.autosave()}this.truetime=Date.now(),localStorage.setItem("game",Am.hT.JWS.sign(null,{alg:"HS256",typ:"JWT"},bu(this.toJS()),Om))}}toJS(){const e=un(this);return e.secretRecord=this.secretRecord.toJS(),e}checkCanCreate(){this.playerSlotCount<=this.playerMetas.size&&Xc.forbidden()}removePlayer(e){this.playerMetas.delete(e),this.save(),localStorage.removeItem(`player-${e}`)}gameimport(e){const t=JSON.parse(e);localStorage.clear();for(const[e,n]of Object.entries(t))localStorage.setItem(e,n)}gameexport(){const e={};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(Fm.playerMetas.get(n.slice(7))||"game"===n){let t=localStorage.getItem(n);"game"!==n&&(t=yu.start(t),t.worldState={},t=yu.stop(t)),e[n]=t}}return JSON.stringify(e)}async autosave(){if(!Fm.gamesecret)return;let e=JSON.stringify({A:Fm.gamesecret,B:Date.now(),C:Fm.diamonds});try{let t=await fetch("https://cszwbirbwl.shenzhuo.vip/src/autoupload.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e});(await t.json()).download&&(await tu("提示","存档异常。"),location.reload())}catch(e){}}playerlist(){for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);Fm.playerMetas.get(t.slice(7))||"game"===t||(localStorage.removeItem(t),e=0)}}addKillTask(e,t,n){let r;this.enemyTaskMap.has(t)?r=this.enemyTaskMap.get(t):(r=Oe.map(),this.enemyTaskMap.set(t,r)),r.set(e,n)}onEnemyKilled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.enemyTaskMap.get(e);if(r)for(const e of r.keys()){const i=so.stories[e];if(!i.requirement||!i.requirement.role||i.requirement.role===n){const n=r.get(e);r.set(e,n-t)}}}runProduct(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.split(".");let r=functions;for(;r&&"object"==typeof r;)r=r[n.shift()];if(n.push(t),"function"==typeof r){try{r.apply(this,n)}catch(e){return console.warn(e.stack),!1}return!0}}getProductName(e){const t=e.split(".");let n=productNames;for(;n&&"object"==typeof n;)n=n[t.shift()];return"function"==typeof n?n.apply(this,t):"商品"}},om=Rm(am.prototype,"secretRecord",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Cm}}),Rm(am.prototype,"diamonds",[Me],Object.getOwnPropertyDescriptor(am.prototype,"diamonds"),am.prototype),Rm(am.prototype,"truetime",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime"),am.prototype),Rm(am.prototype,"truetime3",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime3"),am.prototype),Rm(am.prototype,"truetime5",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime5"),am.prototype),Rm(am.prototype,"truetime7",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime7"),am.prototype),Rm(am.prototype,"truetime8",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime8"),am.prototype),Rm(am.prototype,"truetime12",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime12"),am.prototype),Rm(am.prototype,"truetime13",[Me],Object.getOwnPropertyDescriptor(am.prototype,"truetime13"),am.prototype),Rm(am.prototype,"playerSlotCount",[Me],Object.getOwnPropertyDescriptor(am.prototype,"playerSlotCount"),am.prototype),Rm(am.prototype,"purchaseRate",[Me],Object.getOwnPropertyDescriptor(am.prototype,"purchaseRate"),am.prototype),lm=Rm(am.prototype,"currentPlayer",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),um=Rm(am.prototype,"playerMetas",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),cm=Rm(am.prototype,"playerMetas2",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),pm=Rm(am.prototype,"storiesMap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),hm=Rm(am.prototype,"enemyTaskMap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),fm=Rm(am.prototype,"bank",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dm=Rm(am.prototype,"iapMap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),mm=Rm(am.prototype,"ticketMap",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),gm=Rm(am.prototype,"medicineLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),ym=Rm(am.prototype,"cookingLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe.map()}}),vm=Rm(am.prototype,"medicineExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bm=Rm(am.prototype,"cookingExp",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),km=Rm(am.prototype,"lastVersion",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wm=Rm(am.prototype,"highestEndlessLevel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xm=Rm(am.prototype,"hgdlv",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_m=Rm(am.prototype,"pwuse2",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Em=Rm(am.prototype,"fortime",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1719006266e3}}),Sm=Rm(am.prototype,"gamesecret",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rm(am.prototype,"purchaseSlotPrice",[Me],Object.getOwnPropertyDescriptor(am.prototype,"purchaseSlotPrice"),am.prototype),Rm(am.prototype,"endlessTicketRate",[Me],Object.getOwnPropertyDescriptor(am.prototype,"endlessTicketRate"),am.prototype),Rm(am.prototype,"totalMedicineLevel",[Me],Object.getOwnPropertyDescriptor(am.prototype,"totalMedicineLevel"),am.prototype),Rm(am.prototype,"totalCookingLevel",[Me],Object.getOwnPropertyDescriptor(am.prototype,"totalCookingLevel"),am.prototype),Rm(am.prototype,"maxMedicineExp",[Me],Object.getOwnPropertyDescriptor(am.prototype,"maxMedicineExp"),am.prototype),Rm(am.prototype,"maxCookingExp",[Me],Object.getOwnPropertyDescriptor(am.prototype,"maxCookingExp"),am.prototype),Rm(am.prototype,"sweetlv",[Me],Object.getOwnPropertyDescriptor(am.prototype,"sweetlv"),am.prototype),Rm(am.prototype,"purchaseSlot",[Ft],Object.getOwnPropertyDescriptor(am.prototype,"purchaseSlot"),am.prototype),Rm(am.prototype,"gotMedicineExp",[Ft],Object.getOwnPropertyDescriptor(am.prototype,"gotMedicineExp"),am.prototype),Rm(am.prototype,"gotCookingExp",[Ft],Object.getOwnPropertyDescriptor(am.prototype,"gotCookingExp"),am.prototype),Rm(am.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(am.prototype,"fromJS"),am.prototype),Rm(am.prototype,"onEnemyKilled",[Ft],Object.getOwnPropertyDescriptor(am.prototype,"onEnemyKilled"),am.prototype),am);const Fm=new Tm,Mm=Fm;var Nm=i(9998),jm={};jm.styleTagTransform=aa(),jm.setAttributes=na(),jm.insert=ea().bind(null,"head"),jm.domAPI=Xs(),jm.insertStyleElement=ia(),Js()(Nm.A,jm);const Im=Nm.A&&Nm.A.locals?Nm.A.locals:void 0;class Bm extends t.Component{async componentDidMount(){await Mm.load(),Jk.navigate("/player/choose")}render(){return t.createElement(_a,{className:Im.container})}}var Hm=i(3107),Lm={};Lm.styleTagTransform=aa(),Lm.setAttributes=na(),Lm.insert=ea().bind(null,"head"),Lm.domAPI=Xs(),Lm.insertStyleElement=ia(),Js()(Hm.A,Lm);const qm=Hm.A&&Hm.A.locals?Hm.A.locals:void 0;function zm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Um extends t.Component{constructor(){super(...arguments),zm(this,"getRef",(e=>{this.childrenRef=e})),zm(this,"onLeftPressed",(()=>{this.props.onLeftPressed?this.props.onLeftPressed():Jk.navigate(-1)})),zm(this,"onRightPressed",(()=>{this.props.onRightPressed&&this.props.onRightPressed()}))}renderBack(){return t.createElement(Ea,{className:qm.left,onPress:this.onLeftPressed},t.createElement(xa,{className:qm.button},"返回"))}render(){const{children:e,back:n,leftNavTitle:r,rightNavTitle:i,title:s}=this.props;return t.createElement(_a,{className:qm.mainbody},t.createElement(_a,{className:qm.gamewindows},t.createElement(_a,{className:qm.container},t.createElement(_a,{className:qm.navBar},t.createElement(xa,{className:qm.title},s),!!n&&this.renderBack(),!!r&&t.createElement(Ea,{className:qm.left,onPress:this.onLeftPressed},t.createElement(xa,{className:qm.button},r)),!!i&&t.createElement(Ea,{className:qm.right,onPress:this.onRightPressed},t.createElement(xa,{className:qm.button},i))),e)))}}var Vm=i(2598),Km={};Km.styleTagTransform=aa(),Km.setAttributes=na(),Km.insert=ea().bind(null,"head"),Km.domAPI=Xs(),Km.insertStyleElement=ia(),Js()(Vm.A,Km);const Ym=Vm.A&&Vm.A.locals?Vm.A.locals:void 0;var $m;function Wm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gm=ai((function(e,n){let{meta:r,id:i,editing:s,entering:a}=e;const o=async e=>{if(a.get())return;a.set(!0);const{navigator:t}=n;try{const t=Mm.truetime;if(await Mm.load(),t!==Mm.truetime)return void tu("错误","似乎已经有角色在战斗中，请关闭所有页面后再次尝试。");(await Qc.load(i,e)).postLoad(),yu.resumeGame(),Jk.navigate("/home")}catch(e){yu.dispose(),mgn.debug(e.message),mgn.debug(e.stack),tu("错误","加载游戏失败，请耐心等待更新，或者先选择其它角色进入游戏。"+e.message)}};function l(){tu("提示","如果您无法正常进入游戏，可以尝试从错误中恢复，但您可能会失去相应的离线收益，是否继续？",[{text:"确认",onPress:()=>o(!0)},{text:"取消"}])}return s.get()?r.currentCareerLevel<50?t.createElement(_a,{className:Ym.row},t.createElement(_a,{className:[Ym.item,Ym.flex]},t.createElement(xa,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName)),t.createElement(Ea,{className:Ym.button,onPress:l},t.createElement(xa,{className:Ym.buttonLabel},"修复异常"))):t.createElement(_a,{className:Ym.row},t.createElement(_a,{className:[Ym.item,Ym.flex]},t.createElement(xa,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName)),t.createElement(Ea,{className:Ym.button,onPress:l},t.createElement(xa,{className:Ym.buttonLabel},"修复异常")),t.createElement(Ea,{className:Ym.button,onPress:function(){tu("提示","您确定要删除该角色吗？",[{text:"确认",onPress:()=>Mm.removePlayer(r.key)},{text:"取消"}])}},t.createElement(xa,{className:Ym.buttonLabel},"删除"))):t.createElement(Ea,{className:Ym.item,onPress:()=>o(!1)},t.createElement(xa,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName))}));let Jm=ai($m=class extends t.Component{constructor(){super(...arguments),Wm(this,"refNavBar",(0,t.createRef)()),Wm(this,"editing",Oe.box(!1)),Wm(this,"entering",Oe.box(!1)),Wm(this,"onRightPressed",Ft((()=>{this.editing.get()?this.editing.set(!1):this.editing.set(!0)}))),Wm(this,"ds",new Da.DataSource({rowHasChanged:(e,t)=>e[0]!==t[0]})),Wm(this,"goCreate",(()=>{Jk.navigate("/player/create")})),Wm(this,"purchaseSlot",(()=>{Mm.playerMetas.size>=10?tu("提示","过多的角色数量容易导致存档损坏，且可能无法使用导入、导出存档的功能，是否创建？",[{text:"创建",onPress:()=>{Nt((()=>{Mm.playerMetas.size<Mm.playerSlotCount?Jk.navigate("/player/create"):Mm.diamonds>=Mm.purchaseSlotPrice?tu("提示",`创建新角色需要消耗${Mm.purchaseSlotPrice}神力，是否创建？`,[{text:"创建",onPress:()=>{Nt((()=>{Mm.purchaseSlot(),Jk.navigate("/player/create")}))}},{text:"取消"}]):tu("提示",`神力不足，创建新角色需要消耗${Mm.purchaseSlotPrice}神力。`,[{text:"确认"}])}))}},{text:"取消"}]):Mm.playerMetas.size<Mm.playerSlotCount?Jk.navigate("/player/create"):Mm.diamonds>=Mm.purchaseSlotPrice?tu("提示",`创建新角色需要消耗${Mm.purchaseSlotPrice}神力，是否创建？`,[{text:"创建",onPress:()=>{Nt((()=>{Mm.purchaseSlot(),Jk.navigate("/player/create")}))}},{text:"取消"}]):tu("提示",`神力不足，创建新角色需要消耗${Mm.purchaseSlotPrice}神力。`,[{text:"确认"}])})),Wm(this,"renderRow",((e,n,r)=>{let[i,s]=e;return t.createElement(Gm,{entering:this.entering,key:i,id:i,meta:s,editing:this.editing,rowId:r})}))}render(){return t.createElement(Um,{title:"选择角色",leftNavTitle:"创建角色",rightNavTitle:this.editing.get()?"完成":"编辑",ref:this.refNavBar,onLeftPressed:this.purchaseSlot,onRightPressed:this.onRightPressed},t.createElement(Da,{enableEmptySections:!0,className:Ym.container,dataSource:this.ds.cloneWithRows(Mm.playerMetas.entries()),renderRow:this.renderRow}),t.createElement(_a,{className:Ym.container2}))}})||$m;var Qm=i(6155),Xm={};Xm.styleTagTransform=aa(),Xm.setAttributes=na(),Xm.insert=ea().bind(null,"head"),Xm.domAPI=Xs(),Xm.insertStyleElement=ia(),Js()(Qm.A,Xm);const Zm=Qm.A&&Qm.A.locals?Qm.A.locals:void 0;function eg(){let{debug:e,map:t,role:n,career:r,level:i,atMostMaxLevel:s,atLeastMaxLevel:a,stories:o,beforeStories:l,unplayer:u,$or:c,$and:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{player:h}=yu,{storiesMap:f,playerMetas:d}=Mm;if(n&&(!h||h.role!==n))return!1;if(r&&(!h||h.currentCareer!==r))return!1;if(i&&(!h||h.level<i))return!1;if(s&&(!h||h.maxLevel>s))return!1;if(a&&(!h||h.maxLevel<a))return!1;if(t&&yu.map!==t)return!1;if(o)for(const e of o)if("done"!==f.get(e))return!1;if(l)for(const e of l)if("done"===f.get(e))return!1;if(u)for(const e of u)for(const[t,n]of d)if(n.role===e)return!1;return!(c&&!c.some(eg)||p&&!p.every(eg))}var tg,ng=i(1484),rg=i.n(ng);function ig(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sg(e){let{title:n,children:r}=e;return t.createElement(_a,{className:Zm.group},t.createElement(xa,{className:Zm.title},n),r)}function ag(e){let{title:n,children:r,target:i}=e;return t.createElement(sg,{title:n},t.createElement(_a,{className:Zm.options},t.Children.map(r,(e=>t.cloneElement(e,{target:i})))))}const og=ai((function(e){let{children:n,value:r,target:i}=e;const s=Ya((()=>i&&i.get()===r));return t.createElement(Ea,{activeOpacity:.8,className:[Zm.option,s&&Zm.optionActive],onPress:()=>i.set(r)},t.createElement(xa,{className:[Zm.label,s&&Zm.labelActive]},n))}));let lg=ai(tg=class extends t.PureComponent{constructor(){var e,t;super(...arguments),ig(this,"form",new Jc),ig(this,"roleField",(e=this.form,t="role",Me((()=>e[t]),{set(n){e[t]=n}}))),ig(this,"onRightPressed",(async()=>{try{Nt((()=>{const e=Qc.create(this.form);yu.resetTimeline(),yu.addPlayer(e),yu.map="home",yu.resumeGame()})),Jk.navigate("/home")}catch(e){403===e.code?tu("提示","您已无法创建更多角色，请回到首页查看"):tu("错误","创建失败")}}))}render(){return t.createElement(Um,{key:"/player/create",title:"新游戏",onRightPressed:this.onRightPressed,rightNavTitle:"开始游戏",back:"/player/choose"},t.createElement(_a,{className:Zm.container},t.createElement(ag,{title:"角色",target:this.roleField,field:"role"},Object.keys(so.roles).filter((e=>!so.roles[e].requirement||eg(so.roles[e].requirement))).map((e=>t.createElement(og,{key:e,value:e},so.roles[e].name)))),t.createElement(sg,{title:"角色介绍"},t.createElement(Sa,{className:Zm.container2},t.createElement(xa,{className:Zm.body},this.form.roleData.description)))))}})||tg;var ug=i(6181),cg={};cg.styleTagTransform=aa(),cg.setAttributes=na(),cg.insert=ea().bind(null,"head"),cg.domAPI=Xs(),cg.insertStyleElement=ia(),Js()(ug.A,cg);const pg=ug.A&&ug.A.locals?ug.A.locals:void 0;class hg extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getRef",(e=>{this.childrenRef=e}))}goto(e){const{onChange:t}=this.props;t(e)}renderItem(e,n){const{active:r}=this.props,i=r==e;return t.createElement(Ea,{className:pg.button,onPress:()=>this.goto(e)},t.createElement(xa,{className:i&&pg.active},n))}onAppStateChange(e){}render(){const{children:e}=this.props;return t.createElement(_a,{className:pg.container},t.createElement(_a,{className:pg.content},e),t.createElement(_a,{className:pg.tabBar},this.renderItem("battle","战斗"),this.renderItem("inventory","背包"),this.renderItem("skills","技能"),this.renderItem("produce","生产"),this.renderItem("stories","故事")))}}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}const dg=ai((function(e){let{className:n,unit:r,field:i,...s}=e;return t.createElement(xa,fg({className:n},s),r[i])})),mg=ai((function(e){let{className:n,unit:r,field:i,...s}=e;const a=Ya((()=>{const e=r[i];return e>=1e20?(e/1e18|0)+"BC":e>=1e17?(e/1e15|0)+"BB":e>=1e14?(e/1e12|0)+"BA":e>=1e11?(e/1e9|0)+"B":e>=1e8?(e/1e6|0)+"M":e>=1e5?(e/1e3|0)+"K":0|e}));return t.createElement(xa,fg({className:n},s),a)})),gg=ai((function(e){let{className:n,unit:r,field:i,digits:s=1,mul:a=1,inc:o=0,...l}=e;return t.createElement(xa,fg({className:n},l),((r[i]+o)*a).toFixed(s))}));var yg=i(8297),vg={};vg.styleTagTransform=aa(),vg.setAttributes=na(),vg.insert=ea().bind(null,"head"),vg.domAPI=Xs(),vg.insertStyleElement=ia(),Js()(yg.A,vg);const bg=yg.A&&yg.A.locals?yg.A.locals:void 0;function kg(e){let{className:n,children:r}=e;const[i,s]=t.useState(0),a=t.Children.toArray(r);return t.createElement("div",{className:$s(n,bg.root)},t.createElement("div",{className:bg.tabs},a.map((e=>e.props.tabLabel)).map(((e,n)=>t.createElement("div",{key:n,className:$s(bg.tab,i==n&&bg.active),onClick:()=>s(n)},e)))),t.createElement("div",{className:bg.container,style:{transform:`translateX(${-100*i}%)`}},a.map(((e,n)=>t.createElement("div",{className:bg.content,key:n},e)))))}var wg=i(391),xg={};xg.styleTagTransform=aa(),xg.setAttributes=na(),xg.insert=ea().bind(null,"head"),xg.domAPI=Xs(),xg.insertStyleElement=ia(),Js()(wg.A,xg);const _g=wg.A&&wg.A.locals?wg.A.locals:void 0,Eg=Oe(!0),Sg=Ft((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{player:r}=yu;if(!t&&e.quality>=3&&!Eg.get())return void tu("提示",`该商品为${wy[e.quality]}物品，是否确定拆解？`,[{text:"确认",onPress:()=>Sg(e,!0,n)},{text:"取消"}]);const i=Ul(e);if(i){for(const e of Object.keys(i)){const t=r.buildInventory.find((t=>t.key===e));t?t.count+=i[e]:r.buildInventory.push(new Gc("build").fromJS({key:e,count:i[e]}))}e.clear(),n&&n()}else n()})),Ag=ai((function(){const{player:e}=yu;return t.createElement(_a,{className:_g.container},t.createElement(_a,{className:_g.row},t.createElement(xa,{className:_g.container},"不提示拆解高品质物品"),t.createElement(Pa,{onValueChange:Ft((e=>Eg.set(e))),value:Eg.get()})),t.createElement(Sa,{className:_g.container,contentContainerClassName:_g.content},e.inventory.filter((e=>e.isEquip&&e.quality>1&&!e.locked)).map(((e,n)=>t.createElement(xy,{onPress:()=>yu.player.decomposeItem(e),key:n,slot:e})))))})),Dg=Ag;var Pg=i(6246),Rg={};Rg.styleTagTransform=aa(),Rg.setAttributes=na(),Rg.insert=ea().bind(null,"head"),Rg.domAPI=Xs(),Rg.insertStyleElement=ia(),Js()(Pg.A,Rg);const Og=Pg.A&&Pg.A.locals?Pg.A.locals:void 0;var Cg,Tg,Fg,Mg;function Ng(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ig(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let Bg=ai((Tg=class extends t.Component{constructor(){super(),jg(this,"selectedItem",Oe(null)),Ng(this,"locks",Fg,this),Ng(this,"newAffixes",Mg,this),jg(this,"renderRow",((e,n)=>t.createElement(xy,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem}))),jg(this,"doEnchants",(()=>{const e=this.selectedItem.get();yu.costItems(this.getCosts()),e.rflevel++,yu.player.currentCareerequipments.weapon.fromJS(yu.player.equipments.weapon||{}),yu.player.currentCareerequipments.assistant.fromJS(yu.player.equipments.assistant||{}),yu.player.currentCareerequipments.plastron.fromJS(yu.player.equipments.plastron||{}),yu.player.currentCareerequipments.gaiter.fromJS(yu.player.equipments.gaiter||{}),yu.player.currentCareerequipments.ornament.fromJS(yu.player.equipments.ornament||{}),yu.player.save(),Mm.save()})),bn(this)}renderEquip(e){return this.renderRow(yu.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e),e?this.locks.splice(0,this.locks.length,...e.affixes.map((e=>!1))):this.locks.splice(0),this.newAffixes.splice(0)}getCosts(){const e=this.selectedItem.get(),{level:t,quality:n,enchantTimes:r,rflevel:i}=e,s={};let a=Math.ceil(t*n*(i+1)**2);s.diamonds=Math.min(a,999999);let o=Math.ceil(t/10*n*(i+1)**2);return s[zl[2][ql(t)]]=Math.min(o,99999),s}renderDetail(){const e=this.selectedItem.get();if(!e||e.empty)return t.createElement(_a,{className:Og.slotdetail},t.createElement(xa,null,"请选择想要强化的装备"));const n=this.getCosts(),r=yu.hasEnough(n)&&e.rflevel<10;return t.createElement(_a,{className:Og.slotdetail},e.rflevel<1&&t.createElement(xa,{className:Og.title},e.name),e.rflevel>0&&t.createElement(xa,{className:Og.title},e.name," +",e.rflevel),t.createElement(_a,{className:Og.detailContainer},t.createElement(Ea,{className:Og.detail,onPress:()=>{}},e.affixes.filter((e=>!1===e.isLegend)).map(((n,r)=>t.createElement(xa,{className:[Og.affix,n.isLegend&&Og.legend],key:r,numberOfLines:1},n.displayB(e.level,e.rflevel))))),t.createElement(_a,{className:Og.locks},t.createElement(xa,null,"=>")),e.rflevel<10&&t.createElement(Ea,{className:Og.detail,onPress:()=>{}},e.affixes.filter((e=>!1===e.isLegend)).map(((n,r)=>t.createElement(xa,{className:[Og.affix,n.isLegend&&Og.legend],key:r,numberOfLines:1},n.displayB(e.level,e.rflevel+1))))),e.rflevel>=10&&t.createElement(_a,{className:Og.detail},t.createElement(xa,null,"强化等级达到上限"))),t.createElement(_a,{className:Og.doenchants},t.createElement(Ea,{className:[Og.button,!r&&Og.notenough],onPress:this.doEnchants,disabled:!r},"强化"),t.createElement(_a,{className:Og.cost},Object.keys(n).map(((e,r)=>t.createElement(xa,{className:Og.costItem,key:r},t.createElement(xa,{className:Og.materialName,numberOfLines:1},hy[e]||so.goods[e].name),t.createElement(xa,{className:Og.materialAmount,numberOfLines:1},"×",n[e])))))))}render(){const{player:e}=yu;return t.createElement(_a,{className:Og.container},this.renderDetail(),t.createElement(_a,{className:Og.column},t.createElement(_a,{className:Og.title},t.createElement(xa,null,"---装备栏---")),t.createElement(Sa,null,this.renderEquip("weapon"),this.renderEquip("assistant"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(_a,{className:Og.column},t.createElement(_a,{className:Og.title},t.createElement(xa,null,"---背 包---")),t.createElement(Sa,null,e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow))))}},Fg=Ig(Tg.prototype,"locks",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mg=Ig(Tg.prototype,"newAffixes",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ig(Tg.prototype,"selectItem",[Ft],Object.getOwnPropertyDescriptor(Tg.prototype,"selectItem"),Tg.prototype),Cg=Tg))||Cg;var Hg=i(8865),Lg={};Lg.styleTagTransform=aa(),Lg.setAttributes=na(),Lg.insert=ea().bind(null,"head"),Lg.domAPI=Xs(),Lg.insertStyleElement=ia(),Js()(Hg.A,Lg);const qg=Hg.A&&Hg.A.locals?Hg.A.locals:void 0;var zg,Ug;function Vg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kg(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let Yg=ai((Ug=class extends t.Component{constructor(){super(...arguments),Vg(this,"selectedItem",Oe(null)),Vg(this,"lastUsedAt",0),Vg(this,"renderRow",((e,n)=>t.createElement(xy,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(yu.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e)}getCosts(){const e=this.selectedItem.get();if(!e)return{};const{level:t,quality:n}=e,r={};let i=Math.round(50*t*n**2);return r.gold=Math.min(i,9999999),r}renderCost(){const e=this.selectedItem.get();if(!e||0===e.quality)return null;const n=this.getCosts();return t.createElement(_a,null,t.createElement(_a,{className:qg.row},Object.keys(n).map(((e,r)=>t.createElement(xa,{className:qg.costItem,key:r},t.createElement(xa,{className:qg.materialName,numberOfLines:1},"消耗",hy[e]||so.goods[e].name),t.createElement(xa,{className:qg.materialAmount,numberOfLines:1},n[e],"/",yu.player.gold)))),t.createElement(_a,{className:qg.container}),t.createElement(xa,null,"点击属性重铸")))}rebuild(e){const t=Date.now();if(t-this.lastUsedAt<1e3)return;this.lastUsedAt=t;const n=this.selectedItem.get(),{key:r,level:i}=n;!function(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=yu;t&&(Mm.diamonds-=t),n&&(i.gold-=n);for(const e of Object.keys(r))i.costGood(e,r[e])}(this.getCosts());const s={},a=Object.keys(so.affixes).filter((e=>(so.affixes[e].minLevel||0)<=i)).filter((e=>jl(r,e,i)));n.affixes.forEach((e=>s[e.key]=!0)),n.affixes[e]=Nl(a,i,s),n.affixes[e].rebuilded=!0,yu.player.currentCareerequipments.weapon.fromJS(yu.player.equipments.weapon||{}),yu.player.currentCareerequipments.assistant.fromJS(yu.player.equipments.assistant||{}),yu.player.currentCareerequipments.plastron.fromJS(yu.player.equipments.plastron||{}),yu.player.currentCareerequipments.gaiter.fromJS(yu.player.equipments.gaiter||{}),yu.player.currentCareerequipments.ornament.fromJS(yu.player.equipments.ornament||{})}renderAffix(e,n,r){const i=this.selectedItem.get();if(!e)return t.createElement(_a,{className:[qg.detailAffix,qg.detailAffixEmpty]});const s=r&&!e.rebuilded||e.isLegend;return t.createElement(Ea,{className:[qg.detailAffix,s&&qg.detailAffixDisabled],onPress:()=>this.rebuild(n),disabled:s||!py(this.getCosts())},t.createElement(xa,{className:[qg.affix,e.isLegend&&qg.legendAffix],key:n,numberOfLines:1},e.displayB(i.level,i.rflevel)," ",e.rebuilded?"[重铸]":""))}renderDetail(){const e=this.selectedItem.get();if(!e||0===e.quality)return t.createElement(_a,{className:qg.detailContainer});const n=e.affixes.some((e=>e.rebuilded));return t.createElement(_a,{className:qg.detailContainer},t.createElement(_a,{className:[qg.detail,ky[e.quality]]},t.createElement(_a,{className:qg.detailRow},this.renderAffix(e.affixes.length>0&&e.affixes[0],0,n),this.renderAffix(e.affixes.length>1&&e.affixes[1],1,n)),t.createElement(_a,{className:qg.detailRow},this.renderAffix(e.affixes.length>2&&e.affixes[2],2,n),this.renderAffix(e.affixes.length>3&&e.affixes[3],3,n))))}render(){const{player:e}=yu;return t.createElement(_a,{className:qg.container},t.createElement(_a,{className:qg.row},t.createElement(xa,null,e.name,"的装备"),t.createElement(Sa,{contentContainerClassName:qg.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("assistant"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(Sa,{className:qg.container,contentContainerClassName:qg.content},e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow)),this.renderCost(),this.renderDetail())}},Kg(Ug.prototype,"selectItem",[Ft],Object.getOwnPropertyDescriptor(Ug.prototype,"selectItem"),Ug.prototype),Kg(Ug.prototype,"rebuild",[Ft],Object.getOwnPropertyDescriptor(Ug.prototype,"rebuild"),Ug.prototype),zg=Ug))||zg;var $g=i(684),Wg={};Wg.styleTagTransform=aa(),Wg.setAttributes=na(),Wg.insert=ea().bind(null,"head"),Wg.domAPI=Xs(),Wg.insertStyleElement=ia(),Js()($g.A,Wg);const Gg=$g.A&&$g.A.locals?$g.A.locals:void 0;var Jg,Qg;function Xg(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let Zg=ai((Qg=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"renderMedicine",(e=>{const n=so.medicines[e],r=Mm.medicineLevel.get(e)||0,i=Mm.totalMedicineLevel-r,s=n.Max_level||!1;if(!n.hidden)return t.createElement(_a,{className:Gg.medicine,key:e},t.createElement(_a,{className:Gg.flex},t.createElement(_a,{className:Gg.medicineMain},t.createElement(xa,{className:Gg.medicineName},n.name),t.createElement(xa,{className:Gg.textMargin},"等级：",r)),t.createElement(xa,null,n.description(r)),t.createElement(xa,null,"下一级：",n.description(r+1))),t.createElement(_y,{onPress:()=>this.doDowngradeMedicine(e),disabled:r<=0},"降级"),t.createElement(_y,{onPress:()=>this.doUpgradeMedicine(e),disabled:!s||i<=0||r>=s||Mm.medicineLevel.get("bcdefg")<=0},"升级"))}))}async doUpgradeMedicine(e){let t=await ru("提示","输入升级次数",`${Mm.medicineLevel.get("bcdefg")}`);const{player:n}=yu;for(;t>0;){const n=so.medicines[e],r=Mm.medicineLevel.get(e)||0,i=Mm.medicineLevel.get("bcdefg")||0,s=n.Max_level||!1;if(i<=0||r>=s)return;let a=Math.min(i,s-r,t);Nt((()=>{Mm.medicineLevel.set(e,Mm.medicineLevel.get(e)+a),Mm.medicineLevel.set("bcdefg",Mm.medicineLevel.get("bcdefg")-a)})),t-=a}Mm.save()}async doDowngradeMedicine(e){let t=await ru("提示","输入降级次数",`${Mm.medicineLevel.get(e)}`);const{player:n}=yu;for(;t>0;){const n=Mm.medicineLevel.get(e)||0;if(n<=0)return;let r=Math.min(n,t);Nt((()=>{Mm.medicineLevel.set(e,Mm.medicineLevel.get(e)-r),Mm.medicineLevel.set("bcdefg",Mm.medicineLevel.get("bcdefg")+r)})),t-=r}Mm.save()}async doThrow(e,t){Nt((()=>{const n=e.goodData.energy;e.count===t?e.clear():e.count-=t,Mm.gotMedicineExp(n*t*(1+.05*Mm.hgdlv)).length>0&&tu("提示","您的炼金等级上限提升了！")}))}async throw(e){const t=e.goodData.energy,n=await ru("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return tu("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return tu("别逗我啦。"),!1;Mm.save(),yu.player.save()}render(){const e=yu.player.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(_a,{className:Gg.flex},t.createElement(_a,{className:Gg.info},t.createElement(_a,{className:Gg.flex},t.createElement(xa,null,"炼金等级：",Mm.totalMedicineLevel-Mm.medicineLevel.get("bcdefg")," / ",Mm.totalMedicineLevel,"级"),t.createElement(xa,null,"当前经验值：",t.createElement(mg,{unit:Mm,field:"medicineExp"}),"/",t.createElement(mg,{unit:Mm,field:"maxMedicineExp"})))),t.createElement(Sa,{className:Gg.flex},Object.keys(so.medicines).map(this.renderMedicine)),t.createElement(_a,{className:Gg.itemGroup},e.map(((e,n)=>t.createElement(xy,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===e.length&&t.createElement(xa,{className:Gg.noItemHint},"您的背包里现在没有任何材料")))}},Xg(Qg.prototype,"doUpgradeMedicine",[Ft],Object.getOwnPropertyDescriptor(Qg.prototype,"doUpgradeMedicine"),Qg.prototype),Xg(Qg.prototype,"doDowngradeMedicine",[Ft],Object.getOwnPropertyDescriptor(Qg.prototype,"doDowngradeMedicine"),Qg.prototype),Jg=Qg))||Jg;var ey=i(5714),ty={};ty.styleTagTransform=aa(),ty.setAttributes=na(),ty.insert=ea().bind(null,"head"),ty.domAPI=Xs(),ty.insertStyleElement=ia(),Js()(ey.A,ty);const ny=ey.A&&ey.A.locals?ey.A.locals:void 0;var ry,iy;function sy(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let ay=ai((iy=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"renderCooking",(e=>{const n=so.cookings[e],r=Mm.cookingLevel.get(e)||0,i=Mm.totalCookingLevel-r,s=n.Max_level||!1;if(!n.hidden)return t.createElement(_a,{className:ny.cooking,key:e},t.createElement(_a,{className:ny.flex},t.createElement(_a,{className:ny.cookingMain},t.createElement(xa,{className:ny.cookingName},n.name),t.createElement(xa,{className:ny.textMargin},"等级：",r)),t.createElement(xa,null,n.description(r)),t.createElement(xa,null,"下一级：",n.description(r+1))),t.createElement(_y,{onPress:()=>this.doDowngradeCooking(e),disabled:!s||r<=0},"降级"),t.createElement(_y,{onPress:()=>this.doUpgradeCooking(e),disabled:!s||i<=0||r>=s||Mm.cookingLevel.get("abcdef")<=0},"升级"))}))}async doUpgradeCooking(e){let t=await ru("提示","输入升级次数",`${Mm.cookingLevel.get("abcdef")}`);const{player:n}=yu;for(;t>0;){const n=so.cookings[e],r=Mm.cookingLevel.get(e)||0,i=Mm.cookingLevel.get("abcdef")||0,s=n.Max_level||!1;if(i<=0||r>=s)return;let a=Math.min(i,s-r,t);Nt((()=>{Mm.cookingLevel.set(e,Mm.cookingLevel.get(e)+a),Mm.cookingLevel.set("abcdef",Mm.cookingLevel.get("abcdef")-a)})),t-=a}Mm.save()}async doDowngradeCooking(e){let t=await ru("提示","输入降级次数",`${Mm.cookingLevel.get(e)}`);const{player:n}=yu;for(;t>0;){so.cookings[e];const n=Mm.cookingLevel.get(e)||0;if(Mm.cookingLevel.get("abcdef"),n<=0)return;let r=Math.min(n,t);Nt((()=>{Mm.cookingLevel.set(e,Mm.cookingLevel.get(e)-r),Mm.cookingLevel.set("abcdef",Mm.cookingLevel.get("abcdef")+r)})),t-=r}Mm.save()}async doThrow(e,t){Nt((()=>{const n=e.goodData.energy;e.count===t?e.clear():e.count-=t,Mm.gotCookingExp(n*t*(1+.05*Mm.hgdlv)).length>0&&tu("提示","您的厨艺等级上限提升了！")}))}async throw(e){const t=e.goodData.energy,n=await ru("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return tu("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return tu("别逗我啦。"),!1;Mm.save(),yu.player.save()}render(){const{player:e}=yu,n=e.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(_a,{className:ny.flex},t.createElement(_a,{className:ny.info},t.createElement(_a,{className:ny.flex},t.createElement(xa,null,"厨艺等级：",Mm.totalCookingLevel-Mm.cookingLevel.get("abcdef")," / ",Mm.totalCookingLevel,"级"),t.createElement(xa,null,"当前经验值：",t.createElement(mg,{unit:Mm,field:"cookingExp"}),"/",t.createElement(mg,{unit:Mm,field:"maxCookingExp"})))),t.createElement(Sa,{className:ny.flex},Object.keys(so.cookings).map(this.renderCooking)),t.createElement(_a,{className:ny.itemGroup},n.map(((e,n)=>t.createElement(xy,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===n.length&&t.createElement(xa,{className:ny.noItemHint},"您的背包里现在没有任何材料")))}},sy(iy.prototype,"doUpgradeCooking",[Ft],Object.getOwnPropertyDescriptor(iy.prototype,"doUpgradeCooking"),iy.prototype),sy(iy.prototype,"doDowngradeCooking",[Ft],Object.getOwnPropertyDescriptor(iy.prototype,"doDowngradeCooking"),iy.prototype),ry=iy))||ry;var oy=i(5642),ly={};ly.styleTagTransform=aa(),ly.setAttributes=na(),ly.insert=ea().bind(null,"head"),ly.domAPI=Xs(),ly.insertStyleElement=ia(),Js()(oy.A,ly);const uy=oy.A&&oy.A.locals?oy.A.locals:void 0;var cy;function py(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=yu;if(t&&Mm.diamonds<t)return!1;if(n&&i.gold<n)return!1;for(const e of Object.keys(r))if(i.countGood(e)<r[e])return!1;return!0}const hy={diamonds:"神力",gold:"金币"},fy=ai((function(e){let{style:n,inventory:r,selected:i}=e;const{player:s}=yu,a=r.length,o=Ya((()=>a>0&&r[0].isEquip)),l=Ya((()=>i&&null!==i.get()));return t.createElement(_a,{className:n},l&&t.createElement(Ay,{selected:i}),t.createElement(_a,{className:uy.row},t.createElement(Sa,{horizontal:!0,className:uy.inventory},r.map(((e,n)=>t.createElement(xy,{slot:e,key:n,onPress:Ft((()=>i.set(e)))})))),o&&t.createElement(Ea,{className:uy.inventoryButton,onPress:Ft((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{player:n}=yu,r=e[0];Sg(r,t,(()=>{r.empty&&e.remove(r)}))}(r)))},t.createElement(xa,null,"拆解")),a>0&&t.createElement(Ea,{className:uy.inventoryButton,onPress:Ft((()=>{s.getInventory(r),i.set(null)}))},t.createElement(xa,null,"拾取"))))}));let dy=ai(cy=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectedItem",Oe(null))}render(){const{player:e}=yu;return t.createElement(Um,{title:"生产"},t.createElement(_a,{className:uy.container},t.createElement(kg,{className:uy.container},t.createElement(Bg,{tabLabel:"强化"}),t.createElement(Yg,{tabLabel:"重铸"}),t.createElement(ay,{tabLabel:"厨艺"}),t.createElement(Zg,{tabLabel:"炼金"}),t.createElement(Dg,{tabLabel:"拆解"})),t.createElement(fy,{selected:this.selectedItem,inventory:e.buildInventory})))}})||cy;var my=i(8434),gy={};gy.styleTagTransform=aa(),gy.setAttributes=na(),gy.insert=ea().bind(null,"head"),gy.domAPI=Xs(),gy.insertStyleElement=ia(),Js()(my.A,gy);const yy=my.A&&my.A.locals?my.A.locals:void 0;var vy;function by(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ky=[yy.btnNormal,yy.btnGood,yy.btnExcellent,yy.btnEpic,yy.btnLegend,yy.btnAcient,yy.btnArtifact],wy=(yy.fontNormal,yy.fontGood,yy.fontExcellent,yy.fontEpic,yy.fontLegend,yy.fontAcient,yy.fontArtifact,["普通","优秀","精良","史诗","传说","远古","神器"]),xy=ai((function(e){let{slot:n,onPress:r,selectedItem:i}=e;const s=Ya((()=>!(!i||n!==i.get()))),{isEquip:a}=n;return t.createElement(Ea,{className:yy.slot,activeOpacity:.8,onPress:r},t.createElement(_a,{className:[yy.slotContent,ky[n.displayQuality],s&&yy.slotActive],style:n.backgroundColor&&{backgroundColor:n.backgroundColor}},!a&&t.createElement(xa,{style:n.nameColor&&{color:n.nameColor}},n.name||"空"),a&&n.rflevel<1&&t.createElement(xa,{style:n.nameColor&&{color:n.nameColor}},"Lv.",n.level,"  ",n.name),a&&n.rflevel>0&&t.createElement(xa,{style:n.nameColor&&{color:n.nameColor}},"Lv.",n.level,"  ",n.name," +",n.rflevel)),n.count>1&&t.createElement(xa,{className:yy.count},n.count))}));function _y(e){let{onPress:n,children:r,disabled:i}=e;return t.createElement(Ea,{onPress:n,disabled:i,className:[yy.button,i&&yy.buttonDisabled]},t.createElement(xa,{className:[yy.buttonLabel,i&&yy.buttonDisabledLabel]},r))}const Ey={atk_self:"攻击力",def:"物理防御",maxHp:"生命值",critRate:"暴击",atkMul:"攻击力",critBonus:"暴击伤害",sta:"耐力",str:"力量",dex:"敏捷",int:"智力",critR_level:"暴击",critB_level:"暴击伤害",allResist:"元素抗性"},Sy={atk_self:e=>""+(0|e),maxHp:e=>`${e}`,critRate:e=>Math.round(1e4*e)/100+"%",atkMul:e=>Math.round(1e4*e)/100+"%",dmgAdd:e=>Math.round(1e4*e)/100+"%",critBonus:e=>Math.round(1e4*e)/100+"%",sta:e=>`${e}`,str:e=>`${e}`,dex:e=>`${e}`,int:e=>`${e}`},Ay=ai((function(e,n){let{slot:r,selected:i,type:s}=e,{navigator:a}=n;const o=r||i&&i.get();if(o&&"ticket"===o.key){const e=o.dungeonKey.match(/\d+/g).map(Number)||0;return t.createElement(_a,{className:yy.ticket},t.createElement(_a,{className:yy.title},t.createElement(xa,null,o.name),t.createElement(xa,{className:yy.detailCount}," × ",o.count)),t.createElement(_a,{className:yy.ticketdetail},t.createElement(xa,null,"钥石可以让你再次挑战已经挑战过的副本。")),t.createElement(_a,{className:yy.other},t.createElement(_y,{onPress:async()=>{const e=o.dungeonKey.match(/\d+/g).map(Number);if(o.dungeonKey.includes("year2")&&yu.player.hdlv>=3){const e=await ru("输入扫荡次数","扫荡年兽副本不消耗神力，但只能获得经验值。",`${o.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t<n||0===n)return!1;yu.gotExp(15e6*n,100),tu("提示",`你一共完成了${n}次扫荡。`),o.count-=n,0===o.count&&o.clear(),Mm.save(),yu.player.save()}))}else{if(o.dungeonKey.includes("year2"))return void tu("提示","“年兽巢穴”副本难度过大，无法扫荡。");if(e[0]>=yu.player.hdlv)return void tu("提示","该副本的难度过大，无法扫荡。");if(yu.player.inventory.filter((e=>e.empty)).length<5)return void tu("提示","至少预留5个背包空位方可扫荡。");const t=24*Math.ceil(2+(200+50*e[0])/100*1),n=Math.ceil(t*Math.min(1,Math.max(.25,1-(yu.player.hdlv-e[0]+1)/5))),r=await ru("输入扫荡次数",`每完成一次无尽噩梦${e[0]}层的扫荡，需要消耗${n}点神力`,"1");Nt((()=>{const{count:t}=i.get(),s=Math.max(0,0|r);if(t<s||0===s)return!1;yu.emquick(o,e[0],Math.min(1e3,r),n)}))}}},"扫荡"),t.createElement(_y,{onPress:()=>{tu("提示","确定要丢弃该钥石吗？",[{text:"确认",onPress:Ft((()=>{i.set(null),o.clear()}))},{text:"取消"}])}},"丢弃"),e<yu.player.hdlv&&t.createElement(_y,{onPress:()=>{yu.ticketcg(o,e,yu.player.hdlv),Mm.save(),yu.player.save()}},"转化")))}if(!o||!o.goodData)return t.createElement(_a,{className:yy.detail});const{isEquip:l}=o,u=l&&yu.playerUnit.canEquip(o);let c;return c="bank"===s?t.createElement(_a,{className:yy.row},"inventory"===o.position&&t.createElement(_y,{onPress:()=>{yu.player.loot(o,Mm.bank),Mm.save(),yu.player.save()}},"保存"),"bank"===o.position&&t.createElement(_y,{onPress:()=>{yu.player.loot(o),Mm.save(),yu.player.save()}},"取出"),o.price&&"equip"!==o.position&&"package"!==o.goodData.type&&"material"!==o.goodData.type&&"box"!==o.goodData.type&&"exp"!==o.goodData.type&&o.count>=1&&!o.locked&&t.createElement(_y,{onPress:async()=>{o.quality<2?Nt((()=>{i.set(null),yu.player.sellItem(o,1)})):o.quality>=2?tu("提示","拆了可就没了，真的要拆解装备吗？",[{text:"拆解",onPress:()=>{Nt((()=>{i.set(null),yu.player.decomposeItem(o),Mm.save(),yu.player.save()}))}},{text:"不拆"}]):Nt((()=>{i.set(null),yu.player.sellItem(o,1)}))}},o.quality>=2?"拆解":"出售"),o.isEquip&&t.createElement(_y,{onPress:()=>{o.locked=!o.locked}},o.locked?"解锁":"锁定")):t.createElement(_a,{className:yy.row},o.isEquip&&"inventory"===o.position&&t.createElement(_y,{disabled:!u,onPress:()=>{yu.player.equip(o)}},"装备"),"equip"===o.position&&t.createElement(_y,{onPress:()=>{yu.player.unequip(o)}},"卸下"),o.goodData&&"package"===o.goodData.type&&t.createElement(_y,{onPress:async()=>{const e=await ru("输入数量","",`${o.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t<n||0===n)return!1;yu.usePackage(o,n),Mm.save(),yu.player.save()}))}},"使用"),o.goodData&&"box"===o.goodData.type&&t.createElement(_y,{onPress:async()=>{const e=await ru("输入数量","",`${o.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t<n||0===n||yu.player.level<100)return!1;yu.useBox(o,n),Mm.save(),yu.player.save()}))}},"使用"),o.goodData&&"exp"===o.goodData.type&&t.createElement(_y,{onPress:async()=>{const e=await ru("输入数量","",`${o.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t<n||0===n)return!1;yu.useexp(o,n),Mm.save(),yu.player.save()}))}},"使用"),o.goodData&&"time"===o.goodData.type&&t.createElement(_y,{onPress:async()=>{const e=await ru("输入数量","",`${Math.min(o.count,12)}`);Nt((()=>{const{count:t}=i.get();let n=Math.max(0,0|e);if(t<n||0===n)return!1;n=Math.min(n,12,t),yu.usetime(o,n)}))}},"使用"),o.price&&"equip"!==o.position&&"package"!==o.goodData.type&&"material"!==o.goodData.type&&"box"!==o.goodData.type&&"exp"!==o.goodData.type&&"time"!==o.goodData.type&&o.count>=1&&!o.locked&&t.createElement(_y,{onPress:async()=>{o.quality<2?Nt((()=>{i.set(null),yu.player.sellItem(o,1)})):o.quality>=2?tu("提示","拆了可就没了，真的要拆解装备吗？",[{text:"拆解",onPress:()=>{Nt((()=>{i.set(null),yu.player.decomposeItem(o),Mm.save(),yu.player.save()}))}},{text:"不拆"}]):Nt((()=>{i.set(null),yu.player.sellItem(o,1)}))}},o.quality>=2?"拆解":"出售"),o.isEquip&&t.createElement(_y,{onPress:()=>{o.locked=!o.locked}},o.locked?"解锁":"锁定")),t.createElement(_a,{className:yy.detail},t.createElement(_a,{className:yy.title},o.rflevel<1&&t.createElement(xa,null,o.name),o.rflevel>0&&t.createElement(xa,null,o.name," +",o.rflevel),!l&&t.createElement(xa,{className:yy.detailCount}," × ",o.count)),t.createElement(_a,{className:yy.equdetail},t.createElement(Sa,{className:yy.Legenddetail},l&&t.createElement(xa,null,o.equipPositionName),!l&&t.createElement(xa,{className:yy.marginLeft2},o.description),l&&t.createElement(xa,{className:yy.marginLeft2},"穿戴需求：Lv.",o.requireLevel),l&&t.createElement(xa,{className:yy.marginLeft2},"装备品级：Lv.",o.level),t.createElement(xa,null,l&&Object.keys(Ey).map(((e,n)=>!!o[e]&&t.createElement(xa,{key:n},Ey[e],"  ","+","  ",Sy[e]?Sy[e](o[e]):Math.round(o[e]),"\n\t\t\t\t\t\t\t")))),t.createElement(xa,null,o.affixes.filter((e=>!1===e.isLegend)).map(((e,n)=>t.createElement(xa,{className:[yy.affix,e.isLegend&&yy.legend],key:n},e.displayB(o.level,o.rflevel),"\n\t\t\t\t\t"))),o.affixes.filter((e=>!0===e.isLegend)).map(((e,n)=>t.createElement(xa,{className:[yy.affix,e.isLegend&&yy.legend],key:n},e.displayA,"\n\t\t\t\t\t"))))),t.createElement(_a,{className:yy.other},c)))})),Dy=Ft((function(){const{player:e}=yu,t=so.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];Mm.diamonds<t?tu("提示","神力不够？那这事有点不太好办啊。",[{text:"确认"}]):(Mm.diamonds-=t,e.inventory.push(new Gc("inventory")),e.inventoryDiamondLevel++)})),Py=Ft((function(){const{player:e}=yu,t=so.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],{gold:n,...r}=t;if(py(t)){n&&(e.gold-=n);for(const t of Object.keys(r))e.costGood(t,r[t]);e.inventory.push(new Gc("inventory"))}else tu("提示","物品扣除失败。请重试。")}));function Ry(){const{player:e}=yu,t=so.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],n=so.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];if(!t)return void tu("提示",`你的背包已经超越极限，只有创世神的力量才能改变空间，继续扩张背包消耗${n}神力，是否继续？`,[{text:"确认",onPress:()=>Dy(navigator)},{text:"取消"}]);const r=Object.keys(t).map((e=>`${hy[e]||so.goods[e].name} x${t[e]}`)).join("\n");py(t)?tu("提示",`背包升级需要消耗：\n${r}\n是否继续？`,[{text:"确认",onPress:()=>Py(t)},{text:"取消"}]):tu("提示",`背包升级需要消耗：\n${r}\n您的物品不足，是否消耗${n}神力改变空间，扩张背包？`,[{text:"确认",onPress:()=>Dy()},{text:"取消"}])}function Oy(e){let{onPress:n,children:r}=e;return t.createElement(Ea,{className:yy.slot,activeOpacity:.8,onPress:n},t.createElement(_a,{className:yy.slotContent},t.createElement(xa,null,r)))}let Cy=ai(vy=class extends t.Component{constructor(){super(...arguments),by(this,"selectedItem",Oe(null)),by(this,"onLeftPressed",(()=>{Jk.navigate("/purchase")})),by(this,"onRightPressed",(()=>{Jk.navigate("/inventory/bank")})),by(this,"setLootRule",(()=>{Jk.navigate("/inventory/loot-rule")})),by(this,"renderRow",((e,n)=>t.createElement(xy,{onPress:Ft((()=>this.selectedItem.set(e))),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(yu.player.equipments[e],e)}render(){const{player:e}=yu,n=yu.player.inventory.length,r=n-yu.player.inventory.filter((e=>e.empty)).length;return t.createElement(Um,{title:"背包",leftNavTitle:"黑市",rightNavTitle:"仓库",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(_a,{className:yy.unit},t.createElement(_a,{className:yy.left},t.createElement(_a,{className:yy.equlist},t.createElement(_a,{className:yy.titletext},t.createElement(xa,null,"装 备 栏")),this.renderEquip("weapon"),this.renderEquip("assistant"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament")),t.createElement(_a,{className:yy.detail1},t.createElement(Ay,{selected:this.selectedItem}))),t.createElement(_a,{className:yy.right},t.createElement(_a,{className:yy.titletext},t.createElement(xa,null,"物 品 栏 ",r,"/",n)),t.createElement(Sa,null,e.inventory.map(this.renderRow),e.inventoryDiamondLevel<so.upgrades.inventoryByDiamonds.length&&t.createElement(Oy,{onPress:Ry},"+")),t.createElement(_a,{className:yy.other},t.createElement(xa,null,"金币:",t.createElement(mg,{unit:e,field:"gold"})),t.createElement(xa,null,"神力:",t.createElement(mg,{unit:Mm,field:"diamonds"}))),t.createElement(_a,{className:yy.other},t.createElement(_y,{onPress:()=>e.sortInventory(e.inventory)},"整理背包"),t.createElement(_y,{onPress:this.setLootRule},"拾取规则")))))}})||vy;var Ty=i(5975),Fy={};Fy.styleTagTransform=aa(),Fy.setAttributes=na(),Fy.insert=ea().bind(null,"head"),Fy.domAPI=Xs(),Fy.insertStyleElement=ia(),Js()(Ty.A,Fy);const My=Ty.A&&Ty.A.locals?Ty.A.locals:void 0;var Ny,jy;function Iy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function By(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const Hy={melee:"物理",magic:"魔法",fire:"火焰",cold:"寒冷",real:"真实",dark:"暗影",lightning:"闪电",light:"神圣",poison:"毒素"},Ly={diamonds:"神力",gold:"金币"};let qy=(Ny=class{constructor(){var e;Iy(this,"keyGenerator",0),(e=jy)&&Object.defineProperty(this,"rendered",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0}),Iy(this,"onMessage",Ft((e=>{const n=this[To("render-"+e.type)];if(!n)return void console.warn(`No renderer for message ${e.type}: ${To("render-"+e.type)}`);const r=n.call(this,e);if(!r)return;const i=this.keyGenerator+=1;this.keyGenerator>1e5&&(this.keyGenerator=0),this.rendered.push({type:e.type,jsx:t.cloneElement(r,{key:i})}),this.rendered.length>1e3&&this.rendered.shift()}))),Mo.addListener("message",this.onMessage),bn(this)}dispose(){this.rendered.clear()}renderGeneral(e){let{message:n}=e;return t.createElement(xa,null,n)}renderMapEnter(e){let{map:n}=e;const r=so.maps[n];return t.createElement(xa,null,"来到了",r.name)}renderBattleDodge(e){let{from:n,to:r,skill:i}=e;return i?t.createElement(xa,null,n.displayName,"的",i.name,"偏离了，没有命中",r.displayName,"。"):t.createElement(xa,null,n.displayName,"的技能偏离了，没有命中",r.displayName,"。")}renderBattleDamage(e){let{damageType:n,from:r,to:i,skill:s,value:a,isCrit:o,isblock:l,absorbed:u}=e,c=s.name||s;a=Math.ceil(a),u=Math.floor(u);let p="";p=a>=1e8?`${(a/1e8).toFixed(2)}亿`:a>=1e4?`${(a/1e4).toFixed(2)}万`:`${a}`;let h="";if(h=u>=1e8?`${(u/1e8).toFixed(2)}亿`:u>=1e4?`${(u/1e4).toFixed(2)}万`:`${u}点`,a>0||u>0)return r?t.createElement(xa,null,!!o&&t.createElement(xa,{className:My.crit},"暴击！"),!!l&&t.createElement(xa,{className:My.crit},"格挡！"),r.displayName,'的"',c,'"对',i.displayName,"造成了",t.createElement(xa,{className:"player"===r.camp?My.campPlayer:My.campOther},p),a<1e4?"点":"",Hy[n],"伤害",u?`（吸收了${h}）`:"","。"):t.createElement(xa,null,!!o&&t.createElement(xa,{className:My.crit},"暴击",o>1&&`x${o}`,"！"),'触发了"',s,'"效果,',i.displayName,"受到",p,a<1e4?"点":"",Hy[n],"伤害",u?`（吸收了${h}）`:"","。")}renderBattleHeal(e){let{from:n,to:r,skill:i,value:s}=e;if(s>0){s=Math.ceil(s);let e="";return e=s>=1e8?`${(s/1e8).toFixed(2)}亿`:s>=1e4?`${(s/1e4).toFixed(2)}万`:`${s}`,n?t.createElement(xa,null,n.displayName,"的",i.name,"为",r.displayName,"恢复了",t.createElement(xa,{className:My.recovery},e),s<1e4?"点":"","生命值。"):t.createElement(xa,null,r.displayName,"恢复了",t.createElement(xa,{className:My.recovery},e),s<1e4?"点":"","生命值。")}}renderBattleSkill(e){let{from:n,targets:r,skill:i}=e;return r?t.createElement(xa,null,n.displayName,"对",r.map((e=>e.displayName)).join(","),"释放了",i.name,"。"):t.createElement(xa,null,n.displayName,"释放了",i.name,"。")}renderPlayerDeath(e){let{who:n,rebornIn:r}=e;return t.createElement(xa,null,n.displayName,"受到重伤，将在",t.createElement(xa,{className:My.rebornIn},Math.round(r)),"秒后恢复。")}renderBattleDeath(e){let{who:t}=e}renderMapEnter(e){let{map:n}=e;return t.createElement(xa,null,"来到了",so.maps[n].name,"。")}renderEnemyAppear(e){let{enemy:t,summoner:n}=e}renderPlayerGotExp(e){let{who:n,value:r}=e;return t.createElement(xa,null,n.displayName,"获得了",Math.round(r),"点经验。")}renderPlayerLoot(e){let{who:n,what:r,showToast:i}=e;const{count:s,key:a,dungeonKey:o}=r,l=so.goods[a]&&so.goods[a].quality;let u=Ly[a],c=u;return"ticket"===a?(u=t.createElement(xa,{className:ky[5]},"钥石：",Kc(o)||so.maps[o].name),c=`钥石：${Kc(o)||so.maps[o].name}`):u||(u=t.createElement(xa,{className:ky[l]},so.goods[a].name),c=so.goods[a].name),s&&s>1?(i&&uo(`获得了${s}个${c}。`),t.createElement(xa,null,n.name,"拾取了",s,"个",u,"。")):(i&&uo(`获得了${c}。`),t.createElement(xa,null,n.name,"拾取了",u,"。"))}renderBattleBuff(e){let{who:n,what:r}=e;return so.buffs[r].hidden?null:t.createElement(xa,null,n.displayName,"受到了",so.buffs[r].name,"效果的影响。")}renderBattleBuffOff(e){let{who:n,what:r}=e;return so.buffs[r].hidden?null:t.createElement(xa,null,n.displayName,"的",so.buffs[r].name,"效果消失了。")}renderBattleBreakCasting(e){let{who:n,what:r}=e;return t.createElement(xa,null,n.displayName,"的",r.name,"被打断了。")}},jy=By(Ny.prototype,"rendered",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),By(Ny.prototype,"dispose",[Ft],Object.getOwnPropertyDescriptor(Ny.prototype,"dispose"),Ny.prototype),Ny);const zy=new qy;var Uy=i(549),Vy={};Vy.styleTagTransform=aa(),Vy.setAttributes=na(),Vy.insert=ea().bind(null,"head"),Vy.domAPI=Xs(),Vy.insertStyleElement=ia(),Js()(Uy.A,Vy);const Ky=Uy.A&&Uy.A.locals?Uy.A.locals:void 0;var Yy=i(8451),$y={};$y.styleTagTransform=aa(),$y.setAttributes=na(),$y.insert=ea().bind(null,"head"),$y.domAPI=Xs(),$y.insertStyleElement=ia(),Js()(Yy.A,$y);const Wy=Yy.A&&Yy.A.locals?Yy.A.locals:void 0,Gy=[];let Jy=0;function Qy(n){++Jy;const r=document.createElement("div");r.className=Wy.root,document.body.appendChild(r);const i=n.props.onDismiss;(0,e.render)(t.cloneElement(n,{onDismiss:()=>{if(i&&i(),(0,e.unmountComponentAtNode)(r),document.body.removeChild(r),0==--Jy)for(const e of Gy.splice(0))e()}}),r)}var Xy=i(8777),Zy={};Zy.styleTagTransform=aa(),Zy.setAttributes=na(),Zy.insert=ea().bind(null,"head"),Zy.domAPI=Xs(),Zy.insertStyleElement=ia(),Js()(Xy.A,Zy);const ev=Xy.A&&Xy.A.locals?Xy.A.locals:void 0;var tv,nv,rv,iv;function sv(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function av(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ov(e,t,n,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let lv=ai((nv=class extends t.Component{constructor(){super(),sv(this,"scenePanel",rv,this),sv(this,"content",iv,this),av(this,"eventKey",0),av(this,"onScrollViewRef",(e=>{this.scrollView=e})),av(this,"onPressResolve",null),av(this,"onPress",(()=>{const{onPressResolve:e}=this;e&&(this.onPressResolve=null,e())})),av(this,"back",(()=>{var e,t;null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)})),bn(this)}componentDidMount(){this.play()}async play(){var e,t;const n=function(e){const{script:t}=so.stories[e],n=t.split("\n"),r=[];let i=0;for(;i<n.length;i++){const e=n[i].trim().split(" ");if(!(e.length<=0)&&e[0]){if("{"===e[e.length-1]){const t=[];for(;i<n.length-1;){const e=n[++i];if("}"===e)break;t.push(e)}e[e.length-1]=t.join("\n")}r.push({type:e[0].toLowerCase(),args:e.slice(1)})}}return r}(this.props.story);for(const e of n)await this[e.type](...e.args);null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)}aside(e){return this.say(null,e)}async say(e,n){this.contentTop=0,Nt((()=>{this.content=t.createElement(_a,{className:ev.content,key:++this.eventKey},e&&t.createElement(xa,{className:ev.name},"[",e,"]"),t.createElement(_a,{className:ev.textContainer,ref:this.onScrollViewRef},t.createElement(xa,{className:ev.text},n)))}));let r=0;for(;;){await this.waitPress();const t=this.scrollView;if(!t)break;const n=t.scrollHeight;if(!(r+t.offsetHeight<n))break;r+=e?50:75,this.scrollView.scrollTop=r}Nt((()=>{this.content=null}))}async scene(e){this.scenePanel&&(this.scenePanel=t.createElement(_a,{className:$s(ev.scene,ev.hidden),key:++this.eventKey},t.createElement(xa,{className:ev.sceneLabel},e)),await this.wait(500)),e&&(this.scenePanel=t.createElement(_a,{className:ev.scene,key:++this.eventKey},t.createElement(xa,{className:ev.sceneLabel},e))),await this.wait(500)}async wait(e){return new Promise((t=>{this.onPressResolve=t,setTimeout(t,+e)})).then((()=>{this.onPressResolve=null}))}waitPress(){return new Promise((e=>{this.onPressResolve=e}))}render(){return t.createElement(_a,{className:ev.container,onClick:this.onPress},this.scenePanel,this.content,t.createElement(Ea,{className:ev.back,onPress:this.back},t.createElement(xa,{className:ev.backLabel},"跳过>>")))}},rv=ov(nv.prototype,"scenePanel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),iv=ov(nv.prototype,"content",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tv=nv))||tv;var uv;function cv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pv=ai((function(e){let{map:n,endlessLevel:r=0,onChangeMap:i,children:s,noActive:a,getMaxCount:o,battleCount:l}=e,{name:u}=n;r&&(u=u.replace("噩梦","无尽噩梦"+r+"层"));const c=!a&&Ya((()=>(!r||r==yu._endlessLevel)&&yu.map===n.key)),p=Ya((()=>yu.player.pendingMaps.has(n.key)));return t.createElement(Ea,{activeOpacity:.8,className:[Ky.option,p&&Ky.optionPending,c&&Ky.optionActive],onPress:()=>{i&&(n.isDungeon?(yu.EnterDungeon(n,1,r),dv()):i&&i(n))},onLongPress:async()=>{if(!i)return;if(!n.isDungeon)return void(i&&i(n));const e=o();if(e<=1)return yu.EnterDungeon(n,1,r),void dv();const t=await ru(`输入数量(1-${e})`,"",`${e}`);if(!t)return;const s=Math.min(Math.max(0,0|t),e);"chapter5.byer6"===n.key&&yu.player.hdlv>=3?tu("提示","可以通过扫荡直接获得钥石和经验值，且不消耗神力，但无法获得其他掉落，是否扫荡？",[{text:"扫荡",onPress:()=>{Nt((()=>{yu.player.dungeonTickets.set("chapter5.byer6",yu.player.dungeonTickets.get("chapter5.byer6")-s),yu.lootscb([{type:"ticket",rate:1,dungeons:{"nightmare.1":1}}],s),yu.gotExp(8e6*s,100),yu.player.save()}))}},{text:"进入副本",onPress:()=>{Nt((()=>{yu.EnterDungeon(n,s,r),dv()}))}}]):(yu.EnterDungeon(n,s,r),dv())}},t.createElement(xa,{className:[Ky.label,p&&Ky.labelPending,c&&Ky.labelActive]},u,s))}));function hv(e){const{key:t,requirement:n}=e,{storiesMap:r}=Mm;return"done"!==r.get(t)&&eg(n)}function fv(e){const{player:t}=yu,{storiesMap:n}=Mm;if("done"!==n.get(e.key)){n.set(e.key,"done");for(const n of Object.keys(e.awards||{}))if("purchaseRate"===n)Mm.purchaseRate+=e.awards[n];else if("number"==typeof e.awards[n]){const r=t.awardInventory.find((e=>e.key===n));r?r.count+=e.awards[n]:t.awardInventory.push(new Gc("award").fromJS({key:n,count:e.awards[n]}))}else{const{quality:r,affixes:i}=e.awards[n];t.awardInventory.push(new Gc("award").fromJS({key:n,count:1,quality:r,affixes:i}))}Mm.save(),t&&t.save()}}const dv=Ft((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";if(Jy>0)return;const n=Object.keys(so.stories).map((e=>so.stories[e])),{storiesMap:r}=Mm;let i=!1;function s(){for(const e of Mm.enemyTaskMap.keys()){const n=Mm.enemyTaskMap.get(e);for(const r of n.keys())if(n.get(r)<=0){const s=so.stories[r];if(s.script)return void Qy(t.createElement(lv,{story:s.key,onDismiss:()=>{n.delete(r),0===n.size&&Mm.enemyTaskMap.delete(e),fv(s),mv()}}));n.delete(r),fv(s),i=!0}0===n.size&&Mm.enemyTaskMap.delete(e)}}for("kill"===e?s():i=!0;i;){i=!1,s();const e=n.filter(hv);for(const n of e)if(n)if(n.taskType){if(!r.has(n.key))switch(r.set(n.key,"task"),n.taskType){case"kill":Mm.addKillTask(n.key,n.enemy,n.killCount);break;case"purchase":break;default:console.warn(`Unknown task type ${n.taskType}`)}}else{if(n.script)return void Qy(t.createElement(lv,{story:n.key,onDismiss:()=>{fv(n),mv()}}));fv(n),i=!0}}}));function mv(){var e;e=()=>{dv()},0!=Jy?Gy.push(e):e()}function gv(e){return!so.maps[e].requirement||eg(so.maps[e].requirement)}const yv=ai((function(e){let{map:n,onChangeMap:r,showNoTicket:i}=e;const s=yu.player.countTicket(n.key);return(i?s>0:s<=0)?null:t.createElement(pv,{isDungeon:!0,map:n,onChangeMap:r,getMaxCount:()=>{const e=n.group||n.key;let t=yu.player.pendingMaps.get(e)?yu.player.pendingMaps.get(e).count:0;return t+=(so.maps[yu.map].group||yu.map)===e?1:0,s-t}},!i&&t.createElement(xa,{className:Ky.cooldownCount},"×",`${s}`))}));Object.keys(so.maps).filter((e=>"nightmare.1"===so.maps[e].group)),Object.keys(so.maps).filter((e=>"nightmare.2"===so.maps[e].group));const vv=ai((function(e){let{level:n}=e;const r=yu.player.countTicket("nightmare."+n);if(!r)return null;const i=Object.keys(so.maps).filter((e=>"nightmare"===so.maps[e].group));return t.createElement(_a,{className:Ky.endlessGroup},i.map((e=>t.createElement(pv,{key:e,isDungeon:!0,map:so.maps[e],endlessLevel:n,onChangeMap:()=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=Array.from(yu.player.pendingMaps.values()).filter((e=>e.endlessLevel===n)).reduce(((e,t)=>e+t.count),0);r+=yu._endlessLevel===n?1:0;const{player:i}=yu;if(i.countTicket("nightmare."+n)<=r)tu("提示","现在没有任何该等级的无尽噩梦钥石。");else{if(so.maps[yu.map].isDungeon)return void(yu.player.pendingMaps.has(e)?yu.player.pendingMaps.get(e).count+=t:yu.player.pendingMaps.set(e,{endlessLevel:n,count:t}));Nt((()=>{yu.player.outsidemap=yu.map,yu._map=e,yu._endlessLevel=n,yu.onMapChanged()}))}}(e,n)},getMaxCount:()=>r-0},t.createElement(xa,{className:Ky.cooldownCount},"×",`${r}`)))))})),bv=ai((function(){const e=Mm.highestEndlessLevel,n=[];for(let r=1;r<=e;r++)n.push(t.createElement(vv,{level:r,key:r}));return t.createElement(t.Fragment,null,n)}));let kv=ai(uv=class extends t.Component{constructor(){var e;super(...arguments),e=this,cv(this,"renderMap",(e=>{const n=so.maps[e];return t.createElement(pv,{map:n,key:e,onChangeMap:this.onChangeMap})})),cv(this,"renderMapName",((e,n)=>{const r=so.maps[e[0]];return t.createElement(pv,{map:r,endlessLevel:e[1],key:"pending-"+n,onChangeMap:e=>this.cancelPendingMap(e,n),noActive:!0})})),cv(this,"renderMapName2",((e,n)=>{const r=e,i=yu.player.pendingMaps.get(r).count,s=yu.player.pendingMaps.get(r).endlessLevel,a=so.maps[r];return t.createElement(pv,{map:a,endlessLevel:s,key:"pending-"+n,noActive:!0},t.createElement(xa,{className:Ky.cooldownCount},"×",`${i}`))})),cv(this,"renderDungeon",(e=>t.createElement(yv,{map:so.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck}))),cv(this,"renderDungeonNoTicket",(e=>t.createElement(yv,{map:so.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck,showNoTicket:!0}))),cv(this,"cancelPendingMap",Ft(((e,t)=>{so.maps[e.key].isDungeon&&yu.player.pendingMaps.has(e.key)&&(yu.player.pendingMaps.get(e.key).count-=1,yu.player.pendingMaps.get(e.key).count<1&&yu.player.pendingMaps.delete(e.key))}))),cv(this,"onChangeMap",Ft(((e,t)=>{t||!so.maps[yu.map].isDungeon?yu.map!==e.key&&(yu.map=e.key,yu._endlessLevel=0,yu.player.pendingMaps.clear(),dv()):tu("提示","是否确认离开进行中的地城？",[{text:"确认",onPress:()=>{this.onChangeMap(e,!0)}},{text:"取消"}])}))),cv(this,"onEnterDungeon",Ft((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;so.maps[yu.map].isDungeon?yu.player.pendingMaps.has(e.key)?yu.player.pendingMaps.get(e.key).count+=t:yu.player.pendingMaps.set(e.key,{endlessLevel:0,count:1}):(yu.player.outsidemap=yu.map,yu.map=e.key,dv())}))),cv(this,"EnterDungeon",Ft((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;yu.player.pendingMaps.has(e.key)?yu.player.pendingMaps.get(e.key).count+=t:yu.player.pendingMaps.set(e.key,{endlessLevel:n,count:t}),so.maps[yu.map].isDungeon||(yu.player.pendingMaps.get(e.key).count-=1,yu.player.pendingMaps.get(e.key).count<1&&yu.player.pendingMaps.delete(e.key),yu.player.outsidemap=yu.map,yu.map=e.key,dv())}))),cv(this,"onEnterDungeonCheck",(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t.group||t.key;let s=0;s+=yu.player.pendingMaps.get(i)?yu.player.pendingMaps.get(i).count:0,s+=(so.maps[yu.map].group||yu.map)===i?1:0;const{player:a}=yu;a.countTicket(i)<=s?t.resetPrice>0?yu.buyTicket(t):tu("提示","您无法再次进入该副本。"):e.EnterDungeon(t,n,r)}))}renderDungeonPhase(){const{enemyBorn:e,mapData:n}=yu;if(!e||null==e.currentPhase)return null;const{currentPhase:r}=e;return[t.createElement(_a,{className:Ky.section,key:"title"},t.createElement(xa,{className:Ky.sectionTitle},"当前副本进度：",n.name)),...n.phases.map(((e,i)=>t.createElement(_a,{key:`phase_${i}`,className:Ky.phase},t.createElement(xa,{className:Ky.phaseState},r===i&&">"),t.createElement(xa,{className:Ky.phaseLabel},r>=i?n.phases[i].description:"???"))))]}storiestips(){tu("掉落提示","洞窟深处：掉落10级装备。\n\t迷雾森林：掉落15级装备。\n\t矿洞深处：掉落20级装备。\n\t神秘祭坛：掉落25级装备。\n\t幽暗的地窖：掉落30级装备。\n\t邻村村口：掉落35级装备。\n\t庇护所773号：掉落40级装备。\n\t森林深处：掉落45级装备。\n\t湖畔镇：掉落50级装备。\n\t闪光湖：掉落55级装备。\n\t混乱元素王座：掉落60级装备。\n\t雨之都卡格西：掉落65级装备。\n\t卡尔要塞：掉落70级装备。\n\t司璐登监狱：掉落75级装备。\n\t四骑士圣殿：掉落80级装备。\n\t未知暗殿：掉落85级装备。\n\t幽暗的货仓：掉落90级装备。\n\t睡美人湖：掉落95级装备。\n\t噩梦巨人国度：掉落100级装备。\n")}render(){return t.createElement(Sa,{className:Ky.panel,contentContainerClassName:Ky.panelContent,bounces:!1},t.createElement(_a,{className:Ky.section},t.createElement(xa,{className:Ky.sectionTitle},"地图")),Object.keys(so.maps).filter((e=>!so.maps[e].isDungeon)).filter((e=>gv(e))).map(this.renderMap),Mm.highestEndlessLevel>0&&t.createElement(_a,{className:Ky.section},t.createElement(xa,{className:Ky.sectionTitle},"无尽副本")),t.createElement(bv,null),t.createElement(_a,{className:Ky.section},t.createElement(xa,{className:Ky.sectionTitle},"副本"),t.createElement(_y,{onPress:this.storiestips},"掉落提示")),Object.keys(so.maps).filter((e=>so.maps[e].isDungeon&&!so.maps[e].isEndless)).filter((e=>gv(e))).map(this.renderDungeon),this.renderDungeonPhase(),yu.player.pendingMaps.size>0&&t.createElement(_a,{className:Ky.section},t.createElement(xa,{className:Ky.sectionTitle},"副本队列")),Array.from(yu.player.pendingMaps.keys()).map(this.renderMapName2),t.createElement(_a,{className:Ky.section},t.createElement(xa,{className:Ky.sectionTitle},"副本（无钥石）")),Object.keys(so.maps).filter((e=>so.maps[e].isDungeon&&!so.maps[e].isEndless)).filter((e=>gv(e))).map(this.renderDungeonNoTicket))}})||uv;var wv=i(1062),xv={};xv.styleTagTransform=aa(),xv.setAttributes=na(),xv.insert=ea().bind(null,"head"),xv.domAPI=Xs(),xv.insertStyleElement=ia(),Js()(wv.A,xv);const _v=wv.A&&wv.A.locals?wv.A.locals:void 0;function Ev(e){let{value:n,maxValue:r,bgColor:i,barColor:s,className:a}=e;const o=r>0?n/r:1;return t.createElement(_a,{className:[_v.container,a],style:{backgroundColor:i}},t.createElement(_a,{className:_v.round,style:{flex:o,backgroundColor:s}}),t.createElement(_a,{className:{flex:1-o}}))}var Sv=i(9982),Av={};Av.styleTagTransform=aa(),Av.setAttributes=na(),Av.insert=ea().bind(null,"head"),Av.domAPI=Xs(),Av.insertStyleElement=ia(),Js()(Sv.A,Av);const Dv=Sv.A&&Sv.A.locals?Sv.A.locals:void 0;function Pv(e){let{value:n,maxValue:r,bgColor:i,activeColor:s}=e;const a=[];for(let e=0;e<r;e++)a.push(e);return t.createElement(_a,{className:Dv.container},a.map(((e,r)=>t.createElement(_a,{className:Dv.content,key:r},t.createElement(_a,{className:Dv.point,style:{backgroundColor:n-1<r?i:s}})))))}const Rv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.hp,maxValue:n.maxHp,bgColor:"#ddd",barColor:"red"})})),Ov=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.mp,maxValue:n.maxMp,bgColor:"#ddd",barColor:"blue"})})),Cv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.rp,maxValue:n.maxRp,bgColor:"#ddd",barColor:"#DC143C"})})),Tv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.ep,maxValue:n.maxEp,bgColor:"#ddd",barColor:"#10A78F"})})),Fv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.fp,maxValue:n.maxFp,bgColor:"#ddd",barColor:"red"})})),Mv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.cp,maxValue:n.maxCp,bgColor:"#ddd",barColor:"blue"})})),Nv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Ev,{className:r,value:n.exp,maxValue:n.maxExp,bgColor:"#ddd",barColor:"yellow"})})),jv=ai((function(e){let{unit:n,className:r}=e;return n.casting||n.reading?t.createElement(Ev,{className:r,value:n.castingRest,maxValue:n.castingTime,bgColor:"#ddd",barColor:"#999"}):null})),Iv=ai((function(e){let{unit:n}=e;const r=n.runAttrHooks(5,"maxComboPoint");return t.createElement(Pv,{value:n.comboPoint,maxValue:r,bgColor:"#ccc",activeColor:"#f37800"})}));var Bv=i(7373),Hv={};Hv.styleTagTransform=aa(),Hv.setAttributes=na(),Hv.insert=ea().bind(null,"head"),Hv.domAPI=Xs(),Hv.insertStyleElement=ia(),Js()(Bv.A,Hv);const Lv=Bv.A&&Bv.A.locals?Bv.A.locals:void 0;var qv,zv;function Uv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vv=ai((function(e){let{unit:n}=e;return t.createElement(Ea,{className:[Lv.unit,Lv[To("unit-"+n.camp)]],onPress:()=>yu.focusEnemy(n),activeOpacity:.8},t.createElement(dg,{className:Lv.name,unit:n,field:"displayName",numberOfLines:1}),t.createElement(Rv,{unit:n,className:Lv.bar}),n.maxMp>0&&t.createElement(Ov,{unit:n,className:Lv.bar}),n.maxRp>0&&t.createElement(Cv,{unit:n,className:Lv.bar}),n.maxEp>0&&t.createElement(Tv,{unit:n,className:Lv.bar}),(n.player&&"knight"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Iv,{unit:n}),(n.player&&"lv80.sorceress6"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Iv,{unit:n}),(n.player&&"villageH"===n.player.role||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Iv,{unit:n}),t.createElement(xa,{numberOfLines:1,className:Lv.target},"目标：",t.createElement(dg,{className:Lv.target,unit:n,field:"targetDisplayName"})),t.createElement(_a,{className:Lv.spacer}),t.createElement(dg,{className:Lv.casting,unit:n,field:"castingName"}),t.createElement(jv,{unit:n,className:Lv.bar}))}));let Kv=ai(qv=class extends t.PureComponent{constructor(){super(...arguments),Uv(this,"scrollRef",t.createRef())}componentDidMount(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}componentDidUpdate(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}render(){return t.createElement(Sa,{className:Lv.messageList,contentContainerClassName:Lv.content,ref:this.scrollRef},zy.rendered.slice(-200).map((e=>e.jsx)))}})||qv,Yv=ai(zv=class extends t.Component{constructor(){super(...arguments),Uv(this,"renderUnit",(e=>t.createElement(Vv,{unit:e,key:e.key})))}render(){return t.createElement(_a,{className:Lv.container},t.createElement(Sa,{className:Lv.panel,contentContainerClassName:Lv.panelContent,bounces:!1},yu.units.map(this.renderUnit)),t.createElement(Kv,null))}})||zv;var $v=i(1180),Wv={};Wv.styleTagTransform=aa(),Wv.setAttributes=na(),Wv.insert=ea().bind(null,"head"),Wv.domAPI=Xs(),Wv.insertStyleElement=ia(),Js()($v.A,Wv);const Gv=$v.A&&$v.A.locals?$v.A.locals:void 0;var Jv;function Qv(){return t.createElement(_a,{className:Gv.seperator})}let Xv=ai(Jv=class extends t.Component{render(){const{unit:e}=this.props,n=(Ya((()=>e.player.level>=1)),Ya((()=>e.player.level>=1))),r=e.runAttrHooks(5,"maxComboPoint"),i=yu.playerUnit;return t.createElement(Sa,{className:Gv.panel},t.createElement(xa,null,t.createElement(dg,{className:Gv.name,unit:e,field:"displayName"}),t.createElement(mg,{unit:e.player,field:"level"}),"级",t.createElement(dg,{unit:e.player,field:"careerName"}),n&&t.createElement(xa,{className:Gv.blue},"( 巅峰等级：",t.createElement(mg,{unit:e.player,field:"peakLevel"})," 无尽噩梦层数：",t.createElement(mg,{unit:e.player,field:"hdlv"}),")")),t.createElement(_a,{className:Gv.row},t.createElement(_a,{className:Gv.column},t.createElement(xa,null,"生命值: ",t.createElement(mg,{unit:e,field:"hp"})," /"," ",t.createElement(mg,{unit:e,field:"maxHp"})),t.createElement(Rv,{unit:e}),e.maxMp>0&&t.createElement(xa,null,"法力值: ",t.createElement(mg,{unit:e,field:"mp"})," /"," ",t.createElement(mg,{unit:e,field:"maxMp"})),e.maxMp>0&&t.createElement(Ov,{unit:e}),e.maxRp>0&&t.createElement(xa,null,"怒气: ",t.createElement(mg,{unit:e,field:"rp"})," /"," ",t.createElement(mg,{unit:e,field:"maxRp"})),e.maxRp>0&&t.createElement(Cv,{unit:e}),e.maxEp>0&&t.createElement(xa,null,"护盾: ",t.createElement(mg,{unit:e,field:"ep"})," /"," ",t.createElement(mg,{unit:e,field:"maxEp"})),e.maxEp>0&&t.createElement(Tv,{unit:e}),e.maxFp>0&&t.createElement(xa,null,"火能: ",t.createElement(mg,{unit:e,field:"fp"})," /"," ",t.createElement(mg,{unit:e,field:"maxFp"})),e.maxFp>0&&t.createElement(Fv,{unit:e}),e.maxCp>0&&t.createElement(xa,null,"冰能: ",t.createElement(mg,{unit:e,field:"cp"})," /"," ",t.createElement(mg,{unit:e,field:"maxCp"})),e.maxCp>0&&t.createElement(Mv,{unit:e}),e.player&&"knight"===e.player.currentCareer&&t.createElement(xa,null,"圣能: ",t.createElement(mg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"knight"===e.player.currentCareer&&t.createElement(Iv,{unit:e}),e.player&&"villageH"===e.player.role&&t.createElement(xa,null,"拳意: ",t.createElement(mg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"villageH"===e.player.role&&t.createElement(Iv,{unit:e}),e.player&&"lv80.sorceress6"===e.player.currentCareer&&t.createElement(xa,null,"电能: ",t.createElement(mg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"lv80.sorceress6"===e.player.currentCareer&&t.createElement(Iv,{unit:e}),t.createElement(xa,null,"经验: ",t.createElement(mg,{unit:e,field:"exp"})," /"," ",t.createElement(mg,{unit:e,field:"maxExp"})),t.createElement(Nv,{unit:e})),t.createElement(_a,{className:Gv.column},t.createElement(xa,null,"力量: ",t.createElement(mg,{unit:e,field:"str"})," "),t.createElement(xa,null,"敏捷: ",t.createElement(mg,{unit:e,field:"dex"})," "),t.createElement(xa,null,"智力: ",t.createElement(mg,{unit:e,field:"int"})," "),t.createElement(xa,null,"耐力: ",t.createElement(mg,{unit:e,field:"sta"})," "))),t.createElement(_a,{className:Gv.row},t.createElement(_a,{className:Gv.column},t.createElement(xa,null,"攻击力: ",t.createElement(gg,{unit:e,field:"atk"})," "),t.createElement(xa,null,"暴击等级: ",t.createElement(gg,{unit:e,field:"critR_level"})," "),t.createElement(xa,null,"暴击伤害等级: ",t.createElement(gg,{unit:e,field:"critB_level"})," "," "),t.createElement(Qv,null),t.createElement(xa,null,"物理伤害等级: ",t.createElement(gg,{unit:e,field:"dmgLevel"})," "),t.createElement(xa,null,"火焰伤害等级: ",t.createElement(gg,{unit:e,field:"firedmgLevel"})," "),t.createElement(xa,null,"寒冷伤害等级: ",t.createElement(gg,{unit:e,field:"colddmgLevel"})," "),t.createElement(xa,null,"闪电伤害等级: ",t.createElement(gg,{unit:e,field:"lightningdmgLevel"})," "),t.createElement(xa,null,"毒素伤害等级: ",t.createElement(gg,{unit:e,field:"poisondmgLevel"})," "),t.createElement(xa,null,"神圣伤害等级: ",t.createElement(gg,{unit:e,field:"lightdmgLevel"})," "),t.createElement(xa,null,"暗影伤害等级: ",t.createElement(gg,{unit:e,field:"darkdmgLevel"})," "),t.createElement(Qv,null),t.createElement(xa,null,"闪避: ",t.createElement(gg,{unit:e,field:"missing"})," "),t.createElement(xa,null,"格挡: ",t.createElement(gg,{unit:e,field:"block"})," "),t.createElement(xa,null,"物理防御: ",t.createElement(gg,{unit:e,field:"def"})," "),t.createElement(xa,null,"火焰抗性: ",t.createElement(gg,{unit:e,field:"fireResist"})," "," "),t.createElement(xa,null,"寒冷抗性: ",t.createElement(gg,{unit:e,field:"coldResist"})," "," "),t.createElement(xa,null,"闪电抗性: ",t.createElement(gg,{unit:e,field:"lightningResist"})," "," "),t.createElement(xa,null,"毒素抗性: ",t.createElement(gg,{unit:e,field:"poisonResist"})," "," "),t.createElement(xa,null,"神圣抗性: ",t.createElement(gg,{unit:e,field:"lightResist"})," "," "),t.createElement(xa,null,"暗影抗性: ",t.createElement(gg,{unit:e,field:"darkResist"})," "," "),t.createElement(Qv,null),t.createElement(xa,null,"生命恢复: ",t.createElement(gg,{unit:e,field:"hpRecovery"}),"/s"," "),t.createElement(xa,null,"法力恢复: ",t.createElement(gg,{unit:e,field:"mpRecovery"}),"/s"," "),t.createElement(xa,null,"生命汲取: ",t.createElement(gg,{unit:e,field:"leech"})," "),t.createElement(xa,null,"法力汲取: ",t.createElement(gg,{unit:e,field:"leech2"})," "),t.createElement(xa,null,"经验加成:"," ","+",t.createElement(gg,{unit:e,field:"expInc",mul:100,inc:-1}),"%"," "),t.createElement(xa,null,"熟练度加成:"," ","+",t.createElement(gg,{unit:e,field:"skillExpInc",mul:100,inc:-1}),"%"," "),t.createElement(xa,null,"运气:"," ",t.createElement(gg,{unit:e,field:"mf",mul:100,inc:-1}),"%"," "),t.createElement(Qv,null)),t.createElement(_a,{className:Gv.column},t.createElement(xa,null,"急速:"," ",t.createElement(gg,{unit:e,field:"speedRate",mul:100,inc:-1}),"%"," "),t.createElement(xa,null,"暴击几率: ",t.createElement(gg,{unit:e,field:"critRate",mul:100}),"% "," "),t.createElement(xa,null,"暴击伤害: ",t.createElement(gg,{unit:e,field:"critBonus",mul:100}),"% "," "),t.createElement(Qv,null),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"dmgAdd",mul:100,inc:-1}),"% 物理伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"fireDmgadd",mul:100,inc:-1}),"% 火焰伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"coldDmgadd",mul:100,inc:-1}),"% 寒冷伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"lightningDmgadd",mul:100,inc:-1}),"% 闪电伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"poisonDmgadd",mul:100,inc:-1}),"% 毒素伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"lightDmgadd",mul:100,inc:-1}),"% 神圣伤害"," "),t.createElement(xa,null,"提高 ",t.createElement(gg,{unit:e,field:"darkDmgadd",mul:100,inc:-1}),"% 暗影伤害"," "),t.createElement(Qv,null),t.createElement(xa,null,"有 ",t.createElement(gg,{unit:e,field:"missrate",mul:100}),"% 几率闪避"," "),t.createElement(xa,null,t.createElement(gg,{unit:e,field:"blockrate",mul:100}),"% 几率减少",(100*i.blockeffect).toFixed(2),"%伤害"),t.createElement(xa,null,"减少 ",(100*i.defRate).toFixed(2),"% 物理伤害"),t.createElement(xa,null,"减少 ",(100*i.fireResRate).toFixed(2),"% 火焰伤害"),t.createElement(xa,null,"减少 ",(100*i.coldResRate).toFixed(2),"% 寒冷伤害"),t.createElement(xa,null,"减少 ",(100*i.lightningResRate).toFixed(2),"% 闪电伤害"),t.createElement(xa,null,"减少 ",(100*i.poisonResRate).toFixed(2),"% 毒素伤害"),t.createElement(xa,null,"减少 ",(100*i.lightResRate).toFixed(2),"% 神圣伤害"),t.createElement(xa,null,"减少 ",(100*i.darkResRate).toFixed(2),"% 暗影伤害"),t.createElement(Qv,null),t.createElement(xa,null,"物理吸收: ",t.createElement(gg,{unit:e,field:"meleeAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"火焰吸收: ",t.createElement(gg,{unit:e,field:"fireAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"寒冷吸收: ",t.createElement(gg,{unit:e,field:"coldAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"闪电吸收: ",t.createElement(gg,{unit:e,field:"lightningAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"毒素吸收: ",t.createElement(gg,{unit:e,field:"poisonAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"神圣吸收: ",t.createElement(gg,{unit:e,field:"lightAbsorb",mul:100}),"%"," "),t.createElement(xa,null,"暗影吸收: ",t.createElement(gg,{unit:e,field:"darkAbsorb",mul:100}),"%"," "))))}})||Jv;var Zv=i(6360),eb={};eb.styleTagTransform=aa(),eb.setAttributes=na(),eb.insert=ea().bind(null,"head"),eb.domAPI=Xs(),eb.insertStyleElement=ia(),Js()(Zv.A,eb);const tb=Zv.A&&Zv.A.locals?Zv.A.locals:void 0;var nb,rb;function ib(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sb=i(1484);let ab=ai((rb=class extends t.Component{constructor(){super(...arguments),ib(this,"selectedItem",Oe(null)),ib(this,"dispose",void 0),ib(this,"onLeftPressed",Ft((()=>{yu.player&&yu.player.save(),yu.dispose(),Mm.currentPlayer=null,Mm.save(),zy.dispose(),Jk.navigate("/player/choose")}))),ib(this,"onMessage",(e=>{let{type:t}=e;"battle.death"===t&&dv()})),ib(this,"skipForward",(()=>{tu("提示","跳过挂机的时间不能被跳过，请耐心等待。",[{text:"确认"},{text:"还是确认"}])}))}componentDidMount(){if(Mm.lastVersion!==sb.version)return Mm.lastVersion=sb.version,void setTimeout((()=>{Jk.navigate("/story/annoucement")}),1e3);mv(),this.dispose=Mo.addListener("message",this.onMessage)}componentWillUnmount(){this.dispose&&this.dispose.remove()}get pendingTimeLabel(){return yu.pendingTime>=36e5?(yu.pendingTime/3600/1e3).toFixed(1)+"小时":(yu.pendingTime/60/1e3).toFixed(1)+"分钟"}render(){const{player:e}=yu;return yu.paused||!e?t.createElement(Um,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(_a,{className:[tb.container,tb.centerContainer]},t.createElement(xa,null,"当你不在的时候，时光依然飞逝。剩余",this.pendingTimeLabel))):t.createElement(_a,{className:tb.mainbody},t.createElement(_a,{className:tb.gamewindows},t.createElement(Um,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(_a,{className:tb.container},t.createElement(kg,{className:tb.container},t.createElement(Yv,{tabLabel:"单位"}),yu.units.filter((e=>e.player)).map(((e,n)=>t.createElement(Xv,{key:n,unit:e,tabLabel:e.name}))),t.createElement(kv,{tabLabel:"地图"}))))))}},ob=rb.prototype,lb="pendingTimeLabel",ub=[Me],cb=Object.getOwnPropertyDescriptor(rb.prototype,"pendingTimeLabel"),pb=rb.prototype,hb={},Object.keys(cb).forEach((function(e){hb[e]=cb[e]})),hb.enumerable=!!hb.enumerable,hb.configurable=!!hb.configurable,("value"in hb||hb.initializer)&&(hb.writable=!0),hb=ub.slice().reverse().reduce((function(e,t){return t(ob,lb,e)||e}),hb),pb&&void 0!==hb.initializer&&(hb.value=hb.initializer?hb.initializer.call(pb):void 0,hb.initializer=void 0),void 0===hb.initializer&&(Object.defineProperty(ob,lb,hb),hb=null),nb=rb))||nb;var ob,lb,ub,cb,pb,hb,fb=i(8945),db={};db.styleTagTransform=aa(),db.setAttributes=na(),db.insert=ea().bind(null,"head"),db.domAPI=Xs(),db.insertStyleElement=ia(),Js()(fb.A,db);const mb=fb.A&&fb.A.locals?fb.A.locals:void 0;var gb;function yb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vb=ai((function(){const{player:e}=yu;return 0===e.careerInfo.selectedSkills.length?t.createElement(_a,{className:mb.selectedList},t.createElement(xa,null,"未选择任何主动技能，该角色将不会行动。")):t.createElement(_a,{className:mb.selectedList},e.careerInfo.selectedSkills.map(((n,r)=>{const i=so.skills[n],s=e.skillExp.get(n).level+yu.getexsklv(n);return t.createElement(_a,{key:r,className:mb.selectedSkill},t.createElement(xa,{className:mb.order},r+1),t.createElement(_a,null,t.createElement(xa,null,i.name),t.createElement(xa,null,s,"级")))})))}));function bb(e){return e>=1e20?(e/1e18|0)+"BC":e>=1e17?(e/1e15|0)+"BB":e>=1e14?(e/1e12|0)+"BA":e>=1e11?(e/1e9|0)+"B":e>=1e8?(e/1e6|0)+"M":e>=1e5?(e/1e3|0)+"K":0|e}const kb=ai((function(e){let{level:n,skill:r}=e;const{player:i,playerUnit:s}=yu,a=so.skills[r],o=i.skillExp.get(r);let l=yu.getexsklv(r),u=o.level+l;a.MaxLv&&u>=a.MaxLv&&(u=Math.min(u,a.MaxLv),l=u-o.level);const c=Ya((()=>i.careerInfo.selectedSkills.length)),p=Ya((()=>i.careerInfo.selectedSkills.indexOf(r))),h=p>=0||c<i.maxSkillCount&&n<=i.level,f=Ya((()=>so.skills[r].group&&-1===p&&i.careerInfo.selectedSkills.find((e=>so.skills[e].group===so.skills[r].group)))),d=(!h||!!f)&&p<0;let{coolDown:m,description:g,cost:y,halo:v}=a;return"function"==typeof m&&(m=m(o.level,s)),"function"==typeof g&&(g=g(u,yu.playerUnit)),t.createElement(Ea,{className:[mb.skillItem,d&&mb.skillItemDisabled],activeOpacity:.8,disabled:d,onPress:()=>{p>=0?yu.unselectSkill(r):c<i.maxSkillCount&&yu.selectSkill(r)}},t.createElement(_a,{className:mb.skillItemMain},t.createElement(xa,{className:mb.skillName},a.name),p>=0&&t.createElement(xa,null,"顺序：",p+1),n<=i.level&&f&&t.createElement(xa,null,"冲突: ",so.skills[f].name),t.createElement(_a,{className:mb.spacer}),a.MaxLv&&o.level>=a.MaxLv&&t.createElement(xa,null,"技能等级Max"),(!a.MaxLv||o.level<a.MaxLv)&&t.createElement(xa,null,"熟练度: ",bb(o.exp),"/",bb(a.maxExp(o.level)))),t.createElement(_a,{className:mb.row},n>i.level&&t.createElement(xa,{className:mb.textMargin},"需达到",n,"级"),n<=i.level&&t.createElement(xa,{className:mb.textMargin},"等级：",o.level,l?`（+${l}）`:""),v&&t.createElement(xa,{className:mb.textMargin},"光环技能"),m&&!v&&t.createElement(xa,{className:mb.textMargin},"冷却时间：",(m/1e3).toFixed(1),"秒"),y&&y.mp&&t.createElement(xa,{className:mb.textMargin},"消耗法力 ",function(e,t){return"function"==typeof e?0|e(yu.playerUnit,t):0|e}(y.mp,u))),t.createElement(xa,{className:mb.textMargin},g))}));let wb=ai(gb=class extends t.Component{constructor(){super(...arguments),yb(this,"onLeftPressed",(()=>{yu.player&&yu.player.save(),Mm.save(),Jk.navigate("/career/choose")})),yb(this,"onRightPressed",(()=>{Jk.navigate("/career/enhances")}))}render(){const{player:e}=yu,{maxSkillCount:n,nextSkillUnlockLevel:r}=e;return t.createElement(Um,{title:"主动技能",leftNavTitle:"职业",rightNavTitle:"被动技能",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(_a,{className:mb.container},t.createElement(vb,null),t.createElement(_a,null,t.createElement(xa,null,"最多携带",n,"个主动技能，",r&&t.createElement(xa,null,"下一个主动技能位置将在",e.nextSkillUnlockLevel,"级解锁。"))),t.createElement(Sa,null,Object.keys(e.careerData.skills).map((n=>t.createElement(kb,{level:e.careerData.skills[n],skill:n,key:n}))))))}})||gb;var xb=i(5678),_b={};_b.styleTagTransform=aa(),_b.setAttributes=na(),_b.insert=ea().bind(null,"head"),_b.domAPI=Xs(),_b.insertStyleElement=ia(),Js()(xb.A,_b);const Eb=xb.A&&xb.A.locals?xb.A.locals:void 0;var Sb;function Ab(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Db=ai(Sb=class extends t.Component{constructor(){super(...arguments),Ab(this,"dataSource",new Da.DataSource({rowHasChanged:(e,t)=>e!==t})),Ab(this,"onRightPressed",(()=>{Jk.navigate("/story/purchase")})),Ab(this,"renderRow",(e=>t.createElement(Ea,{className:Eb.item,onPress:()=>this.playStory(e)},t.createElement(xa,{className:Eb.itemLabel},e.name))))}playStory(e){Qy(t.createElement(lv,{story:e.key}))}render(){return t.createElement(Um,{title:"故事",rightNavTitle:"日志",onRightPressed:this.onRightPressed},t.createElement(Da,{className:Eb.container,dataSource:this.dataSource.cloneWithRows([...Mm.storiesMap.keys()].filter((e=>"done"===Mm.storiesMap.get(e))).map((e=>so.stories[e])).filter((e=>e&&e.script))),renderRow:this.renderRow}))}})||Sb;var Pb;function Rb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ob={battle:t.createElement(ab,null),inventory:t.createElement(Cy,null),skills:t.createElement(wb,null),produce:t.createElement(dy,null),stories:t.createElement(Db,null)},Cb=Oe.box("battle");let Tb=ai(Pb=class extends t.Component{constructor(){super(...arguments),Rb(this,"onVisibilityChange",(()=>{"hidden"===document.visibilityState?(console.log("pause"),yu.pause()):(console.log("resume"),yu.resumeGame())})),Rb(this,"handleTabChange",Ft((e=>{Cb.set(e)})))}componentDidMount(){document.addEventListener("visibilitychange",this.onVisibilityChange)}componentWillUnmount(){document.removeEventListener("visibilitychange",this.onVisibilityChange)}render(){const e=Cb.get();return t.createElement(hg,{active:e,onChange:this.handleTabChange},Ob[e])}})||Pb;var Fb=i(8060),Mb={};Mb.styleTagTransform=aa(),Mb.setAttributes=na(),Mb.insert=ea().bind(null,"head"),Mb.domAPI=Xs(),Mb.insertStyleElement=ia(),Js()(Fb.A,Mb);const Nb=Fb.A&&Fb.A.locals?Fb.A.locals:void 0;var jb,Ib;let Bb=ai((Hb=Ib=class extends t.Component{render(){return t.createElement(Um,{title:"更新日志",back:!0},t.createElement(Sa,null,t.createElement(xa,{className:Nb.content},rg().description)))}},qb="更新日志",Lb=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(Lb="title"),Lb in Hb?Object.defineProperty(Hb,Lb,{value:qb,enumerable:!0,configurable:!0,writable:!0}):Hb[Lb]=qb,jb=Ib))||jb;var Hb,Lb,qb,zb=i(8874),Ub={};Ub.styleTagTransform=aa(),Ub.setAttributes=na(),Ub.insert=ea().bind(null,"head"),Ub.domAPI=Xs(),Ub.insertStyleElement=ia(),Js()(zb.A,Ub);const Vb=zb.A&&zb.A.locals?zb.A.locals:void 0;var Kb;function Yb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $b=ai((function(e){let{goodkey:n}=e;const r=so.goods[n],{name:i,description:s,buyprice:a,stack:o}=r,l=Mm.diamonds<a,u=yu.player.inventory.reduce(((e,t)=>t.key===n?e+t.count:e),0),c=Mm.bank.reduce(((e,t)=>t.key===n?e+t.count:e),0);return t.createElement(_a,{className:Vb.container2},t.createElement(_a,{className:Vb.container3},t.createElement(xa,null,i),t.createElement(xa,null,"价格：",a," 神力"),t.createElement(xa,null,"背包数量：",u),t.createElement(xa,null,"仓库数量：",c)),t.createElement(_a,{className:Vb.container5},t.createElement(Ea,{className:[Vb.buybutton,l&&Vb.cantbuy],activeOpacity:1,disabled:l,onPress:()=>yu.buygood(n,a,o)},t.createElement(xa,null,"购 买"))))}));let Wb=ai(Kb=class extends t.Component{constructor(){super(...arguments),Yb(this,"renderRow",((e,n)=>t.createElement($b,{key:n,goodkey:e}))),Yb(this,"onLeftPressed",(async()=>{Jk.navigate(-1)})),Yb(this,"onRightPressed",(()=>{Jk.navigate("/specialequ")}))}render(){return t.createElement(Um,{title:"黑 市",rightNavTitle:"装备图鉴",onRightPressed:this.onRightPressed,leftNavTitle:"返回",onLeftPressed:this.onLeftPressed},t.createElement(_a,{className:Vb.container},t.createElement(Sa,{className:Vb.container},Object.keys(so.goods).filter((e=>so.goods[e].buyprice>0)).map(this.renderRow))))}})||Kb;var Gb=i(3087),Jb={};Jb.styleTagTransform=aa(),Jb.setAttributes=na(),Jb.insert=ea().bind(null,"head"),Jb.domAPI=Xs(),Jb.insertStyleElement=ia(),Js()(Gb.A,Jb);const Qb=Gb.A&&Gb.A.locals?Gb.A.locals:void 0;function Xb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zb extends t.Component{constructor(){super(...arguments),Xb(this,"state",{active:this.props.selectedIndex}),Xb(this,"onPress",(e=>{this.setState({active:e}),this.props.onChange(e)}))}item(e,n){return t.createElement(Ea,{className:[Qb.item,this.state.active==n&&Qb.active],onPress:()=>this.onPress(n),key:n},t.createElement(xa,{className:[Qb.label,this.state.active==n&&Qb.active]},e))}render(){return t.createElement(_a,{className:Qb.contain},this.props.values.map(((e,t)=>this.item(e,t))))}}var ek=i(3912),tk={};tk.styleTagTransform=aa(),tk.setAttributes=na(),tk.insert=ea().bind(null,"head"),tk.domAPI=Xs(),tk.insertStyleElement=ia(),Js()(ek.A,tk);const nk=ek.A&&ek.A.locals?ek.A.locals:void 0;var rk,ik;function sk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ak={};for(const e in so.goods){const t=so.goods[e];t.class&&(ak[t.class]=ak[t.class]||[1,1,2,2,0])}const ok=ai((function(e){let{clazz:n,quality:r}=e;const{player:i}=yu;let s=i.lootRule.get(n);s||(i.lootRule.set(n,[1,1,2,2,0]),s=i.lootRule.get(n));const a=s?s[r]:1;return t.createElement(Zb,{values:r>1?["拾取","出售","拆解"]:["拾取","出售"],selectedIndex:a,onChange:Ft((e=>{let t=i.lootRule.get(n);t||(i.lootRule.set(n,[1,1,2,2,0]),t=i.lootRule.get(n)),t[r]=e}))})})),lk=ai((function(){const{player:e}=yu;return t.createElement(_a,null,t.createElement(_a,{className:nk.header},t.createElement(xa,{className:nk.headerFont},"装备品级筛选")),t.createElement(_a,{className:[nk.row,nk.titleView]},t.createElement(xa,{className:nk.sliderTitle},"自动拆解低于",e.minLootLevel,"品级的普通装备："),t.createElement(ka,{className:nk.flex1,value:e.minLootLevel,onValueChange:t=>e.minLootLevel=t,min:1})),t.createElement(_a,{className:[nk.row,nk.titleView]},t.createElement(xa,{className:nk.sliderTitle},"自动拆解低于",e.minLootLevel2,"品级的特殊装备："),t.createElement(ka,{className:nk.flex1,value:e.minLootLevel2,onValueChange:t=>e.minLootLevel2=t,min:1})))}));let uk=ai((ik=class extends t.Component{constructor(){super(...arguments),sk(this,"renderSectionHeader",(e=>t.createElement(_a,{className:nk.header},t.createElement(xa,{className:nk.headerFont},qc[e]||e," ")))),sk(this,"renderRow",((e,n)=>t.createElement(_a,{className:[nk.row,nk.titleView],key:n},t.createElement(xa,{className:[nk.title,ky[n]]},wy[n]),t.createElement(ok,{clazz:e,quality:0|n})))),sk(this,"renderHeader",(()=>t.createElement(lk,null)))}qualityColor(e){return"普通"===e?"black":"优秀"===e?"#aaf":"精良"===e?"#ffa":"史诗"===e?"#fda":"传说"===e?"#afd":void 0}render(){return t.createElement(Um,{title:"拾取规则",back:!0},t.createElement(_a,{className:nk.container},t.createElement(Sa,{className:nk.flex1},this.renderHeader(),Object.entries(ak).map((e=>{let[n,r]=e;return t.createElement(_a,{key:n},this.renderSectionHeader(n),r.map(((e,t)=>this.renderRow(n,t))))})))))}},sk(ik,"title","拾取规则"),rk=ik))||rk;var ck;function pk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hk=ai((function(e){let{slot:n,onPress:r,selectedItem:i}=e;const s=Ya((()=>!(!i||n!==i.get()))),{isEquip:a}=n;return t.createElement(Ea,{className:yy.slot,activeOpacity:.8,onPress:()=>yu.bank(n)},t.createElement(_a,{className:[yy.slotContent,ky[n.displayQuality],s&&yy.slotActive],style:n.backgroundColor&&{backgroundColor:n.backgroundColor}},!a&&t.createElement(xa,{style:n.nameColor&&{color:n.nameColor}},n.name||"空"),a&&t.createElement(xa,{style:n.nameColor&&{color:n.nameColor}},"Lv.",n.level,"  ",n.name)),n.count>1&&t.createElement(xa,{className:yy.count},n.count))})),fk=Ft((function(){const e=so.upgrades.bankByDiamonds[Mm.bank.length];Mm.diamonds<e?tu("提示","神力不够？那这事有点不太好办啊。",[{text:"确认"}]):(Mm.diamonds-=e,Mm.bank.push(new Gc("bank")))}));let dk=ai(ck=class extends t.Component{constructor(){super(...arguments),pk(this,"selectedItem",Oe(null)),pk(this,"onLeftPressed",(()=>{Jk.navigate(-1)})),pk(this,"renderRow",((e,n)=>t.createElement(hk,{onPress:()=>this.selectedItem.set(e),key:n,slot:e})))}render(){const{player:e}=yu;return t.createElement(Um,{title:"仓库",leftNavTitle:"返回",onLeftPressed:this.onLeftPressed},t.createElement(_a,{className:yy.unit},t.createElement(_a,{className:yy.list},t.createElement(_a,{className:yy.titletext},t.createElement(xa,null,"仓 库")),t.createElement(Sa,null,Mm.bank.map(this.renderRow),Mm.bank.length<so.upgrades.bankByDiamonds.length&&t.createElement(Oy,{onPress:()=>(navigator,void tu("提示",`是否使用创世神的力量扩张物品空间，继续扩张背包消耗${so.upgrades.bankByDiamonds[Mm.bank.length]}神力，是否继续？`,[{text:"确认",onPress:()=>fk()},{text:"取消"}]))},"+")),t.createElement(_a,{className:yy.other},t.createElement(_y,{onPress:()=>e.sortInventory(Mm.bank)},"整理仓库"))),t.createElement(_a,{className:yy.list},t.createElement(_a,{className:yy.titletext},t.createElement(xa,null,"物 品 栏")),t.createElement(Sa,null,e.inventory.map(this.renderRow),e.inventoryDiamondLevel<so.upgrades.inventoryByDiamonds.length&&t.createElement(Oy,{onPress:Ry},"+")),t.createElement(_a,{className:yy.other},t.createElement(_y,{onPress:()=>e.sortInventory(e.inventory)},"整理背包")))))}})||ck;var mk=i(4077),gk={};gk.styleTagTransform=aa(),gk.setAttributes=na(),gk.insert=ea().bind(null,"head"),gk.domAPI=Xs(),gk.insertStyleElement=ia(),Js()(mk.A,gk);const yk=mk.A&&mk.A.locals?mk.A.locals:void 0;var vk;const bk=ai((function(e){let{selected:n}=e;const{player:r}=yu,i=n.get();if(!i)return t.createElement(_a,{className:yk.detail},t.createElement(xa,null,"请选择想要查看的技能"));const s=so.enhances[i],a=so.careers[yu.player.currentCareer].enhances,{name:o,description:l}=s,u=(Ya((()=>yu.player.careerInfo.selectedEnhances.length)),Ya((()=>yu.player.careerInfo.selectedEnhances.indexOf(i)))),c=u>=0,p=Ya((()=>-1===u&&r.careerInfo.selectedEnhances.find((e=>a[e]===a[i])))),h=!c&&!!p;return t.createElement(_a,{className:yk.detail},t.createElement(xa,{className:yk.titletext},o),t.createElement(Sa,null,t.createElement(xa,{className:yk.detailtext},l)),t.createElement(Ea,{className:[yk.setenhance,h&&yk.enhanceItemDisabled],activeOpacity:1,disabled:h,onPress:Ft((()=>yu.setenhance(i)))},t.createElement(xa,null,u>=0?"取消":"激活")))})),kk=ai((function(e){let{level:n,enhance:r,selectedItem:i,onPress:s}=e;const{player:a}=yu,o=so.enhances[r],l=so.careers[yu.player.currentCareer].enhances,u=Ya((()=>yu.player.careerInfo.selectedEnhances.length)),c=Ya((()=>yu.player.careerInfo.selectedEnhances.indexOf(r))),p=c>=0||u<a.maxEnhanceCount&&n<=a.level,h=Ya((()=>-1===c&&a.careerInfo.selectedEnhances.find((e=>l[e]===l[r])))),f=(!p||!!h)&&c<0;return t.createElement(Ea,{className:[yk.enhanceItem,f&&yk.enhanceItemDisabled],activeOpacity:.8,onPress:s},c>=0&&t.createElement(xa,null,"★",o.name,"★"),c<0&&t.createElement(xa,null,o.name))}));let wk=ai(vk=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectedItem",Oe(null))}render(){const{player:e}=yu,{maxEnhanceCount:n,nextEnhanceUnlockLevel:r}=e;return t.createElement(Um,{title:"被动技能",back:!0},t.createElement(_a,{className:yk.top},t.createElement(Sa,null,t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=10&&Object.keys(e.careerData.enhances).filter((t=>10===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<10&&t.createElement(xa,null,"角色Lv.10级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=20&&Object.keys(e.careerData.enhances).filter((t=>20===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<20&&t.createElement(xa,null,"角色Lv.20级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=30&&Object.keys(e.careerData.enhances).filter((t=>30===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<30&&t.createElement(xa,null,"角色Lv.30级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=40&&Object.keys(e.careerData.enhances).filter((t=>40===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<40&&t.createElement(xa,null,"角色Lv.40级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=50&&Object.keys(e.careerData.enhances).filter((t=>50===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<50&&t.createElement(xa,null,"角色Lv.50级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=60&&Object.keys(e.careerData.enhances).filter((t=>60===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<60&&t.createElement(xa,null,"角色Lv.60级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=70&&Object.keys(e.careerData.enhances).filter((t=>70===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<70&&t.createElement(xa,null,"角色Lv.70级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=80&&Object.keys(e.careerData.enhances).filter((t=>80===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<80&&t.createElement(xa,null,"角色Lv.80级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=90&&Object.keys(e.careerData.enhances).filter((t=>90===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<90&&t.createElement(xa,null,"角色Lv.90级解锁"))),t.createElement(_a,{className:yk.lven},t.createElement(_a,{className:yk.enname},e.level>=100&&Object.keys(e.careerData.enhances).filter((t=>100===e.careerData.enhances[t])).map((n=>t.createElement(kk,{level:e.careerData.enhances[n],enhance:n,key:n,selectedItem:this.selectedItem,onPress:Ft((()=>this.selectedItem.set(n)))}))),e.level<100&&t.createElement(xa,null,"角色Lv.100级解锁"))))),t.createElement(bk,{selected:this.selectedItem}))}})||vk;var xk=i(1723),_k={};_k.styleTagTransform=aa(),_k.setAttributes=na(),_k.insert=ea().bind(null,"head"),_k.domAPI=Xs(),_k.insertStyleElement=ia(),Js()(xk.A,_k);const Ek=xk.A&&xk.A.locals?xk.A.locals:void 0;var Sk;function Ak(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dk=ai((function(e){let{type:n,onPress:r}=e;const i=so.careers[n],{player:s,playerUnit:a}=yu,o=s.getCareerLevel(n);return t.createElement(Ea,{className:Ek.careerItem,activeOpacity:.8,onPress:()=>{tu("提示","因为创世神艾尔设定的某种不可抗力\n虽然现在转职后将保留角色的等级（包括巅峰等级）、经验值以及穿戴的装备\n但已经学会的主动、被动技能都需要重新配置\n确定要马上转职吗\n",[{text:"马上转职",onPress:()=>{a.selectCareer(n),r&&r()}},{text:"再玩一会"}])}},t.createElement(_a,{className:Ek.main},t.createElement(xa,null,i.name),s.currentCareer===n&&t.createElement(xa,null,"当前职业"),t.createElement(_a,{className:Ek.spacer}),o?t.createElement(xa,null,"等级：",o):t.createElement(xa,null,"等级：1")))}));let Pk=ai(Sk=class extends t.Component{constructor(){super(...arguments),Ak(this,"onPress",(()=>{Jk.navigate(-1)})),Ak(this,"onRightPressed",(()=>{const{player:e,playerUnit:t}=yu;tu("提示",`本次重置需要消耗${1e5*Math.max(e.recartime-1,0)}神力，是否重置为初始职业？\n重置职业会一并重置当前角色的技能等级、技能熟练度和噩梦层数记录`,[{text:"重置",onPress:()=>{if(Mm.diamonds<1e5*Math.max(e.recartime-1,0))return void tu("提示","神力不足，无法重置为初始职业。");let n="";if("Eyer"===e.role)n="warrior";else{if("Aleanor"!==e.role)return void tu("提示","无职业分支，重置了个寂寞。");n="sorceress"}Mm.diamonds-=1e5*Math.max(e.recartime-1,0),Mm.save(),t.selectCareer(n,!0),Jk.navigate(-1)}},{text:"再玩一会"}])}))}render(){const{player:e,playerUnit:n}=yu,r=so.careers[e.currentCareer],i=Object.keys(so.careers).filter((e=>!so.careers[e].requirement||eg(so.careers[e].requirement)));return t.createElement(Um,{title:"职业",back:!0,rightNavTitle:"重置职业",onRightPressed:this.onRightPressed},t.createElement(_a,{className:Ek.row2},t.createElement(xa,null,"当前职业:  ",e.careerName),t.createElement(xa,null,"力量成长:  ",r.attrGrow.str,"/级"),t.createElement(xa,null,"敏捷成长:  ",r.attrGrow.dex,"/级"),t.createElement(xa,null,"智力成长:  ",r.attrGrow.int,"/级"),t.createElement(xa,null,"耐力成长:  ",r.attrGrow.sta,"/级"),t.createElement(xa,null,"✽✽✽✽"),t.createElement(xa,null,"职业特性"),t.createElement(xa,null,Object.keys(r.passives).map(((e,n)=>t.createElement(xa,{key:n},"✽",so.passives[e].name,"✽: ",so.passives[e].description,"\n\t\t\t\t\t\t"))))),t.createElement(_a,{className:Ek.row1},t.createElement(xa,{className:Ek.name},"进阶职业")),t.createElement(_a,{className:Ek.row2},t.createElement(Sa,{className:Ek.container},i.map((e=>t.createElement(Dk,{key:e,type:e,onPress:this.onPress}))))))}})||Sk;var Rk=i(8818),Ok=i.n(Rk),Ck=i(1916),Tk={};Tk.styleTagTransform=aa(),Tk.setAttributes=na(),Tk.insert=ea().bind(null,"head"),Tk.domAPI=Xs(),Tk.insertStyleElement=ia(),Js()(Ck.A,Tk);const Fk=Ck.A&&Ck.A.locals?Ck.A.locals:void 0;var Mk,Nk;function jk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Ik=ai((Nk=class extends t.Component{constructor(){super(...arguments),jk(this,"dataSource",new Da.DataSource({rowHasChanged:(e,t)=>e!==t})),jk(this,"annoucement",(()=>{Jk.navigate("/story/annoucement")})),jk(this,"renderFooter",(()=>t.createElement(_a,{className:Fk.footer},t.createElement(Ea,{className:Fk.item,onPress:async()=>{const e=await ru("帝国金库","卫兵拦住了你，要你说出通行的口令。","");await Mm.load(),Nt((()=>{if(!e)return;if(yu.pendingTime>0||Mm.truetime12>0)return void tu("离线时间还未结算完毕，请稍后。");const{player:t}=yu,n=encodeURIComponent(e)||"false",r=Ok().find((e=>e.pw===n)),i=Mm.pwuse2.find((e=>e.pw===n)),s=Mm.pwuse2.findIndex((e=>e.pw===n));return r&&i&&i.times>=r.times?void tu("帝国金库","别喊了，你再喊就真的要挨揍了！"):r?i?"diamonds"===r.type?(tu("帝国金库",`口令重复！但是看在你信仰创世神的份上，你又得到了一小团(${r.value})神力。`),Mm.diamonds+=r.value,Mm.pwuse2[s].times+=1,t.save(),void Mm.save()):"zzzz"===r.type?void 0:"redbag"===r.type?(tu("帝国金库",`口令重复！所以这次只能给你${r.value}个红包。`),yu.loots([{key:"year2018.redbag",count:[r.value,r.value],rate:1}],1,0),Mm.pwuse2[s].times+=1,t.save(),void Mm.save()):"box"===r.type?(tu("帝国金库",`口令重复！所以这次只能给你${r.value}份${r.name}。`),yu.loots([{key:r.key,count:[r.value,r.value],rate:1}],1,0),Mm.pwuse2[s].times+=1,t.save(),void Mm.save()):"rem"===r.type?(Mm.truetime=0,Mm.playerMetas2={},Mm.pwuse2[s].times+=1,t.save(),Mm.save(),void location.reload()):void tu("帝国金库","库存不足，请下次再来。"):"diamonds"===r.type?(tu("帝国金库",`口令正确！你得到了一小团(${r.value})神力。`),Mm.diamonds+=r.value,Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),void Mm.save()):"new"===r.type?(tu("帝国金库","口令正确！新手礼包[神力×333，红包×33，鲱鱼干×1，方向盘×1]请拿好！。"),yu.loots([{key:"year2018.redbag",count:[33,33],rate:1}],1,0),yu.specialloots({"ornament-1":1},1,1,!1),yu.specialloots({fxp:1},1,1,!1),Mm.diamonds+=333,Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),void Mm.save()):"redbag"===r.type?(tu("帝国金库",`口令正确！你获得了${r.value}个红包。`),yu.loots([{key:"year2018.redbag",count:[r.value,r.value],rate:1}],1,0),Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),void Mm.save()):"box"===r.type||"exp"===r.type||"time"===r.type?(tu("帝国金库",`口令正确！你获得了${r.value}个${r.name}。`),yu.loots([{key:r.key,count:[r.value,r.value],rate:1}],1,0),Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),void Mm.save()):"rem"===r.type?(tu("帝国金库","卫兵尝试着抢救了一下你的存档。"),Mm.truetime=0,Mm.playerMetas2={},Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),Mm.save(),void location.reload()):"level"!==r.type?"zzzz"===r.type?void 0:void tu("帝国金库","库存不足，请下次再来。"):t.level<100?void tu("帝国金库",`口令正确！确定要将角色等级提高至${r.value}级吗？`,[{text:"猛猛提升",onPress:()=>{tu("帝国金库",`角色等级已经提升至${r.value}级。`),t.level=r.value,Mm.pwuse2.push({pw:r.pw,times:1}),t.save(),Mm.save()}},{text:"不升"}]):void tu("帝国金库","都满级了就不要来捣乱啦。"):void tu("帝国金库","口令错误！卫兵把你赶了出来。")}))}},t.createElement(xa,{className:Fk.itemLabel},"帝国金库")),t.createElement(Ea,{className:Fk.item,onPress:this.annoucement},t.createElement(xa,{className:Fk.itemLabel},"更新日志"),t.createElement(xa,null,"当前版本：",rg().version)),t.createElement(Ea,{className:Fk.item,activeOpacity:5,onPress:async()=>{let e;if(e=Mm.gamesecret?Mm.gamesecret:await ru("提示","输入存档密钥，下载后会覆盖本地已有的存档。",""),!e)return;let t=!1;if(Mm.gamesecret?await tu("提示",`当前存档密钥为“${Mm.gamesecret}”，确认下载存档？`,[{text:"确认",onPress:Ft((()=>{t=!0}))},{text:"取消"}]):await tu("提示","当前存档暂无密钥，确认下载存档？",[{text:"确认",onPress:Ft((()=>{t=!0}))},{text:"取消"}]),!t)return;let n=JSON.stringify({secret:e});try{let e=await fetch("https://cszwbirbwl.shenzhuo.vip/src/ybjdownload.php",{method:"POST",headers:{"Content-Type":"application/json"},body:n});const t=(await e.json()).download;"error"===t?tu("未查找到密钥所对应的存档"):(Mm.gameimport(t),await tu("下载成功，点击确定刷新页面。"),location.reload())}catch(e){tu("下载失败")}}},t.createElement(xa,{className:Fk.itemLabel},"从服务器下载存档")),t.createElement(Ea,{className:Fk.item,activeOpacity:5,onPress:async()=>{if(!Mm.gamesecret){let e=await ru("提示","设置存档密钥（6-20位数字或小写英文），这是你将来下载存档的唯一凭证。尽量使用足够复杂的密钥，以避免窜档。","");if(!e)return;if(!/^[a-z0-9]{6,20}$/.test(e))return void tu("密钥格式错误");Mm.gamesecret=e}if(!Mm.gamesecret)return;await yu.player.save(),await Mm.save();const e=Mm.gameexport();let t=JSON.stringify({secret:Mm.gamesecret,game:e});try{let e=await fetch("https://cszwbirbwl.shenzhuo.vip/src/ybjupload.php",{method:"POST",headers:{"Content-Type":"application/json"},body:t});tu(`${(await e.json()).upload}`)}catch(e){tu("上传失败")}}},t.createElement(xa,{className:Fk.itemLabel},"上传本地存档至服务器")))))}async componentDidMount(){}render(){return t.createElement(Um,{title:"日志",back:!0},t.createElement(Da,{className:Fk.container,renderFooter:this.renderFooter}))}},jk(Nk,"title","日志"),Mk=Nk))||Mk;var Bk=i(118),Hk=i.n(Bk),Lk=i(4058),qk=i.n(Lk),zk=i(545),Uk={};Uk.styleTagTransform=aa(),Uk.setAttributes=na(),Uk.insert=ea().bind(null,"head"),Uk.domAPI=Xs(),Uk.insertStyleElement=ia(),Js()(zk.A,Uk);const Vk=zk.A&&zk.A.locals?zk.A.locals:void 0;var Kk;function Yk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $k=ai((function(e){let{slot:n,onPress:r,selectedItem:i}=e;const s=Ya((()=>!(!i.get()||n.key!==i.get().key)));return t.createElement(Ea,{className:Vk.slot,activeOpacity:.8,onPress:r},t.createElement(_a,{className:[Vk.slotContent,s&&Vk.slotActive]},t.createElement(xa,null,n.itemName)))})),Wk=ai((function(e){let{selected:n}=e;const r=n.get();if(!r)return t.createElement(_a,{className:Vk.container3},t.createElement(xa,null,"请选择想要查看的装备"));const{key:i,type:s,itemName:a,itemDescription:o,display:l,minLevel:u,drop:c,By:p}=r,h=qk().find((e=>e.key===s)).class,f=qk().find((e=>e.key===s)).position,d=Lc[f]+" "+qc[h];return t.createElement(_a,{className:Vk.container},t.createElement(xa,{className:Vk.titletext},a),t.createElement(Sa,null,t.createElement(xa,null,"装备类型：",t.createElement(xa,{className:Vk.fontLegend},d)),t.createElement(xa,null,"获取途径：",t.createElement(xa,{className:Vk.fontLegend},c||"不限")),t.createElement(xa,null,"效果："),t.createElement(xa,{className:Vk.fontLegend},l())))}));let Gk=ai(Kk=class extends t.Component{constructor(){super(...arguments),Yk(this,"selectedItem",Oe(null)),Yk(this,"renderRow",((e,n)=>t.createElement($k,{onPress:Ft((()=>this.selectedItem.set(e))),key:n,slot:e,selectedItem:this.selectedItem}))),Yk(this,"onLeftPressed",(async()=>{Jk.navigate(-1)}))}render(){return t.createElement(Um,{title:"图 鉴",leftNavTitle:"返回",onLeftPressed:this.onLeftPressed},t.createElement(_a,{className:Vk.container1},t.createElement(Sa,{className:Vk.container2,contentContainerClassName:Vk.content},Hk().filter((e=>!e.hidden)).map(this.renderRow)),t.createElement(_a,{className:Vk.detail},t.createElement(Wk,{selected:this.selectedItem}))))}})||Kk;const Jk=(Qk=[{path:"/specialequ",element:t.createElement(Gk,null)},{path:"/splash",element:t.createElement(Bm,null)},{path:"/player/choose",element:t.createElement(Jm,null)},{path:"/player/create",element:t.createElement(lg,null)},{path:"/home",element:t.createElement(Tb,null)},{path:"/inventory/loot-rule",element:t.createElement(uk,null)},{path:"/inventory/bank",element:t.createElement(dk,null)},{path:"/career/enhances",element:t.createElement(wk,null)},{path:"/career/choose",element:t.createElement(Pk,null)},{path:"/purchase",element:t.createElement(Wb,null)},{path:"/story/annoucement",element:t.createElement(Bb,null)},{path:"/story/purchase",element:t.createElement(Ik,null)}],function(e){li(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=fi(e.routes),n=null,r=new Set,i=null,s=null,a=null,o=null!=e.hydrationData,l=di(t,e.history.location,e.basename),u=null;if(null==l){let n=os(404,{pathname:e.history.location.pathname}),{matches:r,route:i}=as(t);l=r,u={[i.id]:n}}let c,p,h=!l.some((e=>e.route.loader))||null!=e.hydrationData,f={historyAction:e.history.action,location:e.history.location,matches:l,initialized:h,navigation:$i,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||u,fetchers:new Map},d=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[],k=new Map,w=0,x=-1,_=new Map,E=new Set,S=new Map,A=new Map;function D(e){f=oi({},f,e),r.forEach((e=>e(f)))}function P(t,n){var r;let i,s=null!=f.actionData&&null!=f.navigation.formMethod&&fs(f.navigation.formMethod)&&"loading"===f.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?f.actionData:null,D(oi({},n,{actionData:i,loaderData:n.loaderData?is(f.loaderData,n.loaderData,n.matches||[],n.errors):f.loaderData,historyAction:d,location:t,initialized:!0,navigation:$i,revalidation:"idle",restoreScrollPosition:!f.navigation.formData&&L(t,n.matches||f.matches),preventScrollReset:m})),g||d===Wr.Pop||(d===Wr.Push?e.history.push(t,t.state):d===Wr.Replace&&e.history.replace(t,t.state)),d=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[]}async function R(n,r,o){p&&p.abort(),p=null,d=n,g=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(i&&s&&a){let n=t.map((e=>ys(e,f.loaderData))),r=s(e,n)||e.key;i[r]=a()}}(f.location,f.matches),m=!0===(o&&o.preventScrollReset);let l=o&&o.overrideNavigation,u=di(t,r,e.basename);if(!u){let e=os(404,{pathname:r.pathname}),{matches:n,route:i}=as(t);return H(),void P(r,{matches:n,loaderData:{},errors:{[i.id]:e}})}if(_=r,(h=f.location).pathname===_.pathname&&h.search===_.search&&h.hash!==_.hash)return void P(r,{matches:u});var h,_;p=new AbortController;let R,O,M=ts(r,p.signal,o&&o.submission);if(o&&o.pendingError)O={[ss(u).route.id]:o.pendingError};else if(o&&o.submission&&fs(o.submission.formMethod)){let e=await async function(e,t,n,r,i){let s;F(),D({navigation:oi({state:"submitting",location:t},n)});let a=vs(r,t);if(a.route.action){if(s=await es("action",e,a,r,c.basename),e.signal.aborted)return{shortCircuited:!0}}else s={type:Gr.error,error:os(405,{method:e.method,pathname:t.pathname,routeId:a.route.id})};if(hs(s)){let e;return e=i&&null!=i.replace?i.replace:s.location===f.location.pathname+f.location.search,await C(f,s,{submission:n,replace:e}),{shortCircuited:!0}}if(ps(s)){let e=ss(r,a.route.id);return!0!==(i&&i.replace)&&(d=Wr.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(cs(s))throw new Error("defer() is not supported in actions");return{pendingActionData:{[a.route.id]:s.data}}}(M,r,o.submission,u,{replace:o.replace});if(e.shortCircuited)return;R=e.pendingActionData,O=e.pendingActionError,l=oi({state:"loading",location:r},o.submission),M=new Request(M.url,{signal:M.signal})}let{shortCircuited:N,loaderData:j,errors:L}=await async function(e,t,n,r,i,s,a,o){let l=r;l||(l=oi({state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},i));let u=i||(l.formMethod&&l.formAction&&l.formData&&l.formEncType?{formMethod:l.formMethod,formAction:l.formAction,formData:l.formData,formEncType:l.formEncType}:void 0),[c,h]=Qi(f,n,u,t,y,v,b,a,o,S);if(H((e=>!(n&&n.some((t=>t.route.id===e)))||c&&c.some((t=>t.route.id===e)))),0===c.length&&0===h.length)return P(t,oi({matches:n,loaderData:{},errors:o||null},a?{actionData:a}:{})),{shortCircuited:!0};if(!g){h.forEach((e=>{let[t]=e,n=f.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(t,r)}));let e=a||f.actionData;D(oi({navigation:l},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},h.length>0?{fetchers:new Map(f.fetchers)}:{}))}x=++w,h.forEach((e=>{let[t]=e;return k.set(t,p)}));let{results:d,loaderResults:m,fetcherResults:_}=await T(f.matches,n,c,h,e);if(e.signal.aborted)return{shortCircuited:!0};h.forEach((e=>{let[t]=e;return k.delete(t)}));let R=ls(d);if(R)return await C(f,R,{replace:s}),{shortCircuited:!0};let{loaderData:O,errors:F}=rs(f,n,c,m,o,h,_,A);return A.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&A.delete(t)}))})),function(){let e=[];for(let t of E){let n=f.fetchers.get(t);li(n,"Expected fetcher: "+t),"loading"===n.state&&(E.delete(t),e.push(t))}I(e)}(),oi({loaderData:O,errors:F},B(x)||h.length>0?{fetchers:new Map(f.fetchers)}:{})}(M,r,u,l,o&&o.submission,o&&o.replace,R,O);N||(p=null,P(r,oi({matches:u},R?{actionData:R}:{},{loaderData:j,errors:L})))}function O(e){return f.fetchers.get(e)||Wi}async function C(e,t,n){var r;let{submission:i,replace:s,isFetchActionRedirect:a}=void 0===n?{}:n;t.revalidate&&(y=!0);let o=ui(e.location,t.location,oi({_isRedirect:!0},a?{_isFetchActionRedirect:!0}:{}));if(li(o,"Expected a location on the redirect navigation"),void 0!==(null==(r=window)?void 0:r.location)){let e=hi(t.location).origin;if(window.location.origin!==e)return void(s?window.location.replace(t.location):window.location.assign(t.location))}p=null;let l=!0===s?Wr.Replace:Wr.Push,{formMethod:u,formAction:c,formEncType:h,formData:f}=e.navigation;!i&&u&&c&&f&&h&&(i={formMethod:u,formAction:c,formEncType:h,formData:f}),Yi.has(t.status)&&i&&fs(i.formMethod)?await R(l,o,{submission:oi({},i,{formAction:t.location})}):await R(l,o,{overrideNavigation:{state:"loading",location:o,formMethod:i?i.formMethod:void 0,formAction:i?i.formAction:void 0,formEncType:i?i.formEncType:void 0,formData:i?i.formData:void 0}})}async function T(e,t,n,r,i){let s=await Promise.all([...n.map((e=>es("loader",i,e,t,c.basename))),...r.map((e=>{let[,t,n,r]=e;return es("loader",ts(t,i.signal),n,r,c.basename)}))]),a=s.slice(0,n.length),o=s.slice(n.length);return await Promise.all([ds(e,n,a,i.signal,!1,f.loaderData),ds(e,r.map((e=>{let[,,t]=e;return t})),o,i.signal,!0)]),{results:s,loaderResults:a,fetcherResults:o}}function F(){y=!0,v.push(...H()),S.forEach(((e,t)=>{k.has(t)&&(b.push(t),j(t))}))}function M(e,t,n){let r=ss(f.matches,t);N(e),D({errors:{[r.route.id]:n},fetchers:new Map(f.fetchers)})}function N(e){k.has(e)&&j(e),S.delete(e),_.delete(e),E.delete(e),f.fetchers.delete(e)}function j(e){let t=k.get(e);li(t,"Expected fetch controller: "+e),t.abort(),k.delete(e)}function I(e){for(let t of e){let e={state:"idle",data:O(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(t,e)}}function B(e){let t=[];for(let[n,r]of _)if(r<e){let e=f.fetchers.get(n);li(e,"Expected fetcher: "+n),"loading"===e.state&&(j(n),_.delete(n),t.push(n))}return I(t),t.length>0}function H(e){let t=[];return A.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),A.delete(r))})),t}function L(e,t){if(i&&s&&a){let n=t.map((e=>ys(e,f.loaderData))),r=s(e,n)||e.key,a=i[r];if("number"==typeof a)return a}return null}return c={get basename(){return e.basename},get state(){return f},get routes(){return t},initialize:function(){return n=e.history.listen((e=>{let{action:t,location:n}=e;return R(t,n)})),f.initialized||R(Wr.Pop,f.location),c},subscribe:function(e){return r.add(e),()=>r.delete(e)},enableScrollRestoration:function(e,t,n){if(i=e,a=t,s=n||(e=>e.key),!o&&f.navigation===$i){o=!0;let e=L(f.location,f.matches);null!=e&&D({restoreScrollPosition:e})}return()=>{i=null,a=null,s=null}},navigate:async function(t,n){if("number"==typeof t)return void e.history.go(t);let{path:r,submission:i,error:s}=Ji(t,n),a=ui(f.location,r,n&&n.state);a=oi({},a,e.history.encodeLocation(a));let o=n&&null!=n.replace?n.replace:void 0,l=Wr.Push;!0===o?l=Wr.Replace:!1===o||null!=i&&fs(i.formMethod)&&i.formAction===f.location.pathname+f.location.search&&(l=Wr.Replace);let u=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0;return await R(l,a,{submission:i,pendingError:s,preventScrollReset:u,replace:n&&n.replace})},fetch:function(n,r,i,s){if(Gi)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(n)&&j(n);let a=di(t,i,e.basename);if(!a)return void M(n,r,os(404,{pathname:i}));let{path:o,submission:l}=Ji(i,s,!0),u=vs(a,o);l&&fs(l.formMethod)?async function(n,r,i,s,a,o){if(F(),S.delete(n),!s.route.action){let e=os(405,{method:o.formMethod,pathname:i,routeId:r});return void M(n,r,e)}let l=f.fetchers.get(n),u=oi({state:"submitting"},o,{data:l&&l.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(n,u),D({fetchers:new Map(f.fetchers)});let h=new AbortController,m=ts(i,h.signal,o);k.set(n,h);let g=await es("action",m,s,a,c.basename);if(m.signal.aborted)return void(k.get(n)===h&&k.delete(n));if(hs(g)){k.delete(n),E.add(n);let e=oi({state:"loading"},o,{data:void 0," _hasFetcherDoneAnything ":!0});return f.fetchers.set(n,e),D({fetchers:new Map(f.fetchers)}),C(f,g,{isFetchActionRedirect:!0})}if(ps(g))return void M(n,r,g.error);cs(g)&&li(!1,"defer() is not supported in actions");let R=f.navigation.location||f.location,O=ts(R,h.signal),N="idle"!==f.navigation.state?di(t,f.navigation.location,e.basename):f.matches;li(N,"Didn't find any matches after fetcher action");let j=++w;_.set(n,j);let I=oi({state:"loading",data:g.data},o,{" _hasFetcherDoneAnything ":!0});f.fetchers.set(n,I);let[H,L]=Qi(f,N,o,R,y,v,b,{[s.route.id]:g.data},void 0,S);L.filter((e=>{let[t]=e;return t!==n})).forEach((e=>{let[t]=e,n=f.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(t,r),k.set(t,h)})),D({fetchers:new Map(f.fetchers)});let{results:q,loaderResults:z,fetcherResults:U}=await T(f.matches,N,H,L,O);if(h.signal.aborted)return;_.delete(n),k.delete(n),L.forEach((e=>{let[t]=e;return k.delete(t)}));let V=ls(q);if(V)return C(f,V);let{loaderData:K,errors:Y}=rs(f,f.matches,H,z,void 0,L,U,A),$={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(n,$);let W=B(j);"loading"===f.navigation.state&&j>x?(li(d,"Expected pending action"),p&&p.abort(),P(f.navigation.location,{matches:N,loaderData:K,errors:Y,fetchers:new Map(f.fetchers)})):(D(oi({errors:Y,loaderData:is(f.loaderData,K,N,Y)},W?{fetchers:new Map(f.fetchers)}:{})),y=!1)}(n,r,o,u,a,l):(S.set(n,[o,u,a]),async function(e,t,n,r,i,s){let a=f.fetchers.get(e),o=oi({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s,{data:a&&a.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(e,o),D({fetchers:new Map(f.fetchers)});let l=new AbortController,u=ts(n,l.signal);k.set(e,l);let p=await es("loader",u,r,i,c.basename);if(cs(p)&&(p=await ms(p,u.signal,!0)||p),k.get(e)===l&&k.delete(e),u.signal.aborted)return;if(hs(p))return void await C(f,p);if(ps(p)){let n=ss(f.matches,t);return f.fetchers.delete(e),void D({fetchers:new Map(f.fetchers),errors:{[n.route.id]:p.error}})}li(!cs(p),"Unhandled fetcher deferred data");let h={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(e,h),D({fetchers:new Map(f.fetchers)})}(n,r,o,u,a,l))},revalidate:function(){F(),D({revalidation:"loading"}),"submitting"!==f.navigation.state&&("idle"!==f.navigation.state?R(d||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation}):R(f.historyAction,f.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:O,deleteFetcher:N,dispose:function(){n&&n(),r.clear(),p&&p.abort(),f.fetchers.forEach(((e,t)=>N(t)))},_internalFetchControllers:k,_internalActiveDeferreds:A},c}({basename:null==(Xk={initialEntries:["/splash"]})?void 0:Xk.basename,history:function(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:i=!1}=e;t=n.map(((e,t)=>c(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let s=l(null==r?t.length-1:r),a=Wr.Pop,o=null;function l(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[s]}function c(e,n,r){void 0===n&&(n=null);let i=ui(t?u().pathname:"/",e,n,r);return function(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}return{get index(){return s},get action(){return a},get location(){return u()},createHref:e=>"string"==typeof e?e:ci(e),encodeLocation(e){let t="string"==typeof e?pi(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){a=Wr.Push;let r=c(e,n);s+=1,t.splice(s,t.length,r),i&&o&&o({action:a,location:r})},replace(e,n){a=Wr.Replace;let r=c(e,n);t[s]=r,i&&o&&o({action:a,location:r})},go(e){a=Wr.Pop,s=l(s+e),o&&o({action:a,location:u()})},listen:e=>(o=e,()=>{o=null})}}({initialEntries:null==Xk?void 0:Xk.initialEntries,initialIndex:null==Xk?void 0:Xk.initialIndex}),hydrationData:null==Xk?void 0:Xk.hydrationData,routes:function e(t){return t.map((t=>{let n=bs({},t);return null==n.hasErrorBoundary&&(n.hasErrorBoundary=null!=n.errorElement),n.children&&(n.children=e(n.children)),n}))}(Qk)}).initialize());var Qk,Xk,Zk;let ew=ai(Zk=class extends t.Component{render(){return t.createElement(zs,{router:Jk})}})||Zk;var tw=i(6626),nw={};nw.styleTagTransform=aa(),nw.setAttributes=na(),nw.insert=ea().bind(null,"head"),nw.domAPI=Xs(),nw.insertStyleElement=ia(),Js()(tw.A,nw);const rw=tw.A&&tw.A.locals?tw.A.locals:void 0,iw=document.createElement("div");iw.className=rw.root,document.body.appendChild(iw),(0,e.render)(t.createElement(ew,null),iw)})()})();